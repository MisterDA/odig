<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Job (async_interactive.Async_interactive.Job)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">async_interactive</a> &#x00BB; <a href="../index.html">Async_interactive</a> &#x00BB; Job</nav><h1>Module <code>Async_interactive.Job</code></h1></header><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : f:(unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async.Deferred.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'r</span>, unit, string, <span class="type-var">'a</span> <a href="../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async.Deferred.t</a>) <a href="../../../core/Core/index.html#type-format4">Core.format4</a> <span>&#45;&gt;</span> <span class="type-var">'r</span></code></dt><dd><p>This module allows you to have messages printed when you start and finish jobs without having a bad interaction in case of interleaved jobs run in parallel.</p><p>Example of code:</p><pre><code class="ml">Interactive.Job.run !&quot;starting doing stuff A in process %{Pid}&quot; pid
  ~f:(fun () -&gt; do_stuff_A ())
&gt;&gt;= fun () -&gt;</code></pre><p>Example of output:</p><p>1 process:</p><pre><code class="ml">starting doing stuff A in process 1234 ... done.</code></pre><p>Multiple processes:</p><pre><code class="ml">starting doing stuff A in process 1234 ...
starting doing stuff A in process 4321 ...
all done.
starting doing stuff A in process 5678 ... done.</code></pre></dd></dl></div></body></html>