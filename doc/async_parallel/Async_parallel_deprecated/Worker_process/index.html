<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Worker_process (async_parallel.Async_parallel_deprecated.Worker_process)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">async_parallel</a> &#x00BB; <a href="../index.html">Async_parallel_deprecated</a> &#x00BB; Worker_process</nav><h1>Module <code>Async_parallel_deprecated.Worker_process</code></h1></header><aside><p>This interface is not intended to be used directly by users!</p><p>The master process forks a worker process for each task that Parallel is asked to do. After forking, in the worker process, the master calls <code>Worker_process.run</code>, which:</p><p>1. accepts a single connection from its <code>control_socket</code>. 2. reads a single marshaled <code>To_worker.Run f</code> message over the connection. 3. creates a hub with <code>control_socket</code> and supplies it to <code>f</code>. 4. when <code>f</code> returns, writes a single <code>From_worker</code> message with the result over the <code>control_socket</code> connection. 5. exits.</p></aside><div class="spec module" id="module-To_worker"><a href="#module-To_worker" class="anchor"></a><code><span class="keyword">module</span> <a href="To_worker/index.html">To_worker</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-From_worker"><a href="#module-From_worker" class="anchor"></a><code><span class="keyword">module</span> <a href="From_worker/index.html">From_worker</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : control_socket:([ `Passive ], <a href="../../../async_unix/Async_unix__Unix_syscalls/Socket/Address/Inet/index.html#type-t">Async.Socket.Address.Inet.t</a>) <a href="../../../async_unix/Async_unix__Unix_syscalls/Socket/index.html#type-t">Async.Socket.t</a> <span>&#45;&gt;</span> <a href="../../../core/Core/index.html#type-never_returns">Core.never_returns</a></code></dt></dl></div></body></html>