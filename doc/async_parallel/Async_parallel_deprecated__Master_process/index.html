<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Async_parallel_deprecated__Master_process (async_parallel.Async_parallel_deprecated__Master_process)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">async_parallel</a> &#x00BB; Async_parallel_deprecated__Master_process</nav><h1>Module <code>Async_parallel_deprecated__Master_process</code></h1></header><dl><dt class="spec exception" id="exception-Error_initializing_worker_machine"><a href="#exception-Error_initializing_worker_machine" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Error_initializing_worker_machine</span> <span class="keyword">of</span> string * exn</code></dt></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary></details></div></div></div><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : ?&#8288;cluster:<a href="../Async_parallel_deprecated/Import/Cluster/index.html#type-t">Async_parallel_deprecated.Import.Cluster.t</a> <span>&#45;&gt;</span> ?&#8288;close_stdout_and_stderr:bool <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="../../core_kernel/Core_kernel/Pid/index.html#type-t">Core.Pid.t</a></code></dt><dd><p><code>init</code> initializes the system and creates the master process. <code>master_init</code>, if specified, is called in the master process and may be used for cleanup/initialization such as closing file descriptors. <code>init</code> should be called before any threads are created. If your program daemonizes, call <code>init</code> after you daemonize, but before you start the async scheduler. <code>init</code> may only be called once.</p><p>If <code>cluster</code> is specified, and it specifies a set of host names or ips that you can ssh to without a password, and have permission to run programs on, then a master process will also be started on these machines, and you will be able to spawn worker processes on these machines. The current machine is implicitly included in the set of available machines.</p></dd></dl><aside><p>All the functions below are called in either the main process or a worker process.</p></aside><dl><dt class="spec value" id="val-create_process"><a href="#val-create_process" class="anchor"></a><code><span class="keyword">val</span> create_process : ?&#8288;where:[ `Local | `On of string | `F of unit <span>&#45;&gt;</span> string ] <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> (<a href="../../async_unix/Async_unix__Unix_syscalls/Inet_addr/index.html#type-t">Async.Unix.Inet_addr.t</a> * int) <a href="../../core_kernel/Core_kernel/Or_error/index.html#type-t">Core.Or_error.t</a> <a href="../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async.Deferred.t</a></code></dt><dd><p>Request a new process. Returns the ip/port where the new process may be reached. If specified <code>where</code> determines which machine the process will be spawned on, the default is `Local (the current machine).</p></dd></dl><dl><dt class="spec value" id="val-shutdown"><a href="#val-shutdown" class="anchor"></a><code><span class="keyword">val</span> shutdown : unit <span>&#45;&gt;</span> unit <a href="../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async.Deferred.t</a></code></dt><dd><p>Tell the master process to shutdown.</p></dd></dl><dl><dt class="spec value" id="val-round_robin"><a href="#val-round_robin" class="anchor"></a><code><span class="keyword">val</span> round_robin : [&gt; `F of unit <span>&#45;&gt;</span> string ]</code></dt><dt class="spec value" id="val-random"><a href="#val-random" class="anchor"></a><code><span class="keyword">val</span> random : [&gt; `F of unit <span>&#45;&gt;</span> string ]</code></dt><dt class="spec value" id="val-random_in"><a href="#val-random_in" class="anchor"></a><code><span class="keyword">val</span> random_in : string list <span>&#45;&gt;</span> [&gt; `F of unit <span>&#45;&gt;</span> string ]</code></dt></dl></div></body></html>