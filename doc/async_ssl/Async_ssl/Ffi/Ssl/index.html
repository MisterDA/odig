<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ssl (async_ssl.Async_ssl.Ffi.Ssl)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">async_ssl</a> &#x00BB; <a href="../../index.html">Async_ssl</a> &#x00BB; <a href="../index.html">Ffi</a> &#x00BB; Ssl</nav><h1>Module <code>Ffi.Ssl</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span class="keyword">val</span> sexp_of_t : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-create_exn"><a href="#val-create_exn" class="anchor"></a><code><span class="keyword">val</span> create_exn : <a href="../Ssl_ctx/index.html#type-t">Ssl_ctx.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Creates a new SSL connection, with a memory-backed BIO.</p></dd></dl><dl><dt class="spec value" id="val-set_method"><a href="#val-set_method" class="anchor"></a><code><span class="keyword">val</span> set_method : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Version/index.html#type-t">Version.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Sets a different crypto method for this particular ssl connection.</p></dd></dl><dl><dt class="spec value" id="val-set_initial_state"><a href="#val-set_initial_state" class="anchor"></a><code><span class="keyword">val</span> set_initial_state : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `Connect | `Accept ] <span>&#45;&gt;</span> unit</code></dt><dd><p>Prepare the ssl connection for an initial handshake - either as a server (<code>`Accept</code>) or as a client (<code>`Connect</code>).</p></dd></dl><dl><dt class="spec value" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span class="keyword">val</span> connect : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (unit, <a href="../Ssl_error/index.html#type-t">Ssl_error.t</a>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core.Result.t</a></code></dt><dt class="spec value" id="val-accept"><a href="#val-accept" class="anchor"></a><code><span class="keyword">val</span> accept : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (unit, <a href="../Ssl_error/index.html#type-t">Ssl_error.t</a>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core.Result.t</a></code></dt><dt class="spec value" id="val-set_bio"><a href="#val-set_bio" class="anchor"></a><code><span class="keyword">val</span> set_bio : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> input:<a href="../Bio/index.html#type-t">Bio.t</a> <span>&#45;&gt;</span> output:<a href="../Bio/index.html#type-t">Bio.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the binary IO buffers associated with an SSL connection.</p></dd></dl><dl><dt class="spec value" id="val-read"><a href="#val-read" class="anchor"></a><code><span class="keyword">val</span> read : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> buf:char <a href="../../../../ctypes/Ctypes/index.html#type-ptr">Ctypes.ptr</a> <span>&#45;&gt;</span> len:int <span>&#45;&gt;</span> (int, <a href="../Ssl_error/index.html#type-t">Ssl_error.t</a>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core.Result.t</a></code></dt><dd><p>Read from the SSL application side.</p></dd></dl><dl><dt class="spec value" id="val-write"><a href="#val-write" class="anchor"></a><code><span class="keyword">val</span> write : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> buf:string <span>&#45;&gt;</span> len:int <span>&#45;&gt;</span> (int, <a href="../Ssl_error/index.html#type-t">Ssl_error.t</a>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core.Result.t</a></code></dt><dd><p>Write to the SSL application side.</p></dd></dl><dl><dt class="spec value" id="val-use_certificate_file"><a href="#val-use_certificate_file" class="anchor"></a><code><span class="keyword">val</span> use_certificate_file : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> crt:string <span>&#45;&gt;</span> file_type:[ `PEM | `ASN1 ] <span>&#45;&gt;</span> (unit, string list) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core.Result.t</a> <a href="../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async.Deferred.t</a></code></dt><dd><p>Use a certificate file, signed by a CA (or self-signed if you prefer) to validate you are who you say you are. The file will generally end in <code>.crt</code>.</p><p>The 'type' is the encoding of your certificate file. You should know this!</p></dd></dl><dl><dt class="spec value" id="val-use_private_key_file"><a href="#val-use_private_key_file" class="anchor"></a><code><span class="keyword">val</span> use_private_key_file : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> key:string <span>&#45;&gt;</span> file_type:[ `PEM | `ASN1 ] <span>&#45;&gt;</span> (unit, string list) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core.Result.t</a> <a href="../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async.Deferred.t</a></code></dt><dd><p>For servers, use a private key <code>key</code> for securing communications.</p><p>&gt; openssl genrsa -out server.key 4096 # generates a key called server.key</p><p>The file will generally end in <code>.key</code>.</p><p>The 'type' is the encoding of your certificate file. You should know this!</p></dd></dl><dl><dt class="spec value" id="val-check_private_key"><a href="#val-check_private_key" class="anchor"></a><code><span class="keyword">val</span> check_private_key : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <a href="../../../../core_kernel/Core_kernel/Or_error/index.html#type-t">Core.Or_error.t</a></code></dt><dt class="spec value" id="val-set_verify"><a href="#val-set_verify" class="anchor"></a><code><span class="keyword">val</span> set_verify : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Verify_mode/index.html#type-t">Verify_mode.t</a> list <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_peer_certificate"><a href="#val-get_peer_certificate" class="anchor"></a><code><span class="keyword">val</span> get_peer_certificate : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../X509/index.html#type-t">X509.t</a> option</code></dt><dt class="spec value" id="val-get_verify_result"><a href="#val-get_verify_result" class="anchor"></a><code><span class="keyword">val</span> get_verify_result : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <a href="../../../../core_kernel/Core_kernel/Or_error/index.html#type-t">Core.Or_error.t</a></code></dt><dt class="spec value" id="val-get_version"><a href="#val-get_version" class="anchor"></a><code><span class="keyword">val</span> get_version : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Version/index.html#type-t">Version.t</a></code></dt><dt class="spec value" id="val-session_reused"><a href="#val-session_reused" class="anchor"></a><code><span class="keyword">val</span> session_reused : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-set_session"><a href="#val-set_session" class="anchor"></a><code><span class="keyword">val</span> set_session : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Ssl_session/index.html#type-t">Ssl_session.t</a> <span>&#45;&gt;</span> unit <a href="../../../../core_kernel/Core_kernel/Or_error/index.html#type-t">Core.Or_error.t</a></code></dt><dt class="spec value" id="val-get1_session"><a href="#val-get1_session" class="anchor"></a><code><span class="keyword">val</span> get1_session : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Ssl_session/index.html#type-t">Ssl_session.t</a> option</code></dt><dt class="spec value" id="val-set_tlsext_host_name"><a href="#val-set_tlsext_host_name" class="anchor"></a><code><span class="keyword">val</span> set_tlsext_host_name : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../../../core_kernel/Core_kernel/Or_error/index.html#type-t">Core.Or_error.t</a></code></dt></dl><aside><p>Set the list of available ciphers for client or server connections. This is really <code>SSL_set_cipher_list t (String.concat ~sep:&quot;:&quot; (&quot;-ALL&quot; ::  ciphers))</code>.</p></aside><dl><dt class="spec value" id="val-set_cipher_list_exn"><a href="#val-set_cipher_list_exn" class="anchor"></a><code><span class="keyword">val</span> set_cipher_list_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string list <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_tmp_dh_callback"><a href="#val-set_tmp_dh_callback" class="anchor"></a><code><span class="keyword">val</span> set_tmp_dh_callback : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(is_export:bool <span>&#45;&gt;</span> key_length:int <span>&#45;&gt;</span> <a href="../Dh/index.html#type-t">Dh.t</a>) <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_tmp_ecdh"><a href="#val-set_tmp_ecdh" class="anchor"></a><code><span class="keyword">val</span> set_tmp_ecdh : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Ec_key/index.html#type-t">Ec_key.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_tmp_rsa_callback"><a href="#val-set_tmp_rsa_callback" class="anchor"></a><code><span class="keyword">val</span> set_tmp_rsa_callback : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(is_export:bool <span>&#45;&gt;</span> key_length:int <span>&#45;&gt;</span> <a href="../Rsa/index.html#type-t">Rsa.t</a>) <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_cipher_list"><a href="#val-get_cipher_list" class="anchor"></a><code><span class="keyword">val</span> get_cipher_list : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string list</code></dt></dl></div></body></html>