<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Scheduler (async_unix.Async_unix__.Require_explicit_time_source_intf.Require_explicit_time_source.Scheduler)</title><link rel="stylesheet" href="../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../../index.html">async_unix</a> &#x00BB; <a href="../../../index.html">Async_unix__</a> &#x00BB; <a href="../../index.html">Require_explicit_time_source_intf</a> &#x00BB; <a href="../index.html">Require_explicit_time_source</a> &#x00BB; Scheduler</nav><h1>Module <code>Require_explicit_time_source.Scheduler</code></h1></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../../../Raw_scheduler/index.html#type-t">Async_unix__.Raw_scheduler.t</a></code></dt></dl><dl><dt class="spec value" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span class="keyword">val</span> sexp_of_t : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a></code></dt><dt class="spec value" id="val-t"><a href="#val-t" class="anchor"></a><code><span class="keyword">val</span> t : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-max_num_open_file_descrs"><a href="#val-max_num_open_file_descrs" class="anchor"></a><code><span class="keyword">val</span> max_num_open_file_descrs : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-max_num_threads"><a href="#val-max_num_threads" class="anchor"></a><code><span class="keyword">val</span> max_num_threads : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-go"><a href="#val-go" class="anchor"></a><code><span class="keyword">val</span> go : ?&#8288;raise_unhandled_exn:bool <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="../../../../../core/Core/index.html#type-never_returns">Core.never_returns</a></code></dt><dt class="spec value" id="val-go_main"><a href="#val-go_main" class="anchor"></a><code><span class="keyword">val</span> go_main : ?&#8288;raise_unhandled_exn:bool <span>&#45;&gt;</span> ?&#8288;file_descr_watcher:<a href="../../../../../async_kernel/Async_kernel__Async_kernel_config/File_descr_watcher/index.html#type-t">Async_unix__.Config.File_descr_watcher.t</a> <span>&#45;&gt;</span> ?&#8288;max_num_open_file_descrs:int <span>&#45;&gt;</span> ?&#8288;max_num_threads:int <span>&#45;&gt;</span> main:(unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="../../../../../core/Core/index.html#type-never_returns">Core.never_returns</a></code></dt></dl><dl><dt class="spec type" id="type-with_options"><a href="#type-with_options" class="anchor"></a><code><span class="keyword">type</span> 'a with_options</code><code> = ?&#8288;monitor:<a href="../../../../../async_kernel/Async_kernel/Monitor/index.html#type-t">Async_unix__.Import.Monitor.t</a> <span>&#45;&gt;</span> ?&#8288;priority:<a href="../../../../../async_kernel/Async_kernel/Priority/index.html#type-t">Async_unix__.Import.Priority.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><dl><dt class="spec value" id="val-current_execution_context"><a href="#val-current_execution_context" class="anchor"></a><code><span class="keyword">val</span> current_execution_context : unit <span>&#45;&gt;</span> <a href="../../../../../async_kernel/Async_kernel/Execution_context/index.html#type-t">Async_unix__.Import.Execution_context.t</a></code></dt><dt class="spec value" id="val-within_context"><a href="#val-within_context" class="anchor"></a><code><span class="keyword">val</span> within_context : <a href="../../../../../async_kernel/Async_kernel/Execution_context/index.html#type-t">Async_unix__.Import.Execution_context.t</a> <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit) <a href="../../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core.Result.t</a></code></dt><dt class="spec value" id="val-within'"><a href="#val-within'" class="anchor"></a><code><span class="keyword">val</span> within' : ((unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a>) <a href="index.html#type-with_options">with_options</a></code></dt><dt class="spec value" id="val-within"><a href="#val-within" class="anchor"></a><code><span class="keyword">val</span> within : ((unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit) <a href="index.html#type-with_options">with_options</a></code></dt><dt class="spec value" id="val-within_v"><a href="#val-within_v" class="anchor"></a><code><span class="keyword">val</span> within_v : ((unit <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> option) <a href="index.html#type-with_options">with_options</a></code></dt><dt class="spec value" id="val-with_local"><a href="#val-with_local" class="anchor"></a><code><span class="keyword">val</span> with_local : <span class="type-var">'a</span> <a href="../../../../../core_kernel/Core_kernel__Type_equal/Id/index.html#type-t">Core.Univ_map.Key.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option <span>&#45;&gt;</span> f:(unit <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-find_local"><a href="#val-find_local" class="anchor"></a><code><span class="keyword">val</span> find_local : <span class="type-var">'a</span> <a href="../../../../../core_kernel/Core_kernel__Type_equal/Id/index.html#type-t">Core.Univ_map.Key.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dt class="spec value" id="val-schedule'"><a href="#val-schedule'" class="anchor"></a><code><span class="keyword">val</span> schedule' : ((unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a>) <a href="index.html#type-with_options">with_options</a></code></dt><dt class="spec value" id="val-schedule"><a href="#val-schedule" class="anchor"></a><code><span class="keyword">val</span> schedule : ((unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit) <a href="index.html#type-with_options">with_options</a></code></dt><dt class="spec value" id="val-preserve_execution_context"><a href="#val-preserve_execution_context" class="anchor"></a><code><span class="keyword">val</span> preserve_execution_context : (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <a href="../../../../../base/Base/Staged/index.html#type-t">Core.Staged.t</a></code></dt><dt class="spec value" id="val-preserve_execution_context'"><a href="#val-preserve_execution_context'" class="anchor"></a><code><span class="keyword">val</span> preserve_execution_context' : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a>) <a href="../../../../../base/Base/Staged/index.html#type-t">Core.Staged.t</a></code></dt><dt class="spec value" id="val-cycle_start"><a href="#val-cycle_start" class="anchor"></a><code><span class="keyword">val</span> cycle_start : unit <span>&#45;&gt;</span> <a href="../../../../../core/Core__/Core_time_float/index.html#type-t">Core.Time.t</a></code></dt><dt class="spec value" id="val-cycle_start_ns"><a href="#val-cycle_start_ns" class="anchor"></a><code><span class="keyword">val</span> cycle_start_ns : unit <span>&#45;&gt;</span> <a href="../../../../../core/Core__/Core_time_ns/index.html#type-t">Core.Time_ns.t</a></code></dt><dt class="spec value" id="val-cycle_times"><a href="#val-cycle_times" class="anchor"></a><code><span class="keyword">val</span> cycle_times : unit <span>&#45;&gt;</span> <a href="../../../../../core_kernel/Core_kernel__Time_intf/module-type-S/Time/Span/index.html#type-t">Core.Time.Span.t</a> <a href="../../../../../async_kernel/Async_kernel__/Async_stream/index.html#type-t">Async_unix__.Import.Stream.t</a></code></dt><dt class="spec value" id="val-cycle_times_ns"><a href="#val-cycle_times_ns" class="anchor"></a><code><span class="keyword">val</span> cycle_times_ns : unit <span>&#45;&gt;</span> <a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a> <a href="../../../../../async_kernel/Async_kernel__/Async_stream/index.html#type-t">Async_unix__.Import.Stream.t</a></code></dt><dt class="spec value" id="val-long_cycles"><a href="#val-long_cycles" class="anchor"></a><code><span class="keyword">val</span> long_cycles : at_least:<a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a> <span>&#45;&gt;</span> <a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a> <a href="../../../../../async_kernel/Async_kernel__/Async_stream/index.html#type-t">Async_unix__.Import.Stream.t</a></code></dt><dt class="spec value" id="val-report_long_cycle_times"><a href="#val-report_long_cycle_times" class="anchor"></a><code><span class="keyword">val</span> report_long_cycle_times : ?&#8288;cutoff:<a href="../../../../../core_kernel/Core_kernel__Time_intf/module-type-S/Time/Span/index.html#type-t">Core.Time.Span.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-cycle_count"><a href="#val-cycle_count" class="anchor"></a><code><span class="keyword">val</span> cycle_count : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-event_precision"><a href="#val-event_precision" class="anchor"></a><code><span class="keyword">val</span> event_precision : unit <span>&#45;&gt;</span> <a href="../../../../../core_kernel/Core_kernel__Time_intf/module-type-S/Time/Span/index.html#type-t">Core.Time.Span.t</a></code></dt><dt class="spec value" id="val-event_precision_ns"><a href="#val-event_precision_ns" class="anchor"></a><code><span class="keyword">val</span> event_precision_ns : unit <span>&#45;&gt;</span> <a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a></code></dt><dt class="spec value" id="val-force_current_cycle_to_end"><a href="#val-force_current_cycle_to_end" class="anchor"></a><code><span class="keyword">val</span> force_current_cycle_to_end : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-is_running"><a href="#val-is_running" class="anchor"></a><code><span class="keyword">val</span> is_running : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-set_max_num_jobs_per_priority_per_cycle"><a href="#val-set_max_num_jobs_per_priority_per_cycle" class="anchor"></a><code><span class="keyword">val</span> set_max_num_jobs_per_priority_per_cycle : int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-max_num_jobs_per_priority_per_cycle"><a href="#val-max_num_jobs_per_priority_per_cycle" class="anchor"></a><code><span class="keyword">val</span> max_num_jobs_per_priority_per_cycle : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-set_max_inter_cycle_timeout"><a href="#val-set_max_inter_cycle_timeout" class="anchor"></a><code><span class="keyword">val</span> set_max_inter_cycle_timeout : <a href="../../../../../core_kernel/Core_kernel__Time_intf/module-type-S/Time/Span/index.html#type-t">Core.Time.Span.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_check_invariants"><a href="#val-set_check_invariants" class="anchor"></a><code><span class="keyword">val</span> set_check_invariants : bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_detect_invalid_access_from_thread"><a href="#val-set_detect_invalid_access_from_thread" class="anchor"></a><code><span class="keyword">val</span> set_detect_invalid_access_from_thread : bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_record_backtraces"><a href="#val-set_record_backtraces" class="anchor"></a><code><span class="keyword">val</span> set_record_backtraces : bool <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-folder"><a href="#type-folder" class="anchor"></a><code><span class="keyword">type</span> 'b folder</code><code> = <span class="type-var">'b</span> <a href="../../../../Async_unix__Scheduler/index.html#type-folder">Async_unix__Scheduler.folder</a></code><code> = </code><code>{</code><table class="record"><tr id="type-folder.folder" class="anchored"><td class="def field"><a href="#type-folder.folder" class="anchor"></a><code>folder : a. <span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="index.html#type-t">t</a>, <span class="type-var">'a</span>) <a href="../../../../../base/Base/Field/index.html#type-t">Core.Field.t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-fold_fields"><a href="#val-fold_fields" class="anchor"></a><code><span class="keyword">val</span> fold_fields : init:<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-folder">folder</a> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-is_ready_to_initialize"><a href="#val-is_ready_to_initialize" class="anchor"></a><code><span class="keyword">val</span> is_ready_to_initialize : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-reset_in_forked_process"><a href="#val-reset_in_forked_process" class="anchor"></a><code><span class="keyword">val</span> reset_in_forked_process : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-make_async_unusable"><a href="#val-make_async_unusable" class="anchor"></a><code><span class="keyword">val</span> make_async_unusable : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-add_busy_poller"><a href="#val-add_busy_poller" class="anchor"></a><code><span class="keyword">val</span> add_busy_poller : (unit <span>&#45;&gt;</span> [ `Continue_polling | `Stop_polling of <span class="type-var">'a</span> ]) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a></code></dt><dt class="spec value" id="val-handle_thread_pool_stuck"><a href="#val-handle_thread_pool_stuck" class="anchor"></a><code><span class="keyword">val</span> handle_thread_pool_stuck : (stuck_for:<a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-default_handle_thread_pool_stuck"><a href="#val-default_handle_thread_pool_stuck" class="anchor"></a><code><span class="keyword">val</span> default_handle_thread_pool_stuck : stuck_for:<a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-yield"><a href="#val-yield" class="anchor"></a><code><span class="keyword">val</span> yield : unit <span>&#45;&gt;</span> unit <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a></code></dt><dt class="spec value" id="val-yield_until_no_jobs_remain"><a href="#val-yield_until_no_jobs_remain" class="anchor"></a><code><span class="keyword">val</span> yield_until_no_jobs_remain : unit <span>&#45;&gt;</span> unit <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a></code></dt><dt class="spec value" id="val-yield_every"><a href="#val-yield_every" class="anchor"></a><code><span class="keyword">val</span> yield_every : n:int <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> unit <a href="../../../../../async_kernel/Async_kernel/Deferred/index.html#type-t">Async_unix__.Import.Deferred.t</a>) <a href="../../../../../base/Base/Staged/index.html#type-t">Core.Staged.t</a></code></dt><dt class="spec value" id="val-time_spent_waiting_for_io"><a href="#val-time_spent_waiting_for_io" class="anchor"></a><code><span class="keyword">val</span> time_spent_waiting_for_io : unit <span>&#45;&gt;</span> <a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a></code></dt><dt class="spec value" id="val-set_min_inter_cycle_timeout"><a href="#val-set_min_inter_cycle_timeout" class="anchor"></a><code><span class="keyword">val</span> set_min_inter_cycle_timeout : <a href="../../../../../core/Core__Core_time_ns/Span/index.html#type-t">Core.Time_ns.Span.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_may_sleep_for_thread_fairness"><a href="#val-set_may_sleep_for_thread_fairness" class="anchor"></a><code><span class="keyword">val</span> set_may_sleep_for_thread_fairness : bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-num_jobs_run"><a href="#val-num_jobs_run" class="anchor"></a><code><span class="keyword">val</span> num_jobs_run : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-num_pending_jobs"><a href="#val-num_pending_jobs" class="anchor"></a><code><span class="keyword">val</span> num_pending_jobs : unit <span>&#45;&gt;</span> int</code></dt></dl><div class="spec module" id="module-Expert"><a href="#module-Expert" class="anchor"></a><code><span class="keyword">module</span> <a href="Expert/index.html">Expert</a> = <a href="../../../../Async_unix__Scheduler/index.html#module-Expert">Async_unix__Scheduler.Expert</a></code></div></details></div></div></div><dl><dt class="spec value" id="val-cycle_start"><a href="#val-cycle_start" class="anchor"></a><code><span class="keyword">val</span> cycle_start : unit <span>&#45;&gt;</span> <a href="../../../../../core/Core__/Core_time_float/index.html#type-t">Core.Time.t</a></code></dt></dl></div></body></html>