<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatFingerTree (batteries.BatFingerTree)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">batteries</a> &#x00BB; BatFingerTree</nav><h1>Module <code>BatFingerTree</code></h1><p>This module implements a generic finger tree datastructure as described here: Finger Trees: A Simple General-purpose Data Structure http://www.soi.city.ac.uk/~ross/papers/FingerTree.pdf</p><p>The finger tree itself is polymorphic over the measure and the measurement function (this is needed because sometimes the type of the measure depends on the type of the elements).</p><p>This module also contains an instanciation of a finger tree that implements a functional sequence with the following characteristics:</p><ul><li>amortized constant time addition and deletions at both ends</li><li>contant time size operation</li><li>logarithmic lookup, update or deletion of the element at a given index</li><li>logarithmic splitting and concatenation</li></ul><p>If you are trying to understand the signature at first, whenever you see a type <code>(something, _, _) wrap</code>, just pretend it is simply the type <code>something</code> (this is what the documentation does).</p><p>Complexities are given assuming that the monoid combination operation and the measurement functions are constant time and space.</p><p>None of the functions on finger trees can cause stack overflow: they use at worst a logarithmic amount of stack space.</p></header><dl><dt class="spec type" id="type-monoid"><a href="#type-monoid" class="anchor"></a><code><span class="keyword">type </span>'a monoid</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-monoid.zero" class="anchored"><td class="def field"><a href="#type-monoid.zero" class="anchor"></a><code>zero : <span class="type-var">'a</span>;</code></td><td class="doc"><p>The neutral element of the monoid.</p></td></tr><tr id="type-monoid.combine" class="anchored"><td class="def field"><a href="#type-monoid.combine" class="anchor"></a><code>combine : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>;</code></td><td class="doc"><p><code>combine</code> should be associative, and have <code>zero</code> as neutral element.</p></td></tr></table><code>}</code></dt><dd><p>The type of the element of a monoid.</p></dd></dl><dl><dt class="spec exception" id="exception-Empty"><a href="#exception-Empty" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Empty</span></code></dt><dd><p>An exception that is thrown by various operations when trying to get a non existing element.</p></dd></dl><div class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Generic"><a href="#module-Generic" class="anchor"></a><code><span class="keyword">module </span><a href="Generic/index.html">Generic</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>'a t</code></dt></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><a href="index.html#module-type-S">S</a><span class="keyword"> with </span><span class="keyword">type </span>('wrapped_type, 'a, 'm) <a href="index.html#module-type-S">S</a>.wrap<span class="keyword"> = </span><span class="type-var">'wrapped_type</span><span class="keyword"> and </span><span class="keyword">type </span>('a, 'm) <a href="index.html#module-type-S">S</a>.fg<span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-fg"><a href="#type-fg" class="anchor"></a><code><span class="keyword">type </span>('a, 'm) fg</code><code><span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec type" id="type-wrap"><a href="#type-wrap" class="anchor"></a><code><span class="keyword">type </span>('wrapped_type, 'a, 'm) wrap</code><code><span class="keyword"> = </span><span class="type-var">'wrapped_type</span></code></dt></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val </span>empty : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a></code></dt><dd><p><code>empty</code> is the sequence with no elements.</p></dd></dl><dl><dt class="spec value" id="val-singleton"><a href="#val-singleton" class="anchor"></a><code><span class="keyword">val </span>singleton : <span class="type-var">'a</span> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a></code></dt><dd><p><code>singleton elt</code> build the sequence containing <code>elt</code> as its sole element.</p><p>O(1).</p></dd></dl><dl><dt class="spec value" id="val-cons"><a href="#val-cons" class="anchor"></a><code><span class="keyword">val </span>cons : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>cons t elt</code> adds <code>elt</code> to the left of <code>t</code>.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl><dl><dt class="spec value" id="val-snoc"><a href="#val-snoc" class="anchor"></a><code><span class="keyword">val </span>snoc : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>snoc t elt</code> adds <code>elt</code> to the right of <code>t</code>.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl><dl><dt class="spec value" id="val-front"><a href="#val-front" class="anchor"></a><code><span class="keyword">val </span>front : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a><span class="keyword"> * </span><span class="type-var">'a</span>) option, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>front t</code> returns <code>None</code> when <code>t</code> is empty, or <code>Some (tl, hd)</code> when <code>hd</code> is the first element of the sequence and <code>tl</code> is the rest of the sequence.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl><dl><dt class="spec value" id="val-front_exn"><a href="#val-front_exn" class="anchor"></a><code><span class="keyword">val </span>front_exn : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a><span class="keyword"> * </span><span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>front_exn t</code> returns <code>(tl, hd)</code> when <code>hd</code> is the first element of the sequence and <code>tl</code> is the rest of the sequence.</p><dl><dt>raises Empty</dt><dd><p>if <code>t</code> is empty.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-head"><a href="#val-head" class="anchor"></a><code><span class="keyword">val </span>head : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dd><p><code>head t</code> returns <code>None</code> if <code>t</code> is empty, or <code>Some hd</code> otherwise, where <code>hd</code> is the first element of the sequence.</p><p>O(1).</p></dd></dl><dl><dt class="spec value" id="val-head_exn"><a href="#val-head_exn" class="anchor"></a><code><span class="keyword">val </span>head_exn : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>head_exn t</code> returns the first element of the sequence.</p><dl><dt>raises Empty</dt><dd><p>if <code>t</code> is empty.</p><p>O(1).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-last"><a href="#val-last" class="anchor"></a><code><span class="keyword">val </span>last : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dd><p><code>last t</code> returns <code>None</code> if <code>t</code> is empty, or <code>Some hd</code> otherwise, where <code>hd</code> is the last element of the sequence.</p><p>O(1).</p></dd></dl><dl><dt class="spec value" id="val-last_exn"><a href="#val-last_exn" class="anchor"></a><code><span class="keyword">val </span>last_exn : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>last_exn t</code> returns the last element of the sequence.</p><dl><dt>raises Empty</dt><dd><p>if <code>t</code> is empty.</p><p>O(1).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-tail"><a href="#val-tail" class="anchor"></a><code><span class="keyword">val </span>tail : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> option, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>tail t</code> returns <code>None</code> when <code>t</code> is empty, or <code>Some tl</code> where <code>tl</code> is the sequence <code>t</code> where the first element has been removed.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl><dl><dt class="spec value" id="val-tail_exn"><a href="#val-tail_exn" class="anchor"></a><code><span class="keyword">val </span>tail_exn : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>tail_exn t</code> returns the sequence <code>t</code> where the first element has been removed.</p><dl><dt>raises Empty</dt><dd><p>if <code>t</code> is empty.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val </span>init : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> option, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>init t</code> returns <code>None</code> if <code>t</code> is empty, or <code>Some init</code> where <code>init</code> is the sequence <code>t</code> where the last element has been removed.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl><dl><dt class="spec value" id="val-init_exn"><a href="#val-init_exn" class="anchor"></a><code><span class="keyword">val </span>init_exn : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>init_exn t</code> returns the sequence <code>t</code> where the last element has been removed.</p><dl><dt>raises Empty</dt><dd><p>if <code>t</code> is empty.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-rear"><a href="#val-rear" class="anchor"></a><code><span class="keyword">val </span>rear : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a><span class="keyword"> * </span><span class="type-var">'a</span>) option, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>rear t</code> returns <code>None</code> when <code>t</code> is empty, or <code>Some (init, last)</code> where <code>last</code> is the last element of the sequence and <code>init</code> is the rest of the sequence.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl><dl><dt class="spec value" id="val-rear_exn"><a href="#val-rear_exn" class="anchor"></a><code><span class="keyword">val </span>rear_exn : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a><span class="keyword"> * </span><span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>rear_exn t</code> returns <code>(init, last)</code> when <code>last</code> is the last element of the sequence and <code>init</code> is the rest of the sequence.</p><dl><dt>raises Empty</dt><dd><p>if <code>t</code> is empty.</p><p>O(1) amortized, O(log(n)) worst case.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val </span>size : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>size t</code> returns the number of elements in the sequence. If you want to know that a sequence is empty, it is much better to use <a href="index.html#val-is_empty"><code>is_empty</code></a>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span class="keyword">val </span>is_empty : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_empty t</code> returns <code>true</code> when the sequence has no elements.</p><p>O(1).</p></dd></dl><dl><dt class="spec value" id="val-fold_left"><a href="#val-fold_left" class="anchor"></a><code><span class="keyword">val </span>fold_left : (<span class="type-var">'acc</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'acc</span>) <span>&#45;&gt;</span> <span class="type-var">'acc</span> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'acc</span></code></dt><dd><p><code>fold_left</code> is equivalent to <code>List.fold_left</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-fold_right"><a href="#val-fold_right" class="anchor"></a><code><span class="keyword">val </span>fold_right : (<span class="type-var">'acc</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'acc</span>) <span>&#45;&gt;</span> <span class="type-var">'acc</span> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'acc</span></code></dt><dd><p><code>fold_right</code> is equivalent to <code>List.fold_right</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val </span>iter : (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter</code> is equivalent to <code>List.iter</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-iter_right"><a href="#val-iter_right" class="anchor"></a><code><span class="keyword">val </span>iter_right : (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter_right</code> is equivalent to <code>List.iter o List.rev</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val </span>compare : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>compare cmp t1 t2</code> compares the two sequences lexicographically.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val </span>equal : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>equal eq t1 t2</code> returns <code>true</code> when the two sequences contain the the same elements.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-enum"><a href="#val-enum" class="anchor"></a><code><span class="keyword">val </span>enum : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> BatEnum.t</code></dt><dd><p><code>enum t</code> builds an enumeration of the elements of <code>t</code> going from left to right.</p><p>O(1).</p><p>Forcing the whole enumeration takes O(n).</p></dd></dl><dl><dt class="spec value" id="val-backwards"><a href="#val-backwards" class="anchor"></a><code><span class="keyword">val </span>backwards : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> BatEnum.t</code></dt><dd><p><code>backwards t</code> builds an enumeration of the elements of <code>t</code> going from right to left. Same complexity as <a href="index.html#val-enum"><code>enum</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span class="keyword">val </span>to_list : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list</code></dt><dd><p><code>to_list t</code> is equivalent to <code>BatList.of_enum (enum t)</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-to_list_backwards"><a href="#val-to_list_backwards" class="anchor"></a><code><span class="keyword">val </span>to_list_backwards : (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list</code></dt><dd><p><code>to_list_backwards t</code> is equivalent to <code>BatList.of_enum (backwards t)</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-of_enum"><a href="#val-of_enum" class="anchor"></a><code><span class="keyword">val </span>of_enum : (<span class="type-var">'a</span> BatEnum.t <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>of_enum e</code> build the sequence containing the elements of <code>e</code> in the same order.</p><p>Its complexity is the complexity of forcing the enumeration.</p></dd></dl><dl><dt class="spec value" id="val-of_backwards"><a href="#val-of_backwards" class="anchor"></a><code><span class="keyword">val </span>of_backwards : (<span class="type-var">'a</span> BatEnum.t <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>of_backwards e</code> is equivalent to <code>reverse (of_enum e)</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val </span>of_list : (<span class="type-var">'a</span> list <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>of_list l</code> is equivalent to <code>of_enum (BatList.enum l)</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-of_list_backwards"><a href="#val-of_list_backwards" class="anchor"></a><code><span class="keyword">val </span>of_list_backwards : (<span class="type-var">'a</span> list <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>of_list_backwards l</code> is equivalent to <code>of_enum_backwards (BatList.enum l)</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : ((<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'b</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>map</code> is equivalent to <span class="xref-unresolved" title="unresolved reference to &quot;List.map&quot;"><code>List</code>.map</span>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-map_right"><a href="#val-map_right" class="anchor"></a><code><span class="keyword">val </span>map_right : ((<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'b</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>map_right</code> is equivalent to <code>List.rev o List.map o List.rev</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">val </span>append : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>append</code> is equivalent to <code>List.append</code>.</p><p>O(log(min(n,m))).</p></dd></dl><dl><dt class="spec value" id="val-reverse"><a href="#val-reverse" class="anchor"></a><code><span class="keyword">val </span>reverse : ((<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'a</span>, <span class="type-var">'m</span>) <a href="index.html#type-wrap">wrap</a></code></dt><dd><p><code>reverse t</code> is equivalent to <code>of_list (List.rev (to_list t))</code>.</p><p>O(n).</p></dd></dl><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val </span>print : ?&#8288;first:string <span>&#45;&gt;</span> ?&#8288;last:string <span>&#45;&gt;</span> ?&#8288;sep:string <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) BatIO.printer <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>) <a href="index.html#type-fg">fg</a>, <span class="type-var">'b</span>) BatIO.printer</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val </span>size : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>size t</code> returns the number of elements in the sequence.</p><p>Unlike the generic <code>size</code> on finger trees, this one has complexity O(1).</p></dd></dl><dl><dt class="spec value" id="val-split_at"><a href="#val-split_at" class="anchor"></a><code><span class="keyword">val </span>split_at : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>split_at</code> is equivalent to <code>List.split_at</code>.</p><dl><dt>raises Invalid_argument</dt><dd><p>when the index is out of bounds.</p><p>O(log(n)).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val </span>get : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>get t i</code> returns the <code>i</code>-th element of <code>t</code>.</p><dl><dt>raises Invalid_argument</dt><dd><p>when the index is out of bounds.</p><p>O(log(n)).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val </span>set : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>set t i v</code> returns <code>t</code> where the <code>i</code>-th element is now <code>v</code>.</p><dl><dt>raises Invalid_argument</dt><dd><p>when the index is out of bounds.</p><p>O(log(n)).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-update"><a href="#val-update" class="anchor"></a><code><span class="keyword">val </span>update : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>update t i f</code> returns <code>t</code> where the <code>i</code>-th element is now <code>f (get i t)</code>.</p><dl><dt>raises Invalid_argument</dt><dd><p>when the index is out of bounds.</p><p>O(log(n)).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-of_list_for_test"><a href="#val-of_list_for_test" class="anchor"></a><code><span class="keyword">val </span>of_list_for_test : <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>/*</p></dd></dl><dl><dt class="spec value" id="val-verify_measure"><a href="#val-verify_measure" class="anchor"></a><code><span class="keyword">val </span>verify_measure : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-invariants"><a href="#val-invariants" class="anchor"></a><code><span class="keyword">val </span>invariants : <span class="type-var">_</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>/*</p></dd></dl></div></body></html>