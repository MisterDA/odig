<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatRandom (batteries.BatRandom)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">batteries</a> &#x00BB; BatRandom</nav><h1>Module <code>BatRandom</code></h1><p>Pseudo-random number generators (PRNG).</p><p>This module extends Stdlib's <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Random.html">Random</a> module, go there for documentation on the rest of the functions and types.</p><dl><dt>author</dt><dd>Damien Doligez (base library)</dd></dl><dl><dt>author</dt><dd>David Teller</dd></dl><dl><dt>author</dt><dd>Pierre Chambart</dd></dl><p>@documents Random</p><nav class="toc"><ul><li><a href="#basic-functions">Basic functions</a></li><li><a href="#enumerations-of-random-values.">Enumerations of random values.</a></li><li><a href="#working-with-data-structures.">Working with data structures.</a></li><li><a href="#advanced-functions">Advanced functions</a></li></ul></nav></header><section><header><h6 id="basic-functions"><a href="#basic-functions" class="anchor"></a>Basic functions</h6></header><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Initialize the generator, using the argument as a seed. The same seed will always yield the same sequence of numbers.</p></dd></dl><dl><dt class="spec value" id="val-full_init"><a href="#val-full_init" class="anchor"></a><code><span class="keyword">val</span> full_init : int array <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <span class="xref-unresolved" title="unresolved reference to &quot;Random.init&quot;"><code>Random</code>.init</span> but takes more data as seed.</p></dd></dl><dl><dt class="spec value" id="val-self_init"><a href="#val-self_init" class="anchor"></a><code><span class="keyword">val</span> self_init : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Initialize the generator with a more-or-less random seed chosen in a system-dependent way.</p></dd></dl><dl><dt class="spec value" id="val-bits"><a href="#val-bits" class="anchor"></a><code><span class="keyword">val</span> bits : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return 30 random bits in a nonnegative integer.</p></dd></dl><dl><dt class="spec value" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">val</span> int : int <span>&#45;&gt;</span> int</code></dt><dd><p><code>Random.int bound</code> returns a random integer between 0 (inclusive) and <code>bound</code> (exclusive). <code>bound</code> must be greater than 0 and less than 2<sup>30</sup>.</p></dd></dl><dl><dt class="spec value" id="val-int32"><a href="#val-int32" class="anchor"></a><code><span class="keyword">val</span> int32 : <a href="../../ocaml/Stdlib/Int32/index.html#type-t">Stdlib.Int32.t</a> <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Int32/index.html#type-t">Stdlib.Int32.t</a></code></dt><dt class="spec value" id="val-nativeint"><a href="#val-nativeint" class="anchor"></a><code><span class="keyword">val</span> nativeint : <a href="../../ocaml/Stdlib/Nativeint/index.html#type-t">Stdlib.Nativeint.t</a> <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Nativeint/index.html#type-t">Stdlib.Nativeint.t</a></code></dt><dt class="spec value" id="val-int64"><a href="#val-int64" class="anchor"></a><code><span class="keyword">val</span> int64 : <a href="../../ocaml/Stdlib/Int64/index.html#type-t">Stdlib.Int64.t</a> <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Int64/index.html#type-t">Stdlib.Int64.t</a></code></dt><dd><p><code>Random.nativeint bound</code> returns a random integer between 0 (inclusive) and <code>bound</code> (exclusive). <code>bound</code> must be greater than 0.</p></dd></dl><dl><dt class="spec value" id="val-float"><a href="#val-float" class="anchor"></a><code><span class="keyword">val</span> float : float <span>&#45;&gt;</span> float</code></dt><dd><p><code>Random.float bound</code> returns a random floating-point number between 0 (inclusive) and <code>bound</code> (exclusive). If <code>bound</code> is negative, the result is negative or zero. If <code>bound</code> is 0, the result is 0.</p></dd></dl><dl><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : unit <span>&#45;&gt;</span> bool</code></dt><dd><p><code>Random.bool ()</code> returns <code>true</code> or <code>false</code> with probability 0.5 each.</p></dd></dl><dl><dt class="spec value" id="val-char"><a href="#val-char" class="anchor"></a><code><span class="keyword">val</span> char : unit <span>&#45;&gt;</span> char</code></dt><dd><p>Return a random Latin-1 character.</p></dd></dl><dl><dt class="spec value" id="val-full_range_int"><a href="#val-full_range_int" class="anchor"></a><code><span class="keyword">val</span> full_range_int : unit <span>&#45;&gt;</span> int</code></dt><dd><p><code>full_range_int ()</code> returns the maximum entropy possible in a single int: 31 bits on 32-bit platforms and 63 bits on 64-bit platforms. Intentionally gives different results on different platforms, so is not portable.</p></dd></dl></section><section><header><h6 id="enumerations-of-random-values."><a href="#enumerations-of-random-values." class="anchor"></a>Enumerations of random values.</h6></header><dl><dt class="spec value" id="val-enum_bits"><a href="#val-enum_bits" class="anchor"></a><code><span class="keyword">val</span> enum_bits : unit <span>&#45;&gt;</span> int <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-enum_int"><a href="#val-enum_int" class="anchor"></a><code><span class="keyword">val</span> enum_int : int <span>&#45;&gt;</span> int <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-enum_bool"><a href="#val-enum_bool" class="anchor"></a><code><span class="keyword">val</span> enum_bool : unit <span>&#45;&gt;</span> bool <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-enum_float"><a href="#val-enum_float" class="anchor"></a><code><span class="keyword">val</span> enum_float : float <span>&#45;&gt;</span> float <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-enum_int32"><a href="#val-enum_int32" class="anchor"></a><code><span class="keyword">val</span> enum_int32 : <a href="../../ocaml/Stdlib/Int32/index.html#type-t">Stdlib.Int32.t</a> <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Int32/index.html#type-t">Stdlib.Int32.t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-enum_int64"><a href="#val-enum_int64" class="anchor"></a><code><span class="keyword">val</span> enum_int64 : <a href="../../ocaml/Stdlib/Int64/index.html#type-t">Stdlib.Int64.t</a> <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Int64/index.html#type-t">Stdlib.Int64.t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-enum_nativeint"><a href="#val-enum_nativeint" class="anchor"></a><code><span class="keyword">val</span> enum_nativeint : <a href="../../ocaml/Stdlib/Nativeint/index.html#type-t">Stdlib.Nativeint.t</a> <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Nativeint/index.html#type-t">Stdlib.Nativeint.t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-enum_char"><a href="#val-enum_char" class="anchor"></a><code><span class="keyword">val</span> enum_char : unit <span>&#45;&gt;</span> char <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt></dl></section><section><header><h6 id="working-with-data-structures."><a href="#working-with-data-structures." class="anchor"></a>Working with data structures.</h6></header><dl><dt class="spec value" id="val-choice"><a href="#val-choice" class="anchor"></a><code><span class="keyword">val</span> choice : <span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>choice e</code> returns a randomly-chosen element of <code>e</code>.</p><p>This function only works on finite enumerations with less than 2<sup>30</sup> elements.</p></dd></dl><dl><dt class="spec value" id="val-multi_choice"><a href="#val-multi_choice" class="anchor"></a><code><span class="keyword">val</span> multi_choice : int <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dd><p><code>multi_choice n e</code> returns an enumeration of <code>n</code> randomly-chosen elements of <code>e</code>.</p></dd></dl><dl><dt class="spec value" id="val-shuffle"><a href="#val-shuffle" class="anchor"></a><code><span class="keyword">val</span> shuffle : <span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p><code>shuffle e</code> returns a new array, containing the same set of elements as <code>e</code>, but in a random order.</p><p>Shuffling is implemented using the Fisher-Yates algorithm and works in O(n), where n is the number of elements of <code>e</code>.</p><p>This function only works on finite enumerations with less than 2<sup>30</sup> elements.</p></dd></dl></section><section><header><h6 id="advanced-functions"><a href="#advanced-functions" class="anchor"></a>Advanced functions</h6></header><dl><dt class="spec module" id="module-State"><a href="#module-State" class="anchor"></a><code><span class="keyword">module</span> <a href="State/index.html">State</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Manipulate the current state of the random generator.</p></dd></dl><dl><dt class="spec value" id="val-get_state"><a href="#val-get_state" class="anchor"></a><code><span class="keyword">val</span> get_state : unit <span>&#45;&gt;</span> <a href="State/index.html#type-t">State.t</a></code></dt><dd><p>Return the current state of the generator used by the basic functions.</p></dd></dl><dl><dt class="spec value" id="val-set_state"><a href="#val-set_state" class="anchor"></a><code><span class="keyword">val</span> set_state : <a href="State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the state of the generator used by the basic functions.</p></dd></dl><div class="spec module" id="module-Incubator"><a href="#module-Incubator" class="anchor"></a><code><span class="keyword">module</span> <a href="Incubator/index.html">Incubator</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>