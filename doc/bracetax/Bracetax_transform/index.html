<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bracetax_transform (bracetax.Bracetax_transform)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">bracetax</a> &#x00BB; Bracetax_transform</nav><h1>Module <code>Bracetax_transform</code></h1><p>This module is the <b>main entry point</b> to use bracetax as a library.</p></header><aside><p>The functions here are used to transform <i>Bracetax</i> input to the formats currently handled by the library (XHTML, LaTeX, or a bracetax table of contents).</p></aside><dl><dt class="spec value" id="val-brtx_to_html"><a href="#val-brtx_to_html" class="anchor"></a><code><span class="keyword">val</span> brtx_to_html : writer:<a href="../Bracetax_signatures/index.html#type-writer">Bracetax_HTML_printer.Signatures.writer</a> <span>&#45;&gt;</span> ?&#8288;make_section_links:[ `always | `never | `when_labeled ] <span>&#45;&gt;</span> ?&#8288;doc:bool <span>&#45;&gt;</span> ?&#8288;title:string <span>&#45;&gt;</span> ?&#8288;css_link:string <span>&#45;&gt;</span> ?&#8288;print_comments:bool <span>&#45;&gt;</span> ?&#8288;filename:string <span>&#45;&gt;</span> ?&#8288;class_hook:string <span>&#45;&gt;</span> ?&#8288;img_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;url_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> input_char:(unit <span>&#45;&gt;</span> char option) <span>&#45;&gt;</span> ?&#8288;separate_header:(string * string * string) <a href="../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a> <span>&#45;&gt;</span> ?&#8288;deny_bypass:bool <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Transformation from <i>Bracetax</i> to HTML (actually <i>almost</i> XHTML). Most optional parameters correspond to command line options of <code>brtx -html</code>.</p><dl><dt>parameter writer</dt><dd><p>The <a href="../Bracetax_signatures/index.html#type-writer"><code>Signatures.writer</code></a> to use for output.</p></dd></dl><dl><dt>parameter doc</dt><dd><p>If <code>true</code>, output a whole document with header and footer (Default: <code>false</code>)).</p></dd></dl><dl><dt>parameter title</dt><dd><p>If <code>doc = true</code>, use <code>title</code> as HTML header title.</p></dd></dl><dl><dt>parameter css_link</dt><dd><p>Add a &quot;meta&quot; link to a CSS URL.</p></dd></dl><dl><dt>parameter print_comments</dt><dd><p>If <code>true</code>, output Bracetax comments as HTML comments (Default: <code>false</code>).</p></dd></dl><dl><dt>parameter filename</dt><dd><p>Filename used in error messages (Default: <code>&quot;&lt;IN&gt;&quot;</code>))</p></dd></dl><dl><dt>parameter class_hook</dt><dd><p>Add a </p><pre>class=&quot;class_hook&quot;</pre><p>to all tags in the HTML (it is the <code>-css-hook</code> option of <code>brtx</code>).</p></dd></dl><dl><dt>parameter img_hook</dt><dd><p>A &quot;hook&quot; function to transform each image path.</p></dd></dl><dl><dt>parameter url_hook</dt><dd><p>A &quot;hook&quot; function to transform each URL.</p></dd></dl><dl><dt>parameter input_char</dt><dd><p>The &quot;input&quot; function.</p></dd></dl><dl><dt>parameter separate_header</dt><dd><p>If this reference is provided, after the call to <code>brtx_to_html</code>, this reference will contain the <i>title</i>, <i>authors</i>, and <i>subtitle</i> fields; and they won't be output to the <code>writer</code>.</p></dd></dl><dl><dt>parameter deny_bypass</dt><dd><p>If <code>true</code>, treat <code>\{bypass\}</code> commands as <code>\{code\}</code> (Default: <code>false</code>).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-brtx_to_latex"><a href="#val-brtx_to_latex" class="anchor"></a><code><span class="keyword">val</span> brtx_to_latex : writer:<a href="../Bracetax_signatures/index.html#type-writer">Bracetax_latex_printer.Signatures.writer</a> <span>&#45;&gt;</span> ?&#8288;doc:bool <span>&#45;&gt;</span> ?&#8288;title:string <span>&#45;&gt;</span> ?&#8288;use_package:string <span>&#45;&gt;</span> ?&#8288;deny_bypass:bool <span>&#45;&gt;</span> ?&#8288;print_comments:bool <span>&#45;&gt;</span> ?&#8288;href_is_footnote:bool <span>&#45;&gt;</span> ?&#8288;img_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;url_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;separate_header:(string * string * string) <a href="../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a> <span>&#45;&gt;</span> ?&#8288;table_caption_after:bool <span>&#45;&gt;</span> ?&#8288;filename:string <span>&#45;&gt;</span> input_char:(unit <span>&#45;&gt;</span> char option) <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Transform from <i>Bracetax</i> to LaTeX. Most parameters have the same meaning as for <a href="index.html#val-brtx_to_html"><code>brtx_to_html</code></a>, except the following ones.</p><dl><dt>parameter title</dt><dd><p>The <code>title</code> will be used for the PDF meta-data (for <code>doc = true</code>).</p></dd></dl><dl><dt>parameter use_package</dt><dd><p>Add a <code>\\usepackage\{&lt;package&gt;\}</code> call in the LaTeX header (doc = true).</p></dd></dl><dl><dt>parameter href_is_footnote</dt><dd><p>If <code>true</code>, render links as footnotes (Default: <code>false</code>).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-get_TOC"><a href="#val-get_TOC" class="anchor"></a><code><span class="keyword">val</span> get_TOC : writer:<a href="../Bracetax_signatures/index.html#type-writer">Bracetax_generic_printer.Signatures.writer</a> <span>&#45;&gt;</span> ?&#8288;filename:string <span>&#45;&gt;</span> ?&#8288;make_links:[ `always | `never | `when_labeled ] <span>&#45;&gt;</span> ?&#8288;list_type:[ `enum | `item ] <span>&#45;&gt;</span> ?&#8288;numbering:[ `integers | `none ] <span>&#45;&gt;</span> input_char:(unit <span>&#45;&gt;</span> char option) <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Retrieve a table of contents from a <i>Bracetax</i> input. The TOC is itself in <i>Bracetax</i>; it is a set of lists with links.</p></dd></dl><dl><dt class="spec value" id="val-string_io"><a href="#val-string_io" class="anchor"></a><code><span class="keyword">val</span> string_io : string <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Buffer/index.html#type-t">Stdlib.Buffer.t</a> <span>&#45;&gt;</span> <a href="../../ocaml/Stdlib/Buffer/index.html#type-t">Stdlib.Buffer.t</a> <span>&#45;&gt;</span> <a href="../Bracetax_signatures/index.html#type-writer">Bracetax_signatures.writer</a> * (unit <span>&#45;&gt;</span> char option)</code></dt><dd><p>Create a <code>writer</code> and a <code>input_char</code> from a <code>string</code> and two <code>Buffer.t</code>. With <code>let w, ic = (string_io input_str output_buffer
    error_buffer)</code>, the writer <code>w</code> will write to <code>output_buffer</code>, transform errors to strings, and output them to <code>error_buffer</code>; <code>ic</code> will take characters from <code>input_str</code>. <code>w</code> and <code>ic</code> can then be used with <a href="index.html#val-brtx_to_html"><code>brtx_to_html</code></a> and <a href="index.html#val-brtx_to_latex"><code>brtx_to_latex</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-str_to_html"><a href="#val-str_to_html" class="anchor"></a><code><span class="keyword">val</span> str_to_html : ?&#8288;make_section_links:[ `always | `never | `when_labeled ] <span>&#45;&gt;</span> ?&#8288;doc:bool <span>&#45;&gt;</span> ?&#8288;title:string <span>&#45;&gt;</span> ?&#8288;css_link:string <span>&#45;&gt;</span> ?&#8288;print_comments:bool <span>&#45;&gt;</span> ?&#8288;filename:string <span>&#45;&gt;</span> ?&#8288;class_hook:string <span>&#45;&gt;</span> ?&#8288;img_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;url_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;separate_header:(string * string * string) <a href="../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a> <span>&#45;&gt;</span> ?&#8288;deny_bypass:bool <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string * <a href="../Bracetax_error/index.html#type-error">Bracetax_signatures.Error.error</a> list</code></dt><dd><p>This function is a convenience replacement for <a href="index.html#val-brtx_to_html"><code>brtx_to_html</code></a>, to transform a <code>string</code> into another <code>string</code> together with a list of <span class="xref-unresolved" title="unresolved reference to &quot;Error.error&quot;"><code>Error</code>.error</span>s.</p></dd></dl><dl><dt class="spec value" id="val-str_to_latex"><a href="#val-str_to_latex" class="anchor"></a><code><span class="keyword">val</span> str_to_latex : ?&#8288;doc:bool <span>&#45;&gt;</span> ?&#8288;title:string <span>&#45;&gt;</span> ?&#8288;use_package:string <span>&#45;&gt;</span> ?&#8288;deny_bypass:bool <span>&#45;&gt;</span> ?&#8288;print_comments:bool <span>&#45;&gt;</span> ?&#8288;href_is_footnote:bool <span>&#45;&gt;</span> ?&#8288;img_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;url_hook:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;table_caption_after:bool <span>&#45;&gt;</span> ?&#8288;separate_header:(string * string * string) <a href="../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a> <span>&#45;&gt;</span> ?&#8288;filename:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string * <a href="../Bracetax_error/index.html#type-error">Bracetax_signatures.Error.error</a> list</code></dt><dd><p>This function is a convenience replacement for <a href="index.html#val-brtx_to_latex"><code>brtx_to_latex</code></a>, to transform a <code>string</code> into another <code>string</code> together with a list of <span class="xref-unresolved" title="unresolved reference to &quot;Error.error&quot;"><code>Error</code>.error</span>s.</p></dd></dl><dl><dt class="spec value" id="val-str_to_TOC"><a href="#val-str_to_TOC" class="anchor"></a><code><span class="keyword">val</span> str_to_TOC : ?&#8288;make_links:[ `always | `never | `when_labeled ] <span>&#45;&gt;</span> ?&#8288;list_type:[ `enum | `item ] <span>&#45;&gt;</span> ?&#8288;numbering:[ `integers | `none ] <span>&#45;&gt;</span> ?&#8288;filename:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string * <a href="../Bracetax_error/index.html#type-error">Bracetax_signatures.Error.error</a> list</code></dt><dd><p>This function is a convenience replacement for <a href="index.html#val-get_TOC"><code>get_TOC</code></a>, to get the table of contents from a <code>string</code> into another <code>string</code> together with a list of <span class="xref-unresolved" title="unresolved reference to &quot;Error.error&quot;"><code>Error</code>.error</span>s.</p></dd></dl></div></body></html>