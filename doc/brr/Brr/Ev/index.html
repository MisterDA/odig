<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ev (brr.Brr.Ev)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">brr</a> &#x00BB; <a href="../index.html">Brr</a> &#x00BB; Ev</nav><h1>Module <code>Brr.Ev</code></h1><p>DOM events</p><nav class="toc"><ul><li><a href="#events">Events and event kinds</a></li><li><a href="#note">Events as <code>Note</code> events</a><ul><li><a href="#evmap">Event mappers</a></li></ul></li><li><a href="#cb">Event callbacks</a></li><li><a href="#kinds">Event kinds</a></li></ul></nav></header><section><header><h2 id="events"><a href="#events" class="anchor"></a>Events and event kinds</h2></header><dl><dt class="spec type" id="type-target"><a href="#type-target" class="anchor"></a><code><span class="keyword">type </span>'a target</code><code><span class="keyword"> = </span>Dom_html.#eventTarget<span class="keyword"> as </span>a Js.t</code></dt><dd><p>The type for event targets.</p></dd></dl><dl><dt class="spec type" id="type-kind"><a href="#type-kind" class="anchor"></a><code><span class="keyword">type </span>'a kind</code><code><span class="keyword"> = </span>Dom_html.#event<span class="keyword"> as </span>a Js.t Dom_html.Event.typ</code></dt><dd><p>The type for kind of events. See <a href="index.html#kinds"><span>Event kinds</span></a>.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>'a t</code><code><span class="keyword"> = </span>Dom_html.#event<span class="keyword"> as </span>a Js.t</code></dt><dd><p>The type for events.</p></dd></dl></section><section><header><h2 id="note"><a href="#note" class="anchor"></a>Events as <code>Note</code> events</h2></header><dl><dt class="spec value" id="val-for_target"><a href="#val-for_target" class="anchor"></a><code><span class="keyword">val </span>for_target : ?&#8288;capture:bool <span>&#45;&gt;</span> ?&#8288;propagate:bool <span>&#45;&gt;</span> ?&#8288;default:bool <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-target">target</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-kind">kind</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> <span class="type-var">'c</span> Note.event</code></dt><dd><p><code>for_target ~capture ~propagate ~default t k f</code> is an event that reports events of kind <code>k</code> transformed by <code>f</code> on target <code>t</code>. If <code>capture</code> is <code>true</code> the event occurs during the capture phase (defaults to <code>false</code>). If <code>propagate</code> is <code>true</code> (default) the event is propagated. The default action is performed iff <code>default</code> is <code>true</code> (defaults to the value of <code>propagate</code>).</p></dd></dl><dl><dt class="spec value" id="val-for_targets"><a href="#val-for_targets" class="anchor"></a><code><span class="keyword">val </span>for_targets : ?&#8288;capture:bool <span>&#45;&gt;</span> ?&#8288;propagate:bool <span>&#45;&gt;</span> ?&#8288;default:bool <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-target">target</a> list <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-kind">kind</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-target">target</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> <span class="type-var">'c</span> Note.event</code></dt><dd><p><a href="index.html#val-for_targets"><code>for_targets</code></a> is like <a href="index.html#val-for_target"><code>for_target</code></a> except the event occurs for the event kind on the given list of targets.</p></dd></dl><dl><dt class="spec value" id="val-for_el"><a href="#val-for_el" class="anchor"></a><code><span class="keyword">val </span>for_el : ?&#8288;capture:bool <span>&#45;&gt;</span> ?&#8288;propagate:bool <span>&#45;&gt;</span> ?&#8288;default:bool <span>&#45;&gt;</span> <a href="../El/index.html#type-t">El.t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-kind">kind</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> <span class="type-var">'c</span> Note.event</code></dt><dd><p><code>for_el</code> is like <a href="index.html#val-for_target"><code>for_target</code></a> except the target is an element.</p></dd></dl><dl><dt class="spec value" id="val-for_els"><a href="#val-for_els" class="anchor"></a><code><span class="keyword">val </span>for_els : ?&#8288;capture:bool <span>&#45;&gt;</span> ?&#8288;propagate:bool <span>&#45;&gt;</span> ?&#8288;default:bool <span>&#45;&gt;</span> <a href="../El/index.html#type-t">El.t</a> list <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-kind">kind</a> <span>&#45;&gt;</span> (<a href="../El/index.html#type-t">El.t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> <span class="type-var">'c</span> Note.event</code></dt><dd><p><code>for_els</code> is like <a href="index.html#val-for_targets"><code>for_targets</code></a> excepts the targets are elements.</p></dd></dl><section><header><h3 id="evmap"><a href="#evmap" class="anchor"></a>Event mappers</h3></header><dl><dt class="spec value" id="val-ev"><a href="#val-ev" class="anchor"></a><code><span class="keyword">val </span>ev : <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>ev e</code> is <code>e</code>.</p></dd></dl><dl><dt class="spec value" id="val-unit"><a href="#val-unit" class="anchor"></a><code><span class="keyword">val </span>unit : <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>unit e</code> is <code>()</code>.</p></dd></dl><dl><dt class="spec value" id="val-stamp"><a href="#val-stamp" class="anchor"></a><code><span class="keyword">val </span>stamp : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>stamp v e</code> is <code>v</code>.</p></dd></dl></section></section><section><header><h2 id="cb"><a href="#cb" class="anchor"></a>Event callbacks</h2><p>Lower-level convenience interface.</p></header><dl><dt class="spec type" id="type-cb"><a href="#type-cb" class="anchor"></a><code><span class="keyword">type </span>cb</code></dt><dd><p>The type for event callbacks.</p></dd></dl><dl><dt class="spec type" id="type-cb_ret"><a href="#type-cb_ret" class="anchor"></a><code><span class="keyword">type </span>cb_ret</code></dt><dd><p>The type for callback return.</p></dd></dl><dl><dt class="spec value" id="val-add_cb"><a href="#val-add_cb" class="anchor"></a><code><span class="keyword">val </span>add_cb : ?&#8288;capture:bool <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-target">target</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-kind">kind</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-target">target</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-cb_ret">cb_ret</a>) <span>&#45;&gt;</span> <a href="index.html#type-cb">cb</a></code></dt><dd><p><code>add_cb ~capture t k f</code> calls <code>f e ev</code> whenever an event <code>ev</code> of kind <code>k</code> occurs on <code>t</code>. If <code>capture</code> is <code>true</code> the callback occurs during the capture phase (defaults to <code>false</code>).</p></dd></dl><dl><dt class="spec value" id="val-rem_cb"><a href="#val-rem_cb" class="anchor"></a><code><span class="keyword">val </span>rem_cb : <a href="index.html#type-cb">cb</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>rem_cb cb</code> removes the callback <code>cb</code>.</p></dd></dl><dl><dt class="spec value" id="val-cb_ret"><a href="#val-cb_ret" class="anchor"></a><code><span class="keyword">val </span>cb_ret : ?&#8288;propagate:bool <span>&#45;&gt;</span> ?&#8288;default:bool <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-cb_ret">cb_ret</a></code></dt><dd><p><code>cb_ret ~propagate ~default ev</code> returns from the callback and propagates event <code>ev</code> if <code>propagate</code> is <code>true</code> (default). The default action is performed iff <code>default</code> is <code>true</code> (defaults to the value of <code>propagate</code>.</p></dd></dl></section><section><header><h2 id="kinds"><a href="#kinds" class="anchor"></a>Event kinds</h2><p>MDN's web docs <a href="https://developer.mozilla.org/en-US/docs/Web/Events">Event reference</a>.</p></header><dl><dt class="spec value" id="val-kind"><a href="#val-kind" class="anchor"></a><code><span class="keyword">val </span>kind : string <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-abort"><a href="#val-abort" class="anchor"></a><code><span class="keyword">val </span>abort : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-afterprint"><a href="#val-afterprint" class="anchor"></a><code><span class="keyword">val </span>afterprint : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-beforeprint"><a href="#val-beforeprint" class="anchor"></a><code><span class="keyword">val </span>beforeprint : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-beforeunload"><a href="#val-beforeunload" class="anchor"></a><code><span class="keyword">val </span>beforeunload : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-blur"><a href="#val-blur" class="anchor"></a><code><span class="keyword">val </span>blur : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-cached"><a href="#val-cached" class="anchor"></a><code><span class="keyword">val </span>cached : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-change"><a href="#val-change" class="anchor"></a><code><span class="keyword">val </span>change : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-click"><a href="#val-click" class="anchor"></a><code><span class="keyword">val </span>click : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-dblclick"><a href="#val-dblclick" class="anchor"></a><code><span class="keyword">val </span>dblclick : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-domContentLoaded"><a href="#val-domContentLoaded" class="anchor"></a><code><span class="keyword">val </span>domContentLoaded : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val </span>error : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-focus"><a href="#val-focus" class="anchor"></a><code><span class="keyword">val </span>focus : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-hashchange"><a href="#val-hashchange" class="anchor"></a><code><span class="keyword">val </span>hashchange : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-input"><a href="#val-input" class="anchor"></a><code><span class="keyword">val </span>input : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-invalid"><a href="#val-invalid" class="anchor"></a><code><span class="keyword">val </span>invalid : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-keydown"><a href="#val-keydown" class="anchor"></a><code><span class="keyword">val </span>keydown : Dom_html.keyboardEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-keypress"><a href="#val-keypress" class="anchor"></a><code><span class="keyword">val </span>keypress : Dom_html.keyboardEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-keyup"><a href="#val-keyup" class="anchor"></a><code><span class="keyword">val </span>keyup : Dom_html.keyboardEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-load"><a href="#val-load" class="anchor"></a><code><span class="keyword">val </span>load : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-message"><a href="#val-message" class="anchor"></a><code><span class="keyword">val </span>message : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-mousedown"><a href="#val-mousedown" class="anchor"></a><code><span class="keyword">val </span>mousedown : Dom_html.mouseEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-mouseenter"><a href="#val-mouseenter" class="anchor"></a><code><span class="keyword">val </span>mouseenter : Dom_html.mouseEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-mouseleave"><a href="#val-mouseleave" class="anchor"></a><code><span class="keyword">val </span>mouseleave : Dom_html.mouseEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-mousemove"><a href="#val-mousemove" class="anchor"></a><code><span class="keyword">val </span>mousemove : Dom_html.mouseEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-mouseout"><a href="#val-mouseout" class="anchor"></a><code><span class="keyword">val </span>mouseout : Dom_html.mouseEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-mouseover"><a href="#val-mouseover" class="anchor"></a><code><span class="keyword">val </span>mouseover : Dom_html.mouseEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-mouseup"><a href="#val-mouseup" class="anchor"></a><code><span class="keyword">val </span>mouseup : Dom_html.mouseEvent <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-offline"><a href="#val-offline" class="anchor"></a><code><span class="keyword">val </span>offline : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-online"><a href="#val-online" class="anchor"></a><code><span class="keyword">val </span>online : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-pagehide"><a href="#val-pagehide" class="anchor"></a><code><span class="keyword">val </span>pagehide : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-pageshow"><a href="#val-pageshow" class="anchor"></a><code><span class="keyword">val </span>pageshow : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-popstate"><a href="#val-popstate" class="anchor"></a><code><span class="keyword">val </span>popstate : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-progress"><a href="#val-progress" class="anchor"></a><code><span class="keyword">val </span>progress : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-readystatechange"><a href="#val-readystatechange" class="anchor"></a><code><span class="keyword">val </span>readystatechange : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-reset"><a href="#val-reset" class="anchor"></a><code><span class="keyword">val </span>reset : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-resize"><a href="#val-resize" class="anchor"></a><code><span class="keyword">val </span>resize : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-submit"><a href="#val-submit" class="anchor"></a><code><span class="keyword">val </span>submit : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt><dt class="spec value" id="val-unload"><a href="#val-unload" class="anchor"></a><code><span class="keyword">val </span>unload : Dom_html.event <a href="index.html#type-kind">kind</a></code></dt></dl></section></div></body></html>