<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Loc (brr.Brr.Loc)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">brr</a> &#x00BB; <a href="../index.html">Brr</a> &#x00BB; Loc</nav><h1>Module <code>Brr.Loc</code></h1><p>Browser location</p><p><b>TODO.</b> Needs redesign/review.</p><p><b>Warning.</b> We use the terminology and return data according to <a href="http://tools.ietf.org/html/rfc3986">RFC 3986</a>, not according to the broken HTML URLUtils interface.</p></header><section><header><h2 id="info"><a href="#info" class="anchor"></a>Location URI</h2></header><dl><dt class="spec value" id="val-uri"><a href="#val-uri" class="anchor"></a><code><span class="keyword">val </span>uri : unit <span>&#45;&gt;</span> <a href="../Jstr/index.html#type-t">Jstr.t</a></code></dt><dd><p><code>uri ()</code> is the browser's location full URI.</p></dd></dl><dl><dt class="spec value" id="val-scheme"><a href="#val-scheme" class="anchor"></a><code><span class="keyword">val </span>scheme : unit <span>&#45;&gt;</span> <a href="../Jstr/index.html#type-t">Jstr.t</a></code></dt><dd><p><code>scheme ()</code> is the scheme of <a href="index.html#val-uri"><code>uri</code></a><code> ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-host"><a href="#val-host" class="anchor"></a><code><span class="keyword">val </span>host : unit <span>&#45;&gt;</span> <a href="../Jstr/index.html#type-t">Jstr.t</a></code></dt><dd><p><code>host ()</code> is the host of <a href="index.html#val-uri"><code>uri</code></a><code> ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-port"><a href="#val-port" class="anchor"></a><code><span class="keyword">val </span>port : unit <span>&#45;&gt;</span> int option</code></dt><dd><p><code>port ()</code> is the port of <a href="index.html#val-uri"><code>uri</code></a><code> ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-path"><a href="#val-path" class="anchor"></a><code><span class="keyword">val </span>path : unit <span>&#45;&gt;</span> <a href="../Jstr/index.html#type-t">Jstr.t</a></code></dt><dd><p><code>path ()</code> is the path of <a href="index.html#val-uri"><code>uri</code></a><code> ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-query"><a href="#val-query" class="anchor"></a><code><span class="keyword">val </span>query : unit <span>&#45;&gt;</span> <a href="../Jstr/index.html#type-t">Jstr.t</a></code></dt><dd><p><code>query ()</code> is the query of <a href="index.html#val-uri"><code>uri</code></a><code> ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-fragment"><a href="#val-fragment" class="anchor"></a><code><span class="keyword">val </span>fragment : unit <span>&#45;&gt;</span> <a href="../Jstr/index.html#type-t">Jstr.t</a></code></dt><dd><p><code>fragment ()</code> is fragment of <a href="index.html#val-uri"><code>uri</code></a><code> ()</code> with the hash.</p></dd></dl><dl><dt class="spec value" id="val-set_fragment"><a href="#val-set_fragment" class="anchor"></a><code><span class="keyword">val </span>set_fragment : <a href="../Jstr/index.html#type-t">Jstr.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_fragment frag</code> sets the fragment of <a href="index.html#val-uri"><code>uri</code></a><code> ()</code> to <code>frag</code>. This does not reload the page but triggers the <a href="../Ev/index.html#val-hashchange"><code>Ev.hashchange</code></a> event.</p></dd></dl><dl><dt class="spec value" id="val-update"><a href="#val-update" class="anchor"></a><code><span class="keyword">val </span>update : ?&#8288;scheme:<a href="../Jstr/index.html#type-t">Jstr.t</a> <span>&#45;&gt;</span> ?&#8288;host:<a href="../Jstr/index.html#type-t">Jstr.t</a> <span>&#45;&gt;</span> ?&#8288;port:int option <span>&#45;&gt;</span> ?&#8288;path:<a href="../Jstr/index.html#type-t">Jstr.t</a> <span>&#45;&gt;</span> ?&#8288;query:<a href="../Jstr/index.html#type-t">Jstr.t</a> <span>&#45;&gt;</span> ?&#8288;fragment:<a href="../Jstr/index.html#type-t">Jstr.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>update ~scheme ~hostname ~port ~path ~query ~fragment ()</code> updates the corresponding parts of the location's URI.</p></dd></dl></section><section><header><h2 id="info"><a href="#info" class="anchor"></a>Location changes</h2></header><dl><dt class="spec value" id="val-hashchange"><a href="#val-hashchange" class="anchor"></a><code><span class="keyword">val </span>hashchange : <a href="../Jstr/index.html#type-t">Jstr.t</a> Note.event</code></dt><dd><p><code>hashchange</code> occurs whenever the window's fragment changes with the new value of <code>fragment ()</code>.</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val </span>set : ?&#8288;replace:bool <span>&#45;&gt;</span> <a href="../Jstr/index.html#type-t">Jstr.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set replace uri</code> sets to browser location to <code>uri</code>, if <code>replace</code> is <code>true</code> the current location is removed from the session history (defaults to <code>false</code>).</p></dd></dl><dl><dt class="spec value" id="val-reload"><a href="#val-reload" class="anchor"></a><code><span class="keyword">val </span>reload : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>reload ()</code> reloads the current location.</p></dd></dl></section></div></body></html>