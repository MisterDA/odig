<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bnf (cfg.Cfg__Bnf_spec.Bnf)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">cfg</a> &#x00BB; <a href="../index.html">Cfg__Bnf_spec</a> &#x00BB; Bnf</nav><h1>Module <code>Cfg__Bnf_spec.Bnf</code></h1></header><dl><dt class="spec module" id="module-Spec"><a href="#module-Spec" class="anchor"></a><code><span class="keyword">module</span> Spec = <a href="../index.html#module-Spec">Spec</a></code></dt><dd><p>Specification of grammar elements</p></dd></dl><div class="spec module" id="module-TSet"><a href="#module-TSet" class="anchor"></a><code><span class="keyword">module</span> <a href="TSet/index.html">TSet</a> : <a href="../../../ocaml/Stdlib/Set/index.html#module-type-S">Stdlib.Set.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../ocaml/Stdlib/Set/module-type-S/index.html#type-elt">elt</a> = <a href="Spec/index.html#type-t">Spec.t</a></code></div><div class="spec module" id="module-TMap"><a href="#module-TMap" class="anchor"></a><code><span class="keyword">module</span> <a href="TMap/index.html">TMap</a> : <a href="../../../ocaml/Stdlib/Map/index.html#module-type-S">Stdlib.Map.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../ocaml/Stdlib/Map/module-type-S/index.html#type-key">key</a> = <a href="Spec/index.html#type-t">Spec.t</a></code></div><div class="spec module" id="module-NTSet"><a href="#module-NTSet" class="anchor"></a><code><span class="keyword">module</span> <a href="NTSet/index.html">NTSet</a> : <a href="../../../ocaml/Stdlib/Set/index.html#module-type-S">Stdlib.Set.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../ocaml/Stdlib/Set/module-type-S/index.html#type-elt">elt</a> = <a href="Spec/index.html#type-nt">Spec.nt</a></code></div><div class="spec module" id="module-NTMap"><a href="#module-NTMap" class="anchor"></a><code><span class="keyword">module</span> <a href="NTMap/index.html">NTMap</a> : <a href="../../../ocaml/Stdlib/Map/index.html#module-type-S">Stdlib.Map.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../ocaml/Stdlib/Map/module-type-S/index.html#type-key">key</a> = <a href="Spec/index.html#type-nt">Spec.nt</a></code></div><div class="spec module" id="module-ProdSet"><a href="#module-ProdSet" class="anchor"></a><code><span class="keyword">module</span> <a href="ProdSet/index.html">ProdSet</a> : <a href="../../../ocaml/Stdlib/Set/index.html#module-type-S">Stdlib.Set.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../ocaml/Stdlib/Set/module-type-S/index.html#type-elt">elt</a> = <a href="Spec/index.html#type-prod">Spec.prod</a> * <a href="Spec/index.html#type-symbol">Spec.symbol</a> list</code></div><div class="spec module" id="module-ProdMap"><a href="#module-ProdMap" class="anchor"></a><code><span class="keyword">module</span> <a href="ProdMap/index.html">ProdMap</a> : <a href="../../../ocaml/Stdlib/Map/index.html#module-type-S">Stdlib.Map.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../ocaml/Stdlib/Map/module-type-S/index.html#type-key">key</a> = <a href="Spec/index.html#type-prod">Spec.prod</a> * <a href="Spec/index.html#type-symbol">Spec.symbol</a> list</code></div><dl><dt class="spec type" id="type-grammar"><a href="#type-grammar" class="anchor"></a><code><span class="keyword">type</span> grammar</code></dt><dd><p>The type of context-free grammars</p></dd></dl><dl><dt class="spec type" id="type-live_grammar"><a href="#type-live_grammar" class="anchor"></a><code><span class="keyword">type</span> live_grammar</code></dt><dd><p>The type of live CFGs</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>empty</code> is the empty grammar.</p></dd></dl><dl><dt class="spec value" id="val-add_prod"><a href="#val-add_prod" class="anchor"></a><code><span class="keyword">val</span> add_prod : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-nt">Spec.nt</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-prod">Spec.prod</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-symbol">Spec.symbol</a> list <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>add_prod gr nt prod sl</code> adds a production with tag <code>prod</code> that derives to symbol list <code>sl</code> to nonterminal <code>nt</code> in grammar <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-remove_nt"><a href="#val-remove_nt" class="anchor"></a><code><span class="keyword">val</span> remove_nt : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-nt">Spec.nt</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>remove_nt gr nt</code> removes nonterminal <code>nt</code> from grammar <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-union"><a href="#val-union" class="anchor"></a><code><span class="keyword">val</span> union : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>union gr1 gr2</code> </p><dl><dt>returns</dt><dd><p>the union grammar of <code>g1</code> and <code>g2</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span class="keyword">val</span> diff : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>diff gr1 gr2</code> </p><dl><dt>returns</dt><dd><p>the difference grammar of <code>g1</code> and <code>g2</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-inter"><a href="#val-inter" class="anchor"></a><code><span class="keyword">val</span> inter : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>inter gr1 gr2</code> </p><dl><dt>returns</dt><dd><p>the intersection grammar of <code>g1</code> and <code>g2</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-grammar_of_live"><a href="#val-grammar_of_live" class="anchor"></a><code><span class="keyword">val</span> grammar_of_live : <a href="index.html#type-live_grammar">live_grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>grammar_of_live gr</code> converts a live grammar to a normal grammar.</p></dd></dl><dl><dt class="spec value" id="val-prune_unproductive"><a href="#val-prune_unproductive" class="anchor"></a><code><span class="keyword">val</span> prune_unproductive : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>prune_unproductive gr</code> prunes all unproductive entitites in <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-prune_nonlive"><a href="#val-prune_nonlive" class="anchor"></a><code><span class="keyword">val</span> prune_nonlive : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="index.html#type-live_grammar">live_grammar</a></code></dt><dd><p><code>prune_nonlive gr</code> prunes all nonlive entities in <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-prune_unreachable"><a href="#val-prune_unreachable" class="anchor"></a><code><span class="keyword">val</span> prune_unreachable : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-nt">Spec.nt</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>prune_unreachable gr nt</code> prunes all entities in grammar <code>gr</code> which cannot be reached from nonterminal <code>nt</code>.</p><dl><dt>raises Not_found</dt><dd><p>if <code>nt</code> is not in <code>gr</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-prune_unreachable_live"><a href="#val-prune_unreachable_live" class="anchor"></a><code><span class="keyword">val</span> prune_unreachable_live : <a href="index.html#type-live_grammar">live_grammar</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-nt">Spec.nt</a> <span>&#45;&gt;</span> <a href="index.html#type-live_grammar">live_grammar</a></code></dt><dd><p><code>prune_unreachable_live gr nt</code> prunes all entities in live grammar <code>gr</code> which cannot be reached from nonterminal <code>nt</code>. The resulting grammar contains derivation information.</p><dl><dt>raises Not_found</dt><dd><p>if <code>nt</code> is not in <code>gr</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-make_sane"><a href="#val-make_sane" class="anchor"></a><code><span class="keyword">val</span> make_sane : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-nt">Spec.nt</a> <span>&#45;&gt;</span> <a href="index.html#type-grammar">grammar</a></code></dt><dd><p><code>make_sane gr nt</code> prunes all useless entities in grammar <code>gr</code> using nonterminal <code>nt</code> as start symbol.</p><dl><dt>raises Not_found</dt><dd><p>if <code>nt</code> is not in <code>gr</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-make_sane_live"><a href="#val-make_sane_live" class="anchor"></a><code><span class="keyword">val</span> make_sane_live : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-nt">Spec.nt</a> <span>&#45;&gt;</span> <a href="index.html#type-live_grammar">live_grammar</a></code></dt><dd><p><code>make_sane_live gr nt</code> prunes all useless entities in grammar <code>gr</code> using nonterminal <code>nt</code> as start symbol.</p><dl><dt>raises Not_found</dt><dd><p>if <code>nt</code> is not in <code>gr</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-grammar_contents"><a href="#val-grammar_contents" class="anchor"></a><code><span class="keyword">val</span> grammar_contents : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="ProdSet/index.html#type-t">ProdSet.t</a> <a href="NTMap/index.html#type-t">NTMap.t</a></code></dt><dd><p><code>grammar_contents gr</code> returns a traversable representation of grammar <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-deriv_depth_info"><a href="#val-deriv_depth_info" class="anchor"></a><code><span class="keyword">val</span> deriv_depth_info : <a href="index.html#type-live_grammar">live_grammar</a> <span>&#45;&gt;</span> (int * int <a href="ProdMap/index.html#type-t">ProdMap.t</a>) <a href="NTMap/index.html#type-t">NTMap.t</a></code></dt><dd><p><code>deriv_depth_info gr</code> returns a traversable representation of live grammar <code>gr</code>: the left part of the tuple to which nonterminals are mapped tells the minimum derivation depth needed to completely derive the corresponding nonterminal, the right part contains a map of productions which are mapped to their minimum derivation depth.</p></dd></dl><dl><dt class="spec value" id="val-nts_in_grammar"><a href="#val-nts_in_grammar" class="anchor"></a><code><span class="keyword">val</span> nts_in_grammar : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="NTSet/index.html#type-t">NTSet.t</a></code></dt><dd><p><code>nts_in_grammar gr</code> returns the set of all nonterminals in <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-ts_in_grammar"><a href="#val-ts_in_grammar" class="anchor"></a><code><span class="keyword">val</span> ts_in_grammar : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="TSet/index.html#type-t">TSet.t</a></code></dt><dd><p><code>ts_in_grammar gr</code> returns the set of all terminals in <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-prods_in_grammar"><a href="#val-prods_in_grammar" class="anchor"></a><code><span class="keyword">val</span> prods_in_grammar : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="ProdSet/index.html#type-t">ProdSet.t</a></code></dt><dd><p><code>prods_in_grammar gr</code> returns the set of all productions in <code>gr</code>.</p></dd></dl><dl><dt class="spec value" id="val-bounded_grammar"><a href="#val-bounded_grammar" class="anchor"></a><code><span class="keyword">val</span> bounded_grammar : <a href="index.html#type-grammar">grammar</a> <span>&#45;&gt;</span> <a href="Spec/index.html#type-nt">Spec.nt</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> (<a href="TSet/index.html#type-t">TSet.t</a> * <a href="index.html#type-grammar">grammar</a>) list</code></dt><dd><p><code>bounded_grammar gr nt bound</code> computes a list of derivation levels from grammar <code>gr</code>, starting at start symbol <code>nt</code> and up to <code>bound</code>. Each level contains a set of terminals and a partial grammar which belong into this level.</p></dd></dl></div></body></html>