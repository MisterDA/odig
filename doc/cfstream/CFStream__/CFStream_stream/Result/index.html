<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Result (cfstream.CFStream__.CFStream_stream.Result)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">cfstream</a> &#x00BB; <a href="../../index.html">CFStream__</a> &#x00BB; <a href="../index.html">CFStream_stream</a> &#x00BB; Result</nav><h1>Module <code>CFStream_stream.Result</code></h1><p>Higher-order functions for streams of results</p><p>The functions in this module can be used to iterate on a stream of results with a function that only considers the non-error case. The iterated function thus doesn't need to do the pattern match on each <code>Result</code> value.</p><p>For each kind of iteration, two versions are proposed. One for total functions (that is, functions that cannot fail), the other for partial functions (they are assumed to return a <code>Result</code> in this case).</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> ('a, 'e) t</code><code> = (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a> <a href="../../../../ocaml/Stdlib/Stream/index.html#type-t">Stdlib.Stream.t</a></code></dt></dl><dl><dt class="spec value" id="val-all"><a href="#val-all" class="anchor"></a><code><span class="keyword">val</span> all : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <a href="../../../../ocaml/Stdlib/Stream/index.html#type-t">Stdlib.Stream.t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></code></dt><dt class="spec value" id="val-all'"><a href="#val-all'" class="anchor"></a><code><span class="keyword">val</span> all' : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <a href="../../../../ocaml/Stdlib/Stream/index.html#type-t">Stdlib.Stream.t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></code></dt><dt class="spec value" id="val-to_exn"><a href="#val-to_exn" class="anchor"></a><code><span class="keyword">val</span> to_exn : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> error_to_exn:(<span class="type-var">'e</span> <span>&#45;&gt;</span> exn) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../../ocaml/Stdlib/Stream/index.html#type-t">Stdlib.Stream.t</a></code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>map' rs ~f</code> maps <code>Ok</code> results with a partial function <code>f</code></p></dd></dl><dl><dt class="spec value" id="val-map'"><a href="#val-map'" class="anchor"></a><code><span class="keyword">val</span> map' : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>map rs ~f</code> maps <code>Ok</code> results with a total function <code>f</code></p></dd></dl><dl><dt class="spec value" id="val-map2_exn"><a href="#val-map2_exn" class="anchor"></a><code><span class="keyword">val</span> map2_exn : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> (<span class="type-var">'c</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'c</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dd><p>Generalization of <code>map</code> with two streams of results. If the two streams fail simultaneously, one of the two errors is propagated.</p></dd></dl><dl><dt class="spec value" id="val-map2_exn'"><a href="#val-map2_exn'" class="anchor"></a><code><span class="keyword">val</span> map2_exn' : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> (<span class="type-var">'c</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dd><p>Analoguous of <code>map2_exn</code> for total functions</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> init:<span class="type-var">'b</span> <span>&#45;&gt;</span> f:(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></code></dt><dd><p><code>fold rs ~init ~f</code> computes a value by iterating <code>f</code> on each <code>Ok</code> element of <code>rs</code> starting from <code>init</code>. The computation stops with an <code>Error</code> case as soon as one is met on the stream, or when <code>f</code> returns one.</p></dd></dl><dl><dt class="spec value" id="val-fold'"><a href="#val-fold'" class="anchor"></a><code><span class="keyword">val</span> fold' : (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> init:<span class="type-var">'b</span> <span>&#45;&gt;</span> f:(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></code></dt><dd><p>Same as <code>fold</code>, but for total functions.</p></dd></dl></div></body></html>