<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Deprecated_command (core_extended.Core_extended.Deprecated_command)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">core_extended</a> &#x00BB; <a href="../index.html">Core_extended</a> &#x00BB; Deprecated_command</nav><h1>Module <code>Core_extended.Deprecated_command</code></h1></header><aside><p>DEPRECATED: use Core.Command instead</p></aside><aside><p>command-line parsing with hierarchical sub-commands</p></aside><dl><dt class="spec exception" id="exception-Invalid_arguments"><a href="#exception-Invalid_arguments" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Invalid_arguments</span> <span class="keyword">of</span> string list</code></dt></dl><div class="spec module" id="module-Flag"><a href="#module-Flag" class="anchor"></a><code><span class="keyword">module</span> <a href="Flag/index.html">Flag</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Shared_flags"><a href="#module-Shared_flags" class="anchor"></a><code><span class="keyword">module</span> <a href="Shared_flags/index.html">Shared_flags</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><div class="spec module" id="module-Autocomplete"><a href="#module-Autocomplete" class="anchor"></a><code><span class="keyword">module</span> <a href="Autocomplete/index.html">Autocomplete</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><aside><p><code>create ~autocomplete ~summary ~usage_arg ~init ~flags ~final main</code> constructs a base command from the following data:</p><ul><li><code>'accum</code> a mutable accumulator type for gathering arguments</li><li><code>'args</code> a composite argument type for the command, build from <code>'accum</code></li><li><code>autocomplete</code> an optional argument defining a bash autocompletion function for the base command.</li><li><code>summary</code> a short description of what the command does</li><li><code>readme</code> a longer description of what the command does</li><li><code>usage_arg</code> an abbreviation of the arguments it expects</li><li><code>init</code> a function that creates an mutable accumulator of type <code>'accum</code></li><li><code>flags</code> a list of command line flags together with their associated accumulator-mutating actions</li><li><code>final</code> a function that constructs the final argument structure of type <code>'args</code> from the accumulated arguments. The second argument to the function is the list of all annonymous arguments. This function should raise an exception with some explanation if it is unable to construct a complete value of type <code>'args</code>.</li><li><code>help</code> an optional function that will be called to generate help for a command instead of the standard help</li><li><code>main</code> the main function, parameterized by the argument structure</li></ul></aside><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : ?&#8288;autocomplete:<a href="Autocomplete/index.html#type-t">Autocomplete.t</a> <span>&#45;&gt;</span> ?&#8288;readme:(unit <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> summary:string <span>&#45;&gt;</span> usage_arg:string <span>&#45;&gt;</span> init:(unit <span>&#45;&gt;</span> <span class="type-var">'accum</span>) <span>&#45;&gt;</span> flags:<span class="type-var">'accum</span> <a href="Flag/index.html#type-t">Flag.t</a> list <span>&#45;&gt;</span> final:(<span class="type-var">'accum</span> <span>&#45;&gt;</span> string list <span>&#45;&gt;</span> <span class="type-var">'argv</span>) <span>&#45;&gt;</span> (<span class="type-var">'argv</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-create0"><a href="#val-create0" class="anchor"></a><code><span class="keyword">val</span> create0 : ?&#8288;autocomplete:<a href="Autocomplete/index.html#type-t">Autocomplete.t</a> <span>&#45;&gt;</span> ?&#8288;readme:(unit <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> summary:string <span>&#45;&gt;</span> usage_arg:string <span>&#45;&gt;</span> init:(unit <span>&#45;&gt;</span> <span class="type-var">'accum</span>) <span>&#45;&gt;</span> flags:<span class="type-var">'accum</span> <a href="Flag/index.html#type-t">Flag.t</a> list <span>&#45;&gt;</span> final:(<span class="type-var">'accum</span> <span>&#45;&gt;</span> <span class="type-var">'args</span>) <span>&#45;&gt;</span> (<span class="type-var">'args</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-create_no_accum"><a href="#val-create_no_accum" class="anchor"></a><code><span class="keyword">val</span> create_no_accum : ?&#8288;autocomplete:<a href="Autocomplete/index.html#type-t">Autocomplete.t</a> <span>&#45;&gt;</span> ?&#8288;readme:(unit <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> summary:string <span>&#45;&gt;</span> usage_arg:string <span>&#45;&gt;</span> flags:unit <a href="Flag/index.html#type-t">Flag.t</a> list <span>&#45;&gt;</span> final:(string list <span>&#45;&gt;</span> <span class="type-var">'args</span>) <span>&#45;&gt;</span> (<span class="type-var">'args</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-create_no_accum0"><a href="#val-create_no_accum0" class="anchor"></a><code><span class="keyword">val</span> create_no_accum0 : ?&#8288;autocomplete:<a href="Autocomplete/index.html#type-t">Autocomplete.t</a> <span>&#45;&gt;</span> ?&#8288;readme:(unit <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> summary:string <span>&#45;&gt;</span> usage_arg:string <span>&#45;&gt;</span> flags:unit <a href="Flag/index.html#type-t">Flag.t</a> list <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-group"><a href="#val-group" class="anchor"></a><code><span class="keyword">val</span> group : summary:string <span>&#45;&gt;</span> ?&#8288;readme:(unit <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> (string * <a href="index.html#type-t">t</a>) list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>group ~summary [...; (name_i, t_i); ...]</code> is an aggregate command that dispatches to one of the named sub-commands. A <code>&quot;help&quot;</code> sub-command will also be generated for the group.</p><p>The name cannot contain underscores, however passing <code>allow_underscores=true</code> into run will parse underscores as dashes on the command line.</p></dd></dl><dl><dt class="spec type" id="type-with_run_flags"><a href="#type-with_run_flags" class="anchor"></a><code><span class="keyword">type</span> 'a with_run_flags</code><code> = ?&#8288;version:string <span>&#45;&gt;</span> ?&#8288;build_info:string <span>&#45;&gt;</span> ?&#8288;argv:string list <span>&#45;&gt;</span> ?&#8288;allow_unknown_flags:bool <span>&#45;&gt;</span> ?&#8288;allow_underscores:bool <span>&#45;&gt;</span> ?&#8288;hash_bang_expand:bool <span>&#45;&gt;</span> ?&#8288;post_parse:([ `Ok | `Error | `Help ] <span>&#45;&gt;</span> string list <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : unit <a href="index.html#type-with_run_flags">with_run_flags</a></code></dt><dt class="spec value" id="val-get_expanded_argv"><a href="#val-get_expanded_argv" class="anchor"></a><code><span class="keyword">val</span> get_expanded_argv : unit <span>&#45;&gt;</span> string list</code></dt><dt class="spec value" id="val-get_expanded_cmdline"><a href="#val-get_expanded_cmdline" class="anchor"></a><code><span class="keyword">val</span> get_expanded_cmdline : unit <span>&#45;&gt;</span> string</code></dt></dl><div class="spec module" id="module-Version"><a href="#module-Version" class="anchor"></a><code><span class="keyword">module</span> <a href="Version/index.html">Version</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Annotated_field"><a href="#module-Annotated_field" class="anchor"></a><code><span class="keyword">module</span> <a href="Annotated_field/index.html">Annotated_field</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module is intended to help in using pa_fields to easily generate Command.t's when you have a record type each field of which you would like specified as a command line argument.</p></dd></dl><div class="spec module" id="module-Flags_ext"><a href="#module-Flags_ext" class="anchor"></a><code><span class="keyword">module</span> <a href="Flags_ext/index.html">Flags_ext</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Helpers"><a href="#module-Helpers" class="anchor"></a><code><span class="keyword">module</span> <a href="Helpers/index.html">Helpers</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-of_core_command"><a href="#val-of_core_command" class="anchor"></a><code><span class="keyword">val</span> of_core_command : <a href="../../../core/Core/Command/index.html#type-t">Core.Command.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl></div></body></html>