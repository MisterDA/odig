<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Logger (core_extended.Core_extended.Logger)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">core_extended</a> &#x00BB; <a href="../index.html">Core_extended</a> &#x00BB; Logger</nav><h1>Module <code>Core_extended.Logger</code></h1></header><dl><dt class="spec type" id="type-message"><a href="#type-message" class="anchor"></a><code><span class="keyword">type</span> message</code><code> = [ `Fatal | `Error | `Warn | `Info | `Debug ] * string</code></dt><dt class="spec type" id="type-size"><a href="#type-size" class="anchor"></a><code><span class="keyword">type</span> size</code> = <code>[ </code><table class="variant"><tr id="type-size.Kb" class="anchored"><td class="def constructor"><a href="#type-size.Kb" class="anchor"></a><code>| </code><code>`Kb <span class="keyword">of</span> int64</code></td></tr><tr id="type-size.Mb" class="anchored"><td class="def constructor"><a href="#type-size.Mb" class="anchor"></a><code>| </code><code>`Mb <span class="keyword">of</span> int64</code></td></tr><tr id="type-size.Unlimited" class="anchored"><td class="def constructor"><a href="#type-size.Unlimited" class="anchor"></a><code>| </code><code>`Unlimited</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'messagetype t</code></dt><dt class="spec type" id="type-default_t"><a href="#type-default_t" class="anchor"></a><code><span class="keyword">type</span> default_t</code><code> = <a href="index.html#type-message">message</a> <a href="index.html#type-t">t</a></code></dt></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : ?&#8288;max_size:<a href="index.html#type-size">size</a> <span>&#45;&gt;</span> ?&#8288;mode:<a href="../../../core/Core__/Core_unix/index.html#type-file_perm">Core.Unix.file_perm</a> <span>&#45;&gt;</span> ?&#8288;max_archives:[ `Max of int | `Unlimited ] <span>&#45;&gt;</span> ?&#8288;full_callback:(string <a href="../../../core/Core/Squeue/index.html#type-t">Core.Squeue.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> ?&#8288;filter:(<span class="type-var">'messagetype</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> message_to_string:(<span class="type-var">'messagetype</span> <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'messagetype</span> <a href="index.html#type-t">t</a></code></dt><dd><ul><li>max_size - the maximum size of each log file (default 50Mb)</li><li>mode - mode to open the files in</li><li>max_archives - maximum number of archives to keep (default 4)</li><li>full_callback - called when the logger queue backs up so far that log items may have been lost. Defaults to doing nothing.</li><li>filter - if set, then every message is passed to filter before actually being logged. If filter returns false the message is dropped.</li><li>message_to_string - called to convert your message type to a string for logging</li></ul></dd></dl><dl><dt class="spec value" id="val-create_default"><a href="#val-create_default" class="anchor"></a><code><span class="keyword">val</span> create_default : ?&#8288;max_size:<a href="index.html#type-size">size</a> <span>&#45;&gt;</span> ?&#8288;mode:<a href="../../../core/Core__/Core_unix/index.html#type-file_perm">Core.Unix.file_perm</a> <span>&#45;&gt;</span> ?&#8288;max_archives:[ `Max of int | `Unlimited ] <span>&#45;&gt;</span> ?&#8288;full_callback:(string <a href="../../../core/Core/Squeue/index.html#type-t">Core.Squeue.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-message">message</a> <a href="index.html#type-t">t</a></code></dt><dd><p>creates a log using the default message type and a filter that drops `Debug messages</p></dd></dl><dl><dt class="spec value" id="val-log"><a href="#val-log" class="anchor"></a><code><span class="keyword">val</span> log : <span class="type-var">'messagetype</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'messagetype</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>logs a message to log</p></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val</span> filter : <span class="type-var">'messagetype</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'messagetype</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> unit</code></dt><dd><p>Sets the filter for a log</p></dd></dl><dl><dt class="spec value" id="val-clear_filter"><a href="#val-clear_filter" class="anchor"></a><code><span class="keyword">val</span> clear_filter : <span class="type-var">'messagetype</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>removes the filter from a log</p></dd></dl><aside><p>misc helper functions</p></aside><dl><dt class="spec value" id="val-maybe_log"><a href="#val-maybe_log" class="anchor"></a><code><span class="keyword">val</span> maybe_log : <span class="type-var">'messagetype</span> <a href="index.html#type-t">t</a> option <span>&#45;&gt;</span> <span class="type-var">'messagetype</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>logs a message to Some log, returns silently if log is None</p></dd></dl><dl><dt class="spec value" id="val-timestamp"><a href="#val-timestamp" class="anchor"></a><code><span class="keyword">val</span> timestamp : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Returns a timestamp as a string suitable for log files</p></dd></dl></div></body></html>