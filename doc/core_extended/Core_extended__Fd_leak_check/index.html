<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Core_extended__Fd_leak_check (core_extended.Core_extended__Fd_leak_check)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">core_extended</a> &#x00BB; Core_extended__Fd_leak_check</nav><h1>Module <code>Core_extended__Fd_leak_check</code></h1><p>File descriptor leak check.</p><p>This mod</p></header><dl><dt class="spec value" id="val-run_check_at_exit"><a href="#val-run_check_at_exit" class="anchor"></a><code><span class="keyword">val</span> run_check_at_exit : bool <a href="../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a></code></dt><dd><p>Toggle to turn on/off checking for descriptor leaks at exit (default: off)</p></dd></dl><dl><dt class="spec value" id="val-critical"><a href="#val-critical" class="anchor"></a><code><span class="keyword">val</span> critical : float <a href="../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a></code></dt><dd><p>Fraction of maximum number of descriptors considered critical. Default: 0.9</p></dd></dl><dl><dt class="spec value" id="val-report_open_files"><a href="#val-report_open_files" class="anchor"></a><code><span class="keyword">val</span> report_open_files : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>report_open_files ()</code> prints a dump of open file descriptors to <code>stderr</code> in two formats, one using the proc file system, the other by executing <code>/usr/sbin/lsof</code> in a child process.</p></dd></dl><dl><dt class="spec value" id="val-report_on_exn"><a href="#val-report_on_exn" class="anchor"></a><code><span class="keyword">val</span> report_on_exn : exn <span>&#45;&gt;</span> unit</code></dt><dd><p><code>report_on_exn exn</code> calls <a href="index.html#val-report_open_files"><code>report_open_files</code></a> iff <code>exn</code> indicates a file descriptor leak (Unix error with code EMFILE or ENFILE).</p></dd></dl><dl><dt class="spec value" id="val-get_num_open_fds"><a href="#val-get_num_open_fds" class="anchor"></a><code><span class="keyword">val</span> get_num_open_fds : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-percent_fds_in_use"><a href="#val-percent_fds_in_use" class="anchor"></a><code><span class="keyword">val</span> percent_fds_in_use : unit <span>&#45;&gt;</span> float</code></dt><dd><p><code>percent_fds_in_use ()</code> reports the percentage of fds that are in use.</p></dd></dl></div></body></html>