<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Core_extended__Low_level_debug (core_extended.Core_extended__Low_level_debug)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">core_extended</a> &#x00BB; Core_extended__Low_level_debug</nav><h1>Module <code>Core_extended__Low_level_debug</code></h1></header><dl><dt class="spec value" id="val-stop_upon_sigbus"><a href="#val-stop_upon_sigbus" class="anchor"></a><code><span class="keyword">val</span> stop_upon_sigbus : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-stop_upon_sigsegv"><a href="#val-stop_upon_sigsegv" class="anchor"></a><code><span class="keyword">val</span> stop_upon_sigsegv : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-stop_upon_sigpipe"><a href="#val-stop_upon_sigpipe" class="anchor"></a><code><span class="keyword">val</span> stop_upon_sigpipe : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-stop_upon_exit"><a href="#val-stop_upon_exit" class="anchor"></a><code><span class="keyword">val</span> stop_upon_exit : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-stop_me_now"><a href="#val-stop_me_now" class="anchor"></a><code><span class="keyword">val</span> stop_me_now : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-segfault_me_now"><a href="#val-segfault_me_now" class="anchor"></a><code><span class="keyword">val</span> segfault_me_now : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-start_canary_thread"><a href="#val-start_canary_thread" class="anchor"></a><code><span class="keyword">val</span> start_canary_thread : max_wait:<a href="../../core_kernel/Core_kernel__Time_intf/module-type-S/Time/Span/index.html#type-t">Core.Time.Span.t</a> <span>&#45;&gt;</span> check_interval:<a href="../../core_kernel/Core_kernel__Time_intf/module-type-S/Time/Span/index.html#type-t">Core.Time.Span.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>A canary thread starts two threads, one in caml and one in C. The caml thread tries to take the caml lock every <code>check_interval</code>, and immediately releases it once it succeeds. The C thread checks that your thread is getting the caml lock within <code>max_wait</code>, and if it isn't it stops the program (see stop_me_now). You can then inspect your program with gdb and hopefully determine what caused it to block. It is safe to continue a program stopped by the canary thread, though there is no special handling in the canary thread to support this, so it may stop your program again. If you do manage to continue, the canary thread should continue to work.</p><p>It is not safe to call this function more than once, in a given program an exception will be raised if you do (but a second canary will not be started).</p></dd></dl><dl><dt class="spec value" id="val-obj_to_sexp"><a href="#val-obj_to_sexp" class="anchor"></a><code><span class="keyword">val</span> obj_to_sexp : <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../core_kernel/Core_kernel/Sexp/index.html#type-t">Core.Sexp.t</a></code></dt><dd><p>Obtain a sexp representation of any type. Note that this will likely infinite-loop and overflow the stack for any value whose structure is circularly recursive.</p></dd></dl><dl><dt class="spec value" id="val-obj_to_string"><a href="#val-obj_to_string" class="anchor"></a><code><span class="keyword">val</span> obj_to_string : <span class="type-var">'a</span> <span>&#45;&gt;</span> string</code></dt><dd><p>Obtain a string representation of any type. Note that this will likely infinite-loop and overflow the stack for any value whose structure is circularly recursive.</p></dd></dl></div></body></html>