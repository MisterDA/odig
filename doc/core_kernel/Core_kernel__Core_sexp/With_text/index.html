<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>With_text (core_kernel.Core_kernel__Core_sexp.With_text)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">core_kernel</a> &#x00BB; <a href="../index.html">Core_kernel__Core_sexp</a> &#x00BB; With_text</nav><h1>Module <code>Core_kernel__Core_sexp.With_text</code></h1><p>A <code>With_text.t</code> is a value paired with the full textual representation of its sexp. This is useful for dealing with the case where you want to keep track of a value along with the format of the s-expression it was generated from, which allows you to maintain formatting details, comments, etc.</p><p>The s-expression representation of a <code>With_text.t</code> is the raw text, stored as an atom. The bin_io representation contains both the bin_io of the underlying value and the bin_io'd version of the raw text.</p><p>This is similar to but simpler than the <code>With_layout</code> module included above (via <code>Sexp_intf.S</code>), which gives you access to a fully parsed version of the s-expression, with attached comments and layout information, to allow you to build layout-preserving s-expression transformations.</p><p>The invariants of a <code>x With_text.t</code> are broken if the <code>x</code> value is mutated.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>'a t</code></dt></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-bin_t"><a href="#val-bin_t" class="anchor"></a><code><span class="keyword">val </span>bin_t : <span class="type-var">'a</span> Bin_prot.Type_class.t <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Bin_prot.Type_class.t</code></dt><dt class="spec value" id="val-bin_read_t"><a href="#val-bin_read_t" class="anchor"></a><code><span class="keyword">val </span>bin_read_t : <span class="type-var">'a</span> Bin_prot.Read.reader <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Bin_prot.Read.reader</code></dt><dt class="spec value" id="val-__bin_read_t__"><a href="#val-__bin_read_t__" class="anchor"></a><code><span class="keyword">val </span>__bin_read_t__ : <span class="type-var">'a</span> Bin_prot.Read.reader <span>&#45;&gt;</span> (Core_kernel__.Import.int <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) Bin_prot.Read.reader</code></dt><dt class="spec value" id="val-bin_reader_t"><a href="#val-bin_reader_t" class="anchor"></a><code><span class="keyword">val </span>bin_reader_t : <span class="type-var">'a</span> Bin_prot.Type_class.reader <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Bin_prot.Type_class.reader</code></dt><dt class="spec value" id="val-bin_size_t"><a href="#val-bin_size_t" class="anchor"></a><code><span class="keyword">val </span>bin_size_t : <span class="type-var">'a</span> Bin_prot.Size.sizer <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Bin_prot.Size.sizer</code></dt><dt class="spec value" id="val-bin_write_t"><a href="#val-bin_write_t" class="anchor"></a><code><span class="keyword">val </span>bin_write_t : <span class="type-var">'a</span> Bin_prot.Write.writer <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Bin_prot.Write.writer</code></dt><dt class="spec value" id="val-bin_writer_t"><a href="#val-bin_writer_t" class="anchor"></a><code><span class="keyword">val </span>bin_writer_t : <span class="type-var">'a</span> Bin_prot.Type_class.writer <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Bin_prot.Type_class.writer</code></dt><dt class="spec value" id="val-bin_shape_t"><a href="#val-bin_shape_t" class="anchor"></a><code><span class="keyword">val </span>bin_shape_t : Bin_prot.Shape.t <span>&#45;&gt;</span> Bin_prot.Shape.t</code></dt><dt class="spec value" id="val-t_of_sexp"><a href="#val-t_of_sexp" class="anchor"></a><code><span class="keyword">val </span>t_of_sexp : (Sexplib.Sexp.t <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> Sexplib.Sexp.t <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span class="keyword">val </span>sexp_of_t : (<span class="type-var">'a</span> <span>&#45;&gt;</span> Sexplib.Sexp.t) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Sexplib.Sexp.t</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-of_value"><a href="#val-of_value" class="anchor"></a><code><span class="keyword">val </span>of_value : (<span class="type-var">'a</span> <span>&#45;&gt;</span> Core_kernel__.Import.Sexp.t) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Generates a <code>t</code> from the value by creating the text automatically using the provided s-expression converter.</p></dd></dl><dl><dt class="spec value" id="val-of_text"><a href="#val-of_text" class="anchor"></a><code><span class="keyword">val </span>of_text : (Core_kernel__.Import.Sexp.t <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> ?&#8288;filename:Core_kernel__.Import.string <span>&#45;&gt;</span> Core_kernel__.Import.string <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Core_kernel__.Or_error.t</code></dt><dd><p>Creates a <code>t</code> from the text, by first converting the text to an s-expression, and then parsing the s-expression with the provided converter.</p></dd></dl><dl><dt class="spec value" id="val-value"><a href="#val-value" class="anchor"></a><code><span class="keyword">val </span>value : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-text"><a href="#val-text" class="anchor"></a><code><span class="keyword">val </span>text : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Core_kernel__.Import.string</code></dt></dl></div></body></html>