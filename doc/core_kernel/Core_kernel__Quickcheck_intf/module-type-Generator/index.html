<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Generator (core_kernel.Core_kernel__Quickcheck_intf.Generator)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">core_kernel</a> &#x00BB; <a href="../index.html">Core_kernel__Quickcheck_intf</a> &#x00BB; Generator</nav><h1>Module type <code>Core_kernel__Quickcheck_intf.Generator</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>+'a t</code></dt><dd><p>An <code>'a t</code> a generates values of type <code>'a</code> with a specific probability distribution.</p><p>Generators are constructed as functions that produce a value from a splittable pseudorandom number generator (see <code>Splittable_random</code>), with a <code>~size</code> argument threaded through to bound the size of the result value and the depth of recursion.</p><p>There is no prescribed semantics for <code>size</code> other than that it must be non-negative. Non-recursive generators are free to ignore it, and recursive generators need only make sure it decreases in recursive calls and that recursion bottoms out at 0.</p></dd></dl><dl><dt class="spec type" id="type-obs"><a href="#type-obs" class="anchor"></a><code><span class="keyword">type </span>-'a obs</code></dt></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val </span>create : (size:Core_kernel__.Import.int <span>&#45;&gt;</span> Core_kernel__.Splittable_random.State.t <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-generate"><a href="#val-generate" class="anchor"></a><code><span class="keyword">val </span>generate : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> size:Core_kernel__.Import.int <span>&#45;&gt;</span> Core_kernel__.Splittable_random.State.t <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><div><div class="spec include"><div class="doc"><p>Generators form a monad. <code>t1 &gt;&gt;= fun x -&gt; t2</code> replaces each value <code>x</code> in <code>t1</code> with the values in <code>t2</code>; each value's probability is the product of its probability in <code>t1</code> and <code>t2</code>.</p><p>This can be used to form distributions of related values. For instance, the following expression creates a distribution of pairs <code>x,y</code> where <code>x &lt;= y</code>:</p><pre><code class="ml">Int.gen
&gt;&gt;= fun x -&gt;
Int.gen_incl x Int.max_value
&gt;&gt;| fun y -&gt;
x, y</code></pre><details open="open"><summary><span class="def"><code><span class="keyword">include </span>Core_kernel__.Import.Monad.S<span class="keyword"> with </span><span class="keyword">type </span>'a <a href="../index.html#module-type-Generator">Generator</a>.t := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec value" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span class="keyword">val </span>(&gt;&gt;=) : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-(&gt;&gt;|)"><a href="#val-(&gt;&gt;|)" class="anchor"></a><code><span class="keyword">val </span>(&gt;&gt;|) : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt></dl><div class="spec module" id="module-Monad_infix"><a href="#module-Monad_infix" class="anchor"></a><code><span class="keyword">module </span><a href="Monad_infix/index.html">Monad_infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span class="keyword">val </span>bind : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val </span>return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-join"><a href="#val-join" class="anchor"></a><code><span class="keyword">val </span>join : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-ignore_m"><a href="#val-ignore_m" class="anchor"></a><code><span class="keyword">val </span>ignore_m : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all"><a href="#val-all" class="anchor"></a><code><span class="keyword">val </span>all : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all_ignore"><a href="#val-all_ignore" class="anchor"></a><code><span class="keyword">val </span>all_ignore : unit <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt></dl><div class="spec module" id="module-Let_syntax"><a href="#module-Let_syntax" class="anchor"></a><code><span class="keyword">module </span><a href="Let_syntax/index.html">Let_syntax</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span>Core_kernel__.Import.Applicative.S<span class="keyword"> with </span><span class="keyword">type </span>'a <a href="../index.html#module-type-Generator">Generator</a>.t := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val </span>return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span class="keyword">val </span>apply : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map2"><a href="#val-map2" class="anchor"></a><code><span class="keyword">val </span>map2 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map3"><a href="#val-map3" class="anchor"></a><code><span class="keyword">val </span>map3 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>) <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all"><a href="#val-all" class="anchor"></a><code><span class="keyword">val </span>all : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all_ignore"><a href="#val-all_ignore" class="anchor"></a><code><span class="keyword">val </span>all_ignore : unit <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-both"><a href="#val-both" class="anchor"></a><code><span class="keyword">val </span>both : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></dt></dl><div class="spec module" id="module-Applicative_infix"><a href="#module-Applicative_infix" class="anchor"></a><code><span class="keyword">module </span><a href="Applicative_infix/index.html">Applicative_infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-(&lt;*&gt;)"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span class="keyword">val </span>(&lt;*&gt;) : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-(&lt;*)"><a href="#val-(&lt;*)" class="anchor"></a><code><span class="keyword">val </span>(&lt;*) : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-(*&gt;)"><a href="#val-(*&gt;)" class="anchor"></a><code><span class="keyword">val </span>(*&gt;) : unit <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val </span>size : Core_kernel__.Import.int <a href="index.html#type-t">t</a></code></dt><dd><p><code>size = create (fun ~size _ -&gt; size)</code></p></dd></dl><dl><dt class="spec value" id="val-with_size"><a href="#val-with_size" class="anchor"></a><code><span class="keyword">val </span>with_size : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> size:Core_kernel__.Import.int <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>with_size t ~size = create (fun ~size:_ random -&gt; generate t ~size random)</code></p></dd></dl><dl><dt class="spec value" id="val-singleton"><a href="#val-singleton" class="anchor"></a><code><span class="keyword">val </span>singleton : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-doubleton"><a href="#val-doubleton" class="anchor"></a><code><span class="keyword">val </span>doubleton : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val </span>of_list : <span class="type-var">'a</span> Core_kernel__.Import.list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Produce any of the given values, weighted equally.</p><p><code>of_list [ v1 ; ... ; vN ] = union [ singleton v1 ; ... ; singleton vN ]</code></p></dd></dl><dl><dt class="spec value" id="val-union"><a href="#val-union" class="anchor"></a><code><span class="keyword">val </span>union : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> Core_kernel__.Import.list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Combine arbitary generators, weighted equally.</p><p><code> union [ g1 ; ... ; gN ] = weighted_union [ (1.0, g1) ; ... ; (1.0, gN) ] </code></p></dd></dl><dl><dt class="spec value" id="val-of_sequence"><a href="#val-of_sequence" class="anchor"></a><code><span class="keyword">val </span>of_sequence : p:Core_kernel__.Import.float <span>&#45;&gt;</span> <span class="type-var">'a</span> Core_kernel__.Sequence.t <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Generator for the values from a potentially infinite sequence. Chooses each value with probability <code>p</code>, or continues with probability <code>1-p</code>. Must satisfy <code>0. &lt; p &amp;&amp;
      p &lt;= 1.</code>.</p></dd></dl><dl><dt class="spec value" id="val-tuple2"><a href="#val-tuple2" class="anchor"></a><code><span class="keyword">val </span>tuple2 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple3"><a href="#val-tuple3" class="anchor"></a><code><span class="keyword">val </span>tuple3 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span><span class="keyword"> * </span><span class="type-var">'c</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple4"><a href="#val-tuple4" class="anchor"></a><code><span class="keyword">val </span>tuple4 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span><span class="keyword"> * </span><span class="type-var">'c</span><span class="keyword"> * </span><span class="type-var">'d</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple5"><a href="#val-tuple5" class="anchor"></a><code><span class="keyword">val </span>tuple5 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span><span class="keyword"> * </span><span class="type-var">'c</span><span class="keyword"> * </span><span class="type-var">'d</span><span class="keyword"> * </span><span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple6"><a href="#val-tuple6" class="anchor"></a><code><span class="keyword">val </span>tuple6 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span><span class="keyword"> * </span><span class="type-var">'c</span><span class="keyword"> * </span><span class="type-var">'d</span><span class="keyword"> * </span><span class="type-var">'e</span><span class="keyword"> * </span><span class="type-var">'f</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant2"><a href="#val-variant2" class="anchor"></a><code><span class="keyword">val </span>variant2 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span><span class="keyword"> | </span>`B of <span class="type-var">'b</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant3"><a href="#val-variant3" class="anchor"></a><code><span class="keyword">val </span>variant3 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span><span class="keyword"> | </span>`B of <span class="type-var">'b</span><span class="keyword"> | </span>`C of <span class="type-var">'c</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant4"><a href="#val-variant4" class="anchor"></a><code><span class="keyword">val </span>variant4 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span><span class="keyword"> | </span>`B of <span class="type-var">'b</span><span class="keyword"> | </span>`C of <span class="type-var">'c</span><span class="keyword"> | </span>`D of <span class="type-var">'d</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant5"><a href="#val-variant5" class="anchor"></a><code><span class="keyword">val </span>variant5 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span><span class="keyword"> | </span>`B of <span class="type-var">'b</span><span class="keyword"> | </span>`C of <span class="type-var">'c</span><span class="keyword"> | </span>`D of <span class="type-var">'d</span><span class="keyword"> | </span>`E of <span class="type-var">'e</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant6"><a href="#val-variant6" class="anchor"></a><code><span class="keyword">val </span>variant6 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span><span class="keyword"> | </span>`B of <span class="type-var">'b</span><span class="keyword"> | </span>`C of <span class="type-var">'c</span><span class="keyword"> | </span>`D of <span class="type-var">'d</span><span class="keyword"> | </span>`E of <span class="type-var">'e</span><span class="keyword"> | </span>`F of <span class="type-var">'f</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-geometric"><a href="#val-geometric" class="anchor"></a><code><span class="keyword">val </span>geometric : p:Core_kernel__.Import.float <span>&#45;&gt;</span> Core_kernel__.Import.int <span>&#45;&gt;</span> Core_kernel__.Import.int <a href="index.html#type-t">t</a></code></dt><dd><p><code>geometric ~p init</code> produces a geometric distribution (think &quot;radioactive decay&quot;) that produces <code>init</code> with probability <code>p</code>, and otherwise recursively chooses from <code>geometric ~p (init+1)</code>. Must satisfy <code>0. &lt; p &amp;&amp; p &lt;= 1.</code>.</p></dd></dl><dl><dt class="spec value" id="val-small_non_negative_int"><a href="#val-small_non_negative_int" class="anchor"></a><code><span class="keyword">val </span>small_non_negative_int : Core_kernel__.Import.int <a href="index.html#type-t">t</a></code></dt><dd><p><code>small_non_negative_int = geometric ~p:0.25 0</code></p></dd></dl><dl><dt class="spec value" id="val-small_positive_int"><a href="#val-small_positive_int" class="anchor"></a><code><span class="keyword">val </span>small_positive_int : Core_kernel__.Import.int <a href="index.html#type-t">t</a></code></dt><dd><p><code>small_positive_int = geometric ~p:0.25 1</code></p></dd></dl><dl><dt class="spec value" id="val-fn"><a href="#val-fn" class="anchor"></a><code><span class="keyword">val </span>fn : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></dt><dd><p>Generators for functions; take observers for inputs and a generator for outputs.</p></dd></dl><dl><dt class="spec value" id="val-fn2"><a href="#val-fn2" class="anchor"></a><code><span class="keyword">val </span>fn2 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn3"><a href="#val-fn3" class="anchor"></a><code><span class="keyword">val </span>fn3 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn4"><a href="#val-fn4" class="anchor"></a><code><span class="keyword">val </span>fn4 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn5"><a href="#val-fn5" class="anchor"></a><code><span class="keyword">val </span>fn5 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'e</span> <span>&#45;&gt;</span> <span class="type-var">'f</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn6"><a href="#val-fn6" class="anchor"></a><code><span class="keyword">val </span>fn6 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'g</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'e</span> <span>&#45;&gt;</span> <span class="type-var">'f</span> <span>&#45;&gt;</span> <span class="type-var">'g</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-compare_fn"><a href="#val-compare_fn" class="anchor"></a><code><span class="keyword">val </span>compare_fn : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> Core_kernel__.Import.int) <a href="index.html#type-t">t</a></code></dt><dd><p>Generator for comparison functions; result is guaranteed to be a partial order.</p></dd></dl><dl><dt class="spec value" id="val-equal_fn"><a href="#val-equal_fn" class="anchor"></a><code><span class="keyword">val </span>equal_fn : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> Core_kernel__.Import.bool) <a href="index.html#type-t">t</a></code></dt><dd><p>Generator for equality functions; result is guaranteed to be an equivalence relation.</p></dd></dl><dl><dt class="spec value" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span class="keyword">val </span>filter_map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> Core_kernel__.Import.option) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>filter_map t ~f</code> produces <code>y</code> for every <code>x</code> in <code>t</code> such that <code>f x = Some y</code>. <code>filter t ~f</code> produces every <code>x</code> in <code>t</code> such that <code>f x = true</code>.</p><p>Caveat: Use <code>filter</code> and <code>filter_map</code> sparingly. Every time <code>f</code> rejects a value, it counts as a failed attempt to produce a value. Too many failures can cause Quickcheck to take a long time to generate values, or fail a test if it fails more times than the maximum configured number of attempts.</p></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val </span>filter : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> Core_kernel__.Import.bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-recursive"><a href="#val-recursive" class="anchor"></a><code><span class="keyword">val </span>recursive : (<span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Fixed-point generator. Use <code>size</code> to bound the size of the value and the depth of the recursion. There is no prescribed semantics for <code>size</code> except that it must be non-negative. For example, the following produces a naive generator for natural numbers:</p><pre><code class="ml">recursive (fun self -&gt;
  match%bind size with
  | 0 -&gt; singleton 0
  | n -&gt; with_size self ~size:(n-1) &gt;&gt;| Int.succ)</code></pre></dd></dl><dl><dt class="spec value" id="val-weighted_union"><a href="#val-weighted_union" class="anchor"></a><code><span class="keyword">val </span>weighted_union : (Core_kernel__.Import.float<span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a>) Core_kernel__.Import.list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>weighted_union alist</code> produces a generator that combines the distributions of each <code>t</code> in <code>alist</code> with the associated weights, which must be finite positive floating point values.</p></dd></dl><dl><dt class="spec value" id="val-of_fun"><a href="#val-of_fun" class="anchor"></a><code><span class="keyword">val </span>of_fun : (Core_kernel__.Import.unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_fun f</code> produces a generator that lazily applies <code>f</code>.</p><p>It is recommended that <code>f</code> not be memoized. Instead, spread out the work of generating a whole distribution over many <code>of_fun</code> calls combined with <code>weighted_union</code>. This allows lazily generated generators to be garbage collected after each test and the relevant portions cheaply recomputed in subsequent tests, rather than accumulating without bound over time.</p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val </span>list : ?&#8288;min_len:Core_kernel__.Import.int <span>&#45;&gt;</span> ?&#8288;max_len:Core_kernel__.Import.int <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> Core_kernel__.Import.list <a href="index.html#type-t">t</a></code></dt><dd><p><code>list ?min_len ?max_len t</code> creates a list generator with elements drawn from <code>t</code>, with optional bounds on its length specified by <code>min_len</code> and <code>max_len</code>. The size passed to the list generator will be distributed among the generated elements. This is used to implement <code>List.gen</code> and <code>List.gen'</code>; they produce identical distributions.</p></dd></dl></div></body></html>