<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CLIENT (dns.Dns__Protocol.CLIENT)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">dns</a> &#x00BB; <a href="../index.html">Dns__Protocol</a> &#x00BB; CLIENT</nav><h1>Module type <code>Dns__Protocol.CLIENT</code></h1><p>The type of pluggable DNS resolver modules for request contexts and custom metadata and wire protocols.</p></header><dl><dt class="spec type" id="type-context"><a href="#type-context" class="anchor"></a><code><span class="keyword">type</span> context</code></dt></dl><dl><dt class="spec value" id="val-get_id"><a href="#val-get_id" class="anchor"></a><code><span class="keyword">val</span> get_id : unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-marshal"><a href="#val-marshal" class="anchor"></a><code><span class="keyword">val</span> marshal : ?&#8288;alloc:(unit <span>&#45;&gt;</span> <a href="../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a>) <span>&#45;&gt;</span> <a href="../../Dns/Packet/index.html#type-t">Dns.Packet.t</a> <span>&#45;&gt;</span> (<a href="index.html#type-context">context</a> * <a href="../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a>) list</code></dt><dd><p><code>marshal query</code> is a list of context-buffer pairs corresponding to the channel contexts and request buffers with which to attempt DNS requests. Requests are made in parallel and the first response to successfully parse is returned as the answer. Lagging requests are kept running until successful parse or timeout. With this behavior, it is easy to construct low-latency but network-environment-aware DNS resolvers.</p></dd></dl><dl><dt class="spec value" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val</span> parse : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <a href="../../../cstruct/Cstruct/index.html#type-t">Cstruct.t</a> <span>&#45;&gt;</span> <a href="../../Dns/Packet/index.html#type-t">Dns.Packet.t</a> option</code></dt><dd><p><code>parse ctxt buf</code> is the potential packet extracted out of <code>buf</code> with <code>ctxt</code></p></dd></dl><dl><dt class="spec value" id="val-timeout"><a href="#val-timeout" class="anchor"></a><code><span class="keyword">val</span> timeout : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> exn</code></dt><dd><p><code>timeout ctxt</code> is the exception resulting from a context <code>ctxt</code> that has timed-out</p></dd></dl></div></body></html>