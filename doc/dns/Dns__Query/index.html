<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dns__Query (dns.Dns__Query)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">dns</a> &#x00BB; Dns__Query</nav><h1>Module <code>Dns__Query</code></h1><p>Map DNS query-response mechanism onto trie database.</p><dl><dt>author</dt><dd>Tim Deegan</dd></dl><dl><dt>author</dt><dd>Richard Mortier &lt;mort\@cantab.net&gt; (documentation)</dd></dl></header><dl><dt class="spec type" id="type-answer"><a href="#type-answer" class="anchor"></a><code><span class="keyword">type</span> answer</code><code> = </code><code>{</code><table class="record"><tr id="type-answer.rcode" class="anchored"><td class="def field"><a href="#type-answer.rcode" class="anchor"></a><code>rcode : <a href="../Dns/Packet/index.html#type-rcode">Dns.Packet.rcode</a>;</code></td></tr><tr id="type-answer.aa" class="anchored"><td class="def field"><a href="#type-answer.aa" class="anchor"></a><code>aa : bool;</code></td></tr><tr id="type-answer.answer" class="anchored"><td class="def field"><a href="#type-answer.answer" class="anchor"></a><code>answer : <a href="../Dns/Packet/index.html#type-rr">Dns.Packet.rr</a> list;</code></td></tr><tr id="type-answer.authority" class="anchored"><td class="def field"><a href="#type-answer.authority" class="anchor"></a><code>authority : <a href="../Dns/Packet/index.html#type-rr">Dns.Packet.rr</a> list;</code></td></tr><tr id="type-answer.additional" class="anchored"><td class="def field"><a href="#type-answer.additional" class="anchor"></a><code>additional : <a href="../Dns/Packet/index.html#type-rr">Dns.Packet.rr</a> list;</code></td></tr></table><code>}</code></dt><dd><p>Partially-marshalled query response; that is, it has been uncompacted from the compact <code>Trie</code> representation, but not yet rendered into a <span class="xref-unresolved" title="unresolved reference to &quot;Cstruct.buf&quot;"><a href="../../cstruct/Cstruct/index.html"><code>Cstruct</code></a>.buf</span>.</p></dd></dl><dl><dt class="spec type" id="type-filter"><a href="#type-filter" class="anchor"></a><code><span class="keyword">type</span> filter</code><code> = <a href="../Dns/Name/index.html#type-t">Dns.Name.t</a> <span>&#45;&gt;</span> <a href="../Dns/RR/index.html#type-rrset">Dns.RR.rrset</a> <span>&#45;&gt;</span> <a href="../Dns/RR/index.html#type-rrset">Dns.RR.rrset</a></code></dt><dt class="spec type" id="type-flush"><a href="#type-flush" class="anchor"></a><code><span class="keyword">type</span> flush</code><code> = <a href="../Dns/Name/index.html#type-t">Dns.Name.t</a> <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-rdata">Dns.Packet.rdata</a> <span>&#45;&gt;</span> bool</code></dt></dl><dl><dt class="spec value" id="val-response_of_answer"><a href="#val-response_of_answer" class="anchor"></a><code><span class="keyword">val</span> response_of_answer : ?&#8288;mdns:bool <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-t">Dns.Packet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a> <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-t">Dns.Packet.t</a></code></dt><dd><p><code>response_of_answer query answer</code> is the <span class="xref-unresolved" title="unresolved reference to &quot;Packet.t&quot;"><code>Packet</code>.t</span> constructed from the <code>answer</code> to the <code>query</code></p></dd></dl><dl><dt class="spec value" id="val-answer_of_response"><a href="#val-answer_of_response" class="anchor"></a><code><span class="keyword">val</span> answer_of_response : ?&#8288;preserve_aa:bool <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-t">Dns.Packet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a></code></dt><dd><p><code>answer_of_response response</code> is the <a href="index.html#type-answer"><code>answer</code></a> corresponding to the upstream <code>response</code> for proxied or forwarded response.</p></dd></dl><dl><dt class="spec value" id="val-answer"><a href="#val-answer" class="anchor"></a><code><span class="keyword">val</span> answer : ?&#8288;dnssec:bool <span>&#45;&gt;</span> ?&#8288;mdns:bool <span>&#45;&gt;</span> ?&#8288;filter:<a href="index.html#type-filter">filter</a> <span>&#45;&gt;</span> ?&#8288;flush:<a href="index.html#type-flush">flush</a> <span>&#45;&gt;</span> <a href="../Dns/Name/index.html#type-t">Dns.Name.t</a> <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-q_type">Dns.Packet.q_type</a> <span>&#45;&gt;</span> <a href="../Dns/Trie/index.html#type-dnstrie">Dns.Trie.dnstrie</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a></code></dt><dd><p>Answer a query about <code>domain_name</code>, given a query type <code>q_type</code> and a <code>Trie</code> of DNS data.</p><dl><dt>returns</dt><dd><p>the <a href="index.html#type-answer"><code>answer</code></a></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-answer_multiple"><a href="#val-answer_multiple" class="anchor"></a><code><span class="keyword">val</span> answer_multiple : ?&#8288;dnssec:bool <span>&#45;&gt;</span> ?&#8288;mdns:bool <span>&#45;&gt;</span> ?&#8288;filter:<a href="index.html#type-filter">filter</a> <span>&#45;&gt;</span> ?&#8288;flush:<a href="index.html#type-flush">flush</a> <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-question">Dns.Packet.question</a> list <span>&#45;&gt;</span> <a href="../Dns/Trie/index.html#type-dnstrie">Dns.Trie.dnstrie</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a></code></dt><dd><p>Answer one or more <code>questions</code> given a <code>Trie</code> of DNS data.</p><dl><dt>returns</dt><dd><p>the <a href="index.html#type-answer"><code>answer</code></a></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : ?&#8288;dnssec:bool <span>&#45;&gt;</span> id:int <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-q_class">Dns.Packet.q_class</a> <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-q_type">Dns.Packet.q_type</a> <span>&#45;&gt;</span> <a href="../Dns/Name/index.html#type-t">Dns.Name.t</a> <span>&#45;&gt;</span> <a href="../Dns/Packet/index.html#type-t">Dns.Packet.t</a></code></dt><dd><p><code>create ~id q_class q_type q_name</code> creates a query for <code>q_name</code> with the supplied <code>id</code>, <code>q_class</code>, and <code>q_type</code>.</p></dd></dl></div></body></html>