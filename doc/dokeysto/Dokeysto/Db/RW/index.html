<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>RW (dokeysto.Dokeysto.Db.RW)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">dokeysto</a> &#x00BB; <a href="../../index.html">Dokeysto</a> &#x00BB; <a href="../index.html">Db</a> &#x00BB; RW</nav><h1>Module <code>Db.RW</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <a href="../index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create fn</code> create in read-write mode the persistent hashtbl whose data are stored in file <code>fn</code> and whose index is stored in <code>fn ^ &quot;.idx&quot;</code>.</p></dd></dl><dl><dt class="spec value" id="val-open_existing"><a href="#val-open_existing" class="anchor"></a><code><span class="keyword">val</span> open_existing : <a href="../index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_existing fn</code> open in read-write mode the persistent hashtbl whose data are stored in file <code>fn</code> and whose index is stored in <code>fn ^ &quot;.idx&quot;</code>.</p></dd></dl><dl><dt class="spec value" id="val-dummy"><a href="#val-dummy" class="anchor"></a><code><span class="keyword">val</span> dummy : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>dummy ()</code> create a value of type <code>t</code>. Do not do anything with this value.</p></dd></dl><dl><dt class="spec value" id="val-close"><a href="#val-close" class="anchor"></a><code><span class="keyword">val</span> close : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>close db</code> close the previously opened <code>db</code>.</p></dd></dl><dl><dt class="spec value" id="val-sync"><a href="#val-sync" class="anchor"></a><code><span class="keyword">val</span> sync : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>sync db</code> sync to disk the data and metadata (index) of <code>db</code>.</p></dd></dl><dl><dt class="spec value" id="val-destroy"><a href="#val-destroy" class="anchor"></a><code><span class="keyword">val</span> destroy : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>destroy db</code> rm data and metadata files of <code>db</code> and clear <code>db</code>'s index hashtbl.</p></dd></dl><dl><dt class="spec value" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val</span> mem : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool</code></dt><dd><p><code>mem db k</code> check if <code>k</code> is bound in <code>db</code>.</p></dd></dl><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add db k v</code> add the key-value binding <code>(k,v)</code> to <code>db</code>.</p></dd></dl><dl><dt class="spec value" id="val-replace"><a href="#val-replace" class="anchor"></a><code><span class="keyword">val</span> replace : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>replace db k v</code> replace the current binding for <code>k</code> in <code>db</code> by a binding from <code>k</code> to <code>v</code>. Cf. Hashtbl.replace for details.</p></dd></dl><dl><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>remove tbl k</code> remove the current binding for <code>k</code> in <code>db</code>. Cf. Hashtbl.replace for details.</p></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>find db k</code> get the current binding of <code>k</code> in <code>db</code> or raise <code>Not_found</code>.</p></dd></dl><dl><dt class="spec value" id="val-raw_read"><a href="#val-raw_read" class="anchor"></a><code><span class="keyword">val</span> raw_read : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-position">position</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>raw_read db pos</code> read from the data file of <code>db</code> the string at position <code>pos</code>. WARNING: regular users should not need to call this function.</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : (string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter f db</code> apply <code>f</code> to all key-value pairs in <code>db</code>. Cf. Hashtbl.iter for details.</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : (string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold f db init</code> fold <code>f</code> over all key-value pairs in <code>db</code>. Cf. Hashtbl.fold for details.</p></dd></dl></div></body></html>