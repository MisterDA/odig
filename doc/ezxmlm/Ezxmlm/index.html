<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ezxmlm (ezxmlm.Ezxmlm)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ezxmlm</a> &#x00BB; Ezxmlm</nav><h1>Module <code>Ezxmlm</code></h1><p>An &quot;easy&quot; interface on top of the <code>Xmlm</code> library.</p><p>This version provides more convenient (but less flexible) input and output functions that go to and from <code>string</code> values. This avoids the need to write signal code, which is useful for quick scripts that manipulate XML.</p><p>More advanced users should go straight to the <code>Xmlm</code> library and use it directly, rather than be saddled with the Ezxmlm interface below.</p><nav class="toc"><ul><li><a href="#basic-types">Basic types</a></li><li><a href="#reading-xml-values">Reading XML values</a></li><li><a href="#writing-xml-values">Writing XML values</a></li><li><a href="#attribute-handling">Attribute handling</a></li><li><a href="#selectors-and-utility-functions">Selectors and utility functions</a></li></ul></nav></header><section><header><h3 id="basic-types"><a href="#basic-types" class="anchor"></a>Basic types</h3></header><dl><dt class="spec type" id="type-node"><a href="#type-node" class="anchor"></a><code><span class="keyword">type</span> node</code><code> = <span class="type-var">'a</span> <a href="../../xmlm/Xmlm/index.html#type-frag">Xmlm.frag</a> <span class="keyword">as</span> a <a href="../../xmlm/Xmlm/index.html#type-frag">Xmlm.frag</a></code></dt><dd><p>The type of a single XML tag</p></dd></dl><dl><dt class="spec type" id="type-nodes"><a href="#type-nodes" class="anchor"></a><code><span class="keyword">type</span> nodes</code><code> = <a href="index.html#type-node">node</a> list</code></dt><dd><p>The type of a list of XML tags</p></dd></dl><dl><dt class="spec exception" id="exception-Tag_not_found"><a href="#exception-Tag_not_found" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Tag_not_found</span> <span class="keyword">of</span> string</code></dt><dd><p>Raised by the query combinators</p></dd></dl></section><section><header><h3 id="reading-xml-values"><a href="#reading-xml-values" class="anchor"></a>Reading XML values</h3></header><dl><dt class="spec value" id="val-from_channel"><a href="#val-from_channel" class="anchor"></a><code><span class="keyword">val</span> from_channel : <a href="../../ocaml/Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-dtd">Xmlm.dtd</a> * <a href="index.html#type-nodes">nodes</a></code></dt><dd><p>Read an XML document from an <code>in_channel</code></p></dd></dl><dl><dt class="spec value" id="val-from_string"><a href="#val-from_string" class="anchor"></a><code><span class="keyword">val</span> from_string : string <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-dtd">Xmlm.dtd</a> * <a href="index.html#type-nodes">nodes</a></code></dt><dd><p>Read an XML document directly from a <code>string</code></p></dd></dl><dl><dt class="spec value" id="val-from_input"><a href="#val-from_input" class="anchor"></a><code><span class="keyword">val</span> from_input : <a href="../../xmlm/Xmlm/index.html#type-input">Xmlm.input</a> <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-dtd">Xmlm.dtd</a> * <a href="index.html#type-node">node</a></code></dt><dd><p>Low-level function to read directly from an <code>Xmlm</code> input source</p></dd></dl></section><section><header><h3 id="writing-xml-values"><a href="#writing-xml-values" class="anchor"></a>Writing XML values</h3></header><dl><dt class="spec value" id="val-to_channel"><a href="#val-to_channel" class="anchor"></a><code><span class="keyword">val</span> to_channel : <a href="../../ocaml/Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> ?&#8288;decl:bool <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-dtd">Xmlm.dtd</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Write an XML document to an <code>out_channel</code></p></dd></dl><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : ?&#8288;decl:bool <span>&#45;&gt;</span> ?&#8288;dtd:string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Write an XML document to a <code>string</code>. This goes via an intermediate <code>Buffer</code> and so may be slow on large documents.</p></dd></dl><dl><dt class="spec value" id="val-to_output"><a href="#val-to_output" class="anchor"></a><code><span class="keyword">val</span> to_output : <a href="../../xmlm/Xmlm/index.html#type-output">Xmlm.output</a> <span>&#45;&gt;</span> (<a href="../../xmlm/Xmlm/index.html#type-dtd">Xmlm.dtd</a> * <a href="index.html#type-node">node</a>) <span>&#45;&gt;</span> unit</code></dt><dd><p>Low-level function to write directly to an <code>Xmlm</code> output source</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <a href="../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp fmt x</code> will write a string representation of the XML document <code>x</code> to the formatter <code>fmt</code>.</p></dd></dl></section><section><header><h3 id="attribute-handling"><a href="#attribute-handling" class="anchor"></a>Attribute handling</h3></header><dl><dt class="spec value" id="val-filter_attrs"><a href="#val-filter_attrs" class="anchor"></a><code><span class="keyword">val</span> filter_attrs : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> (<a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list * <a href="index.html#type-nodes">nodes</a>) list <span>&#45;&gt;</span> (<a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list * <a href="index.html#type-nodes">nodes</a>) list</code></dt><dd><p>Given some selected attributes and nodes (usually from <code>members_with_attr</code>) return the ones that match the <code>class</code> and <code>value</code> supplied.</p></dd></dl><dl><dt class="spec value" id="val-filter_attr"><a href="#val-filter_attr" class="anchor"></a><code><span class="keyword">val</span> filter_attr : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> (<a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list * <a href="index.html#type-nodes">nodes</a>) list <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list * <a href="index.html#type-nodes">nodes</a></code></dt><dd><p>Given some selected attributes and nodes (usually from <code>members_with_attr</code>) return the first that matches the <code>class</code> and <code>value</code> supplied. Raises <code>Not_found</code> if nothing matches.</p></dd></dl><dl><dt class="spec value" id="val-mem_attr"><a href="#val-mem_attr" class="anchor"></a><code><span class="keyword">val</span> mem_attr : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list <span>&#45;&gt;</span> bool</code></dt><dd><p><code>mem_attr name value attrs</code> returns true if the <code>name</code> key is with value <code>value</code> is present in the <code>attrs</code> attribute list.</p></dd></dl><dl><dt class="spec value" id="val-get_attr"><a href="#val-get_attr" class="anchor"></a><code><span class="keyword">val</span> get_attr : string <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list <span>&#45;&gt;</span> string</code></dt><dd><p><code>get_attr name attrs</code> returns the value associated with key <code>name</code> in the <code>attrs</code> attribute list. Raised <code>Not_found</code> if the attribute is not present.</p></dd></dl></section><section><header><h3 id="selectors-and-utility-functions"><a href="#selectors-and-utility-functions" class="anchor"></a>Selectors and utility functions</h3></header><dl><dt class="spec value" id="val-pick_tags"><a href="#val-pick_tags" class="anchor"></a><code><span class="keyword">val</span> pick_tags : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a></code></dt><dd><p><code>pick_tags tag attr value</code> selects all the child nodes that match the <code>tag</code> name and contain an attribute with name <code>tag</code> and <code>value</code>.</p></dd></dl><dl><dt class="spec value" id="val-pick_tag"><a href="#val-pick_tag" class="anchor"></a><code><span class="keyword">val</span> pick_tag : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-node">node</a></code></dt><dd><p><code>pick_tag tag attr value</code> selects the first child node that matches the <code>tag</code> name and contain an attribute with name <code>tag</code> and <code>value</code>. Raises <code>Not_found</code> if no such node exists.</p></dd></dl><dl><dt class="spec value" id="val-hd"><a href="#val-hd" class="anchor"></a><code><span class="keyword">val</span> hd : <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-node">node</a></code></dt><dd><p>Return the first tag in the list of nodes. Raises <code>Not_found</code> if the nodes are empty</p></dd></dl><dl><dt class="spec value" id="val-tl"><a href="#val-tl" class="anchor"></a><code><span class="keyword">val</span> tl : <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a></code></dt><dd><p>Return all the tags but the first one in a list of nodes. Returns an empty list if the list is empty.</p></dd></dl><dl><dt class="spec value" id="val-make_tag"><a href="#val-make_tag" class="anchor"></a><code><span class="keyword">val</span> make_tag : string <span>&#45;&gt;</span> (<a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list * <a href="index.html#type-nodes">nodes</a>) <span>&#45;&gt;</span> <a href="index.html#type-node">node</a></code></dt><dd><p>Make a tag given a <code>tag</code> name and body attributes and nodes</p></dd></dl><dl><dt class="spec value" id="val-data_to_string"><a href="#val-data_to_string" class="anchor"></a><code><span class="keyword">val</span> data_to_string : <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Convert a list of <code>`Data</code> fragments to a human-readable string. Any elements within the list are ignored, and multiple <code>`Data</code> fragments are concatenated.</p></dd></dl><dl><dt class="spec value" id="val-members_with_attr"><a href="#val-members_with_attr" class="anchor"></a><code><span class="keyword">val</span> members_with_attr : string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> (<a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list * <a href="index.html#type-nodes">nodes</a>) list</code></dt><dd><p>Extracts the immediate subnodes that match the given <code>tag</code> name and return a tuple of the attributes associated with that tag and its child nodes.</p></dd></dl><dl><dt class="spec value" id="val-members"><a href="#val-members" class="anchor"></a><code><span class="keyword">val</span> members : string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> list</code></dt><dd><p>Extracts the immediate subnodes that match the given <code>tag</code> name, and only return the contents of those tags (ignoring the attributes, which can be retrieved via the <code>members_with_attr</code> function</p></dd></dl><dl><dt class="spec value" id="val-member_with_attr"><a href="#val-member_with_attr" class="anchor"></a><code><span class="keyword">val</span> member_with_attr : string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list * <a href="index.html#type-nodes">nodes</a></code></dt><dd><p>Extracts the first subnode that match the given <code>tag</code> name, and raises <code>Tag_not_found</code> if it can't find it.</p></dd></dl><dl><dt class="spec value" id="val-member"><a href="#val-member" class="anchor"></a><code><span class="keyword">val</span> member : string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a></code></dt><dd><p>Extracts the first subnode that match the given <code>tag</code> name, and raises <code>Tag_not_found</code> if it can't find it. Only the contents of the tag are returned (ignoring the attributes, which can be retrieved via the <code>member_with_attr</code> function instead</p></dd></dl><dl><dt class="spec value" id="val-has_member"><a href="#val-has_member" class="anchor"></a><code><span class="keyword">val</span> has_member : string <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>has_member tag subnodes</code> returns true if the given <code>tag</code> name is present among the subnodes and false if it can't find it.</p></dd></dl><dl><dt class="spec value" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span class="keyword">val</span> filter_map : tag:string <span>&#45;&gt;</span> f:(<a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a>) <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a></code></dt><dd><p>Traverses XML nodes and applies <code>f</code> to any tags that match the <code>tag</code> parameter. The result of the transformations is returned as a new set of nodes.</p></dd></dl><dl><dt class="spec value" id="val-filter_iter"><a href="#val-filter_iter" class="anchor"></a><code><span class="keyword">val</span> filter_iter : tag:string <span>&#45;&gt;</span> f:(<a href="../../xmlm/Xmlm/index.html#type-attribute">Xmlm.attribute</a> list <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-nodes">nodes</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Traverses XML nodes and applies <code>f</code> to any tags that match the <code>tag</code> parameter.</p></dd></dl></section></div></body></html>