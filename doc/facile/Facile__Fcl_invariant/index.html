<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Facile__Fcl_invariant (facile.Facile__Fcl_invariant)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">facile</a> &#x00BB; Facile__Fcl_invariant</nav><h1>Module <code>Facile__Fcl_invariant</code></h1><p>Backtrackable Invariant References</p></header><aside><p>This module provides types and functions to create and handle Backtrackable Invariant References (noted BIR in the sequel). BIRs are single-valued variables whose values are restored upon backtracks and which are linked by &quot;one-way&quot; constraints. They maintain functional dependencies between &quot;source&quot; <em>setable</em> BIRs (initialized with their creation value) and <em>unsetable</em> BIRs built upon them. BIRs may be convenient to automatically handle heuristic criteria or the data structures of local search algorithms <code> ~\cite{localizer97}</code>. Note that circular dependencies are not allowed by the typing policy.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b) t</code></dt><dt class="spec type" id="type-setable"><a href="#type-setable" class="anchor"></a><code><span class="keyword">type</span> setable</code></dt><dt class="spec type" id="type-unsetable"><a href="#type-unsetable" class="anchor"></a><code><span class="keyword">type</span> unsetable</code></dt><dt class="spec type" id="type-setable_t"><a href="#type-setable_t" class="anchor"></a><code><span class="keyword">type</span> 'a setable_t</code><code> = (<span class="type-var">'a</span>, <a href="index.html#type-setable">setable</a>) <a href="index.html#type-t">t</a></code></dt><dt class="spec type" id="type-unsetable_t"><a href="#type-unsetable_t" class="anchor"></a><code><span class="keyword">type</span> 'a unsetable_t</code><code> = (<span class="type-var">'a</span>, <a href="index.html#type-unsetable">unsetable</a>) <a href="index.html#type-t">t</a></code></dt><dd><p>Type of BIRs. Parameter <code>'a</code> stands for the type of the value of the BIR. Parameter <code>'b</code> is <code>setable</code> if the BIR can be assigned, <code>unsetable</code> if not. <code>setable_t</code> and <code>unsetable_t</code> are shortcuts.</p></dd></dl><aside><p><code> \subsection{Creation and access} </code></p></aside><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : ?&#8288;name:string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-setable_t">setable_t</a></code></dt><dd><p><code>create ~name:&quot;&quot; v</code> returns a setable BIR with initial content <code>v</code>. An optional string can be given to name the BIR.</p></dd></dl><dl><dt class="spec value" id="val-constant"><a href="#val-constant" class="anchor"></a><code><span class="keyword">val</span> constant : ?&#8288;name:string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-unsetable_t">unsetable_t</a></code></dt><dd><p><code>constant ~name:&quot;&quot; cst</code> returns an unsetable BIR with initial content <code>cst</code>. An optional string can be given to name the BIR.</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : <span class="type-var">'a</span> <a href="index.html#type-setable_t">setable_t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Assignment of a setable BIR.</p></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Access to the content of a BIR.</p></dd></dl><dl><dt class="spec value" id="val-id"><a href="#val-id" class="anchor"></a><code><span class="keyword">val</span> id : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>id r</code> returns a unique integer associated to BIR <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">val</span> name : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>name r</code> returns the name (specified or generated) of BIR <code>r</code>.</p></dd></dl><dl><dt class="spec value" id="val-fprint"><a href="#val-fprint" class="anchor"></a><code><span class="keyword">val</span> fprint : <a href="../../ocaml/Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> ?&#8288;printer:(<a href="../../ocaml/Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>fprint c ~printer:(fun _ _ -&gt; ()) r</code> prints BIR <code>r</code> on channel <code>c</code>. An optional custom printer can be given to display the value of <code>r</code>.</p></dd></dl><aside><p><code> generic, arithmetic, arrays} </code></p></aside><dl><dt class="spec value" id="val-unary"><a href="#val-unary" class="anchor"></a><code><span class="keyword">val</span> unary : ?&#8288;name:string <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-unsetable_t">unsetable_t</a></code></dt><dd><p><code>unary ~name:&quot;Invariant.unary&quot; f</code> wraps the unary function <code>f</code> into an operator on BIRs. An optional string can be given to name the operator.</p></dd></dl><dl><dt class="spec value" id="val-binary"><a href="#val-binary" class="anchor"></a><code><span class="keyword">val</span> binary : ?&#8288;name:string <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'d</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-unsetable_t">unsetable_t</a></code></dt><dd><p><code>binary ~name:&quot;Invariant.binary&quot; f</code> wraps the binary function <code>f</code> into an operator on BIRs. An optional string can be given to name the operator.</p></dd></dl><dl><dt class="spec value" id="val-ternary"><a href="#val-ternary" class="anchor"></a><code><span class="keyword">val</span> ternary : ?&#8288;name:string <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'e</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'f</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'c</span>, <span class="type-var">'g</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-unsetable_t">unsetable_t</a></code></dt><dd><p><code>ternary ~name:&quot;Invariant.ternary&quot; f</code> wraps the ternary function <code>f</code> into an operator on BIRs. An optional string can be given to name the operator.</p></dd></dl><dl><dt class="spec value" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span class="keyword">val</span> sum : (int, <span class="type-var">'a</span>) <a href="index.html#type-t">t</a> array <span>&#45;&gt;</span> int <a href="index.html#type-unsetable_t">unsetable_t</a></code></dt><dd><p><code>sum a</code> returns a BIR equal to the sum of elements of <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-prod"><a href="#val-prod" class="anchor"></a><code><span class="keyword">val</span> prod : (int, <span class="type-var">'a</span>) <a href="index.html#type-t">t</a> array <span>&#45;&gt;</span> int <a href="index.html#type-unsetable_t">unsetable_t</a></code></dt><dd><p><code>sum a</code> returns a BIR equal to the product of elements of <code>a</code>.</p></dd></dl><div class="spec module" id="module-Array"><a href="#module-Array" class="anchor"></a><code><span class="keyword">module</span> <a href="Array/index.html">Array</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><aside><p><code> \subsection{From domain variables to BIRs} </code></p></aside><dl><dt class="spec module-type" id="module-type-FD"><a href="#module-type-FD" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-FD/index.html">FD</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic signature.</p></dd></dl><dl><dt class="spec module" id="module-Fd"><a href="#module-Fd" class="anchor"></a><code><span class="keyword">module</span> <a href="Fd/index.html">Fd</a> : <a href="index.html#module-type-FD">FD</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-FD/index.html#type-fd">fd</a> = <a href="../Facile__Fcl_var/Fd/index.html#type-t">Facile__.Fcl_var.Fd.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-FD/index.html#type-elt">elt</a> = <a href="../Facile__Fcl_var/Fd/index.html#type-elt">Facile__.Fcl_var.Fd.elt</a></code></dt><dd><p>Module for accessing finite integer domain variables with BIRs.</p></dd></dl><dl><dt class="spec module" id="module-SetFd"><a href="#module-SetFd" class="anchor"></a><code><span class="keyword">module</span> <a href="SetFd/index.html">SetFd</a> : <a href="index.html#module-type-FD">FD</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-FD/index.html#type-fd">fd</a> = <a href="../Facile__Fcl_var/SetFd/index.html#type-t">Facile__.Fcl_var.SetFd.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-FD/index.html#type-elt">elt</a> = <a href="../Facile__Fcl_var/SetFd/index.html#type-elt">Facile__.Fcl_var.SetFd.elt</a></code></dt><dd><p>Module for accessing set domain variables with BIRs.</p></dd></dl></div></body></html>