<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Fd_send_recv (fd-send-recv.Fd_send_recv)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">fd-send-recv</a> &#x00BB; Fd_send_recv</nav><h1>Module <code>Fd_send_recv</code></h1><p>Module to send and receive file descriptors over UNIX domain sockets.</p></header><dl><dt class="spec exception" id="exception-Unix_error"><a href="#exception-Unix_error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Unix_error</span> <span class="keyword">of</span> int</code></dt><dd><p>Thrown by the low-level C functions</p></dd></dl><dl><dt class="spec value" id="val-send_fd"><a href="#val-send_fd" class="anchor"></a><code><span class="keyword">val</span> send_fd : <a href="../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../../ocaml/Unix/index.html#type-msg_flag">Unix.msg_flag</a> list <span>&#45;&gt;</span> <a href="../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>send_fd channel_fd buf ofs len flags fd_to_send</code> sends a message over <code>channel_fd</code> containing the <code>buf</code> <code>ofs</code> <code>len</code> substring, with <code>flags</code> and file descriptor <code>fd_to_send</code>, and returns the number of bytes sent. Note that you have to send a non-empty message (e.g. of size greater than zero) to actually have the fd passed.</p></dd></dl><dl><dt class="spec value" id="val-recv_fd"><a href="#val-recv_fd" class="anchor"></a><code><span class="keyword">val</span> recv_fd : <a href="../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../../ocaml/Unix/index.html#type-msg_flag">Unix.msg_flag</a> list <span>&#45;&gt;</span> int * <a href="../../ocaml/Unix/index.html#type-sockaddr">Unix.sockaddr</a> * <a href="../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a></code></dt><dd><p><code>recv_fd channel_fd buf ofs len flags</code> receives a message into substring <code>buf</code> <code>ofs</code> <code>len</code> with <code>flags</code>, returning the number of bytes read, the address of the peer and a file descriptor.</p></dd></dl><dl><dt class="spec value" id="val-int_of_fd"><a href="#val-int_of_fd" class="anchor"></a><code><span class="keyword">val</span> int_of_fd : <a href="../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>int_of_fd fd</code> returns the underlying unix integer file descriptor associated with OCaml Unix.file_descr <code>fd</code>.</p></dd></dl><dl><dt class="spec value" id="val-fd_of_int"><a href="#val-fd_of_int" class="anchor"></a><code><span class="keyword">val</span> fd_of_int : int <span>&#45;&gt;</span> <a href="../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a></code></dt><dd><p><code>fd_of_int fd</code> returns the OCaml Unix.file_descr associated with underlying unix integer <code>fd</code>.</p></dd></dl></div></body></html>