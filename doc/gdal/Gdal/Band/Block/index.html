<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Block (gdal.Gdal.Band.Block)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">gdal</a> &#x00BB; <a href="../../index.html">Gdal</a> &#x00BB; <a href="../index.html">Band</a> &#x00BB; Block</nav><h1>Module <code>Band.Block</code></h1><nav class="toc"><ul><li><a href="#block-io">Block IO</a></li></ul></nav></header><section><header><h3 id="block-io"><a href="#block-io" class="anchor"></a>Block IO</h3></header><aside><p>These functions should generally be faster than the more generic <a href="index.html#val-read"><code>read</code></a> and <a href="index.html#val-write"><code>write</code></a> functions.</p></aside><dl><dt class="spec exception" id="exception-Wrong_dimensions"><a href="#exception-Wrong_dimensions" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Wrong_dimensions</span></code></dt></dl><dl><dt class="spec type" id="type-offset_t"><a href="#type-offset_t" class="anchor"></a><code><span class="keyword">type</span> offset_t</code><code> = </code><code>{</code><table class="record"><tr id="type-offset_t.block" class="anchored"><td class="def field"><a href="#type-offset_t.block" class="anchor"></a><code>block : int * int;</code></td></tr><tr id="type-offset_t.offset" class="anchored"><td class="def field"><a href="#type-offset_t.offset" class="anchor"></a><code>offset : int * int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-make_block_offset"><a href="#val-make_block_offset" class="anchor"></a><code><span class="keyword">val</span> make_block_offset : block:(int * int) <span>&#45;&gt;</span> offset:(int * int) <span>&#45;&gt;</span> <a href="index.html#type-offset_t">offset_t</a></code></dt><dt class="spec value" id="val-pixel_of_block_offset"><a href="#val-pixel_of_block_offset" class="anchor"></a><code><span class="keyword">val</span> pixel_of_block_offset : (<span class="type-var">_</span>, <span class="type-var">_</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-offset_t">offset_t</a> <span>&#45;&gt;</span> int * int</code></dt><dd><p><code>pixel_of_block_offset t</code> returns a function which may be used to convert offsets within a block to pixel offsets within the band <code>t</code>.</p><dl><dt>returns</dt><dd><p>f: A function which, given a block index <code>block</code> and an offset within that block <code>offset</code> returns the index of the matching pixel.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-block_of_pixel_offset"><a href="#val-block_of_pixel_offset" class="anchor"></a><code><span class="keyword">val</span> block_of_pixel_offset : (<span class="type-var">_</span>, <span class="type-var">_</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-offset_t">offset_t</a></code></dt><dd><p><code>block_of_pixel_offset t</code> returns a function which returns the <code>block_offset_t</code> matching the pixel offset provided.</p></dd></dl><dl><dt class="spec value" id="val-get_block_count"><a href="#val-get_block_count" class="anchor"></a><code><span class="keyword">val</span> get_block_count : (<span class="type-var">_</span>, <span class="type-var">_</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> int * int</code></dt><dd><p><code>get_block_count t</code> returns <code>(nx, ny)</code> giving the number of blocks in the band's x direction (<code>nx</code>) and the number of blocks in the band's y direction (<code>ny</code>).</p></dd></dl><dl><dt class="spec value" id="val-get_size"><a href="#val-get_size" class="anchor"></a><code><span class="keyword">val</span> get_size : (<span class="type-var">_</span>, <span class="type-var">_</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> int * int</code></dt><dd><p><code>get_size t</code> returns the native <code>(x, y)</code> dimensions of the individual blocks making up <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-read"><a href="#val-read" class="anchor"></a><code><span class="keyword">val</span> read : ?&#8288;data:(<span class="type-var">'v</span>, <span class="type-var">'e</span>, <a href="../../../../ocaml/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>) <a href="../../../../ocaml/Bigarray/Array2/index.html#type-t">Bigarray.Array2.t</a> <span>&#45;&gt;</span> (<span class="type-var">'v</span>, <span class="type-var">'e</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> column:int <span>&#45;&gt;</span> row:int <span>&#45;&gt;</span> (<span class="type-var">'v</span>, <span class="type-var">'e</span>, <a href="../../../../ocaml/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>) <a href="../../../../ocaml/Bigarray/Array2/index.html#type-t">Bigarray.Array2.t</a></code></dt><dd><p><code>read ?data t ~column ~row</code> returns the block at given offset in <code>t</code>.</p><dl><dt>parameter data</dt><dd><p>will be written to and returned if it is provided, otherwise a fresh <a href="../../../../ocaml/Stdlib__bigarray/Array2/index.html#type-t"><code>Bigarray.Array2.t</code></a> will be allocated. <code>data</code> must be large enough to hold at least on block of values.</p></dd></dl><dl><dt>raises Wrong_dimensions</dt><dd><p>if <code>data</code> is provided and does not have enough elements to hold a block.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-write"><a href="#val-write" class="anchor"></a><code><span class="keyword">val</span> write : (<span class="type-var">'v</span>, <span class="type-var">'e</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> column:int <span>&#45;&gt;</span> row:int <span>&#45;&gt;</span> (<span class="type-var">'v</span>, <span class="type-var">'e</span>, <a href="../../../../ocaml/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>) <a href="../../../../ocaml/Bigarray/Array2/index.html#type-t">Bigarray.Array2.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>write t ~column ~row data</code> writes <code>data</code> to the block at the given offset in <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : (<span class="type-var">'v</span>, <span class="type-var">'e</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> read:bool <span>&#45;&gt;</span> write:bool <span>&#45;&gt;</span> (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> (<span class="type-var">'v</span>, <span class="type-var">'e</span>, <a href="../../../../ocaml/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>) <a href="../../../../ocaml/Bigarray/Array2/index.html#type-t">Bigarray.Array2.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter t ~read ~write f</code> applies <code>f</code> to each block in <code>t</code>. The <code>read</code> and <code>write</code> arguments determine if values are from <code>t</code>, written to <code>t</code> or both.</p><dl><dt>parameter f</dt><dd><p>gets three arguments: the <code>i</code> index, <code>j</code> index and a bigarray with the contents of the current block. If <code>read</code> is <code>true</code> then the bigarray will contain the current contents of the block at <code>(i, j)</code>. If <code>write</code> is <code>true</code> then the contents of the bigarray will be written to the block at <code>(i, j)</code> after <code>f</code> returns.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-iter_read"><a href="#val-iter_read" class="anchor"></a><code><span class="keyword">val</span> iter_read : (<span class="type-var">'v</span>, <span class="type-var">'e</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> (<span class="type-var">'v</span>, <span class="type-var">'e</span>, <a href="../../../../ocaml/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>) <a href="../../../../ocaml/Bigarray/Array2/index.html#type-t">Bigarray.Array2.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter_read t f</code> applies <code>f</code> to each block in <code>t</code>.</p><dl><dt>parameter f</dt><dd><p>gets three arguments: the <code>column</code> index, <code>row</code> index and a bigarray with the contents of the current block.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-iter_write"><a href="#val-iter_write" class="anchor"></a><code><span class="keyword">val</span> iter_write : (<span class="type-var">'v</span>, <span class="type-var">'e</span>) <a href="../index.html#type-t">t</a> <span>&#45;&gt;</span> (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> (<span class="type-var">'v</span>, <span class="type-var">'e</span>, <a href="../../../../ocaml/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>) <a href="../../../../ocaml/Bigarray/Array2/index.html#type-t">Bigarray.Array2.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter_write t f</code> applies <code>f</code> to each block in <code>t</code>.</p><dl><dt>parameter f</dt><dd><p>gets three arguments: the <code>column</code> index, <code>row</code> index and a bigarray which should be filled with the values meant for the current block.</p></dd></dl></dd></dl></section></div></body></html>