<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CLIENT (irc-client.Irc_client.CLIENT)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">irc-client</a> &#x00BB; <a href="../index.html">Irc_client</a> &#x00BB; CLIENT</nav><h1>Module type <code>Irc_client.CLIENT</code></h1></header><div class="spec module" id="module-Io"><a href="#module-Io" class="anchor"></a><code><span class="keyword">module</span> <a href="Io/index.html">Io</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-connection_t"><a href="#type-connection_t" class="anchor"></a><code><span class="keyword">type</span> connection_t</code></dt></dl><dl><dt class="spec value" id="val-send"><a href="#val-send" class="anchor"></a><code><span class="keyword">val</span> send : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> <a href="../../Irc_message/index.html#type-t">Irc_message.t</a> <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the given message</p></dd></dl><dl><dt class="spec value" id="val-send_join"><a href="#val-send_join" class="anchor"></a><code><span class="keyword">val</span> send_join : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> channel:string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the JOIN command.</p></dd></dl><dl><dt class="spec value" id="val-send_nick"><a href="#val-send_nick" class="anchor"></a><code><span class="keyword">val</span> send_nick : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> nick:string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the NICK command.</p></dd></dl><dl><dt class="spec value" id="val-send_pass"><a href="#val-send_pass" class="anchor"></a><code><span class="keyword">val</span> send_pass : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> password:string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the PASS command.</p></dd></dl><dl><dt class="spec value" id="val-send_pong"><a href="#val-send_pong" class="anchor"></a><code><span class="keyword">val</span> send_pong : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> message1:string <span>&#45;&gt;</span> message2:string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the PONG command.</p></dd></dl><dl><dt class="spec value" id="val-send_privmsg"><a href="#val-send_privmsg" class="anchor"></a><code><span class="keyword">val</span> send_privmsg : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> target:string <span>&#45;&gt;</span> message:string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the PRIVMSG command.</p></dd></dl><dl><dt class="spec value" id="val-send_notice"><a href="#val-send_notice" class="anchor"></a><code><span class="keyword">val</span> send_notice : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> target:string <span>&#45;&gt;</span> message:string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the NOTICE command.</p></dd></dl><dl><dt class="spec value" id="val-send_quit"><a href="#val-send_quit" class="anchor"></a><code><span class="keyword">val</span> send_quit : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the QUIT command.</p></dd></dl><dl><dt class="spec value" id="val-send_user"><a href="#val-send_user" class="anchor"></a><code><span class="keyword">val</span> send_user : connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> username:string <span>&#45;&gt;</span> mode:int <span>&#45;&gt;</span> realname:string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Send the USER command.</p></dd></dl><dl><dt class="spec value" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span class="keyword">val</span> connect : ?&#8288;username:string <span>&#45;&gt;</span> ?&#8288;mode:int <span>&#45;&gt;</span> ?&#8288;realname:string <span>&#45;&gt;</span> ?&#8288;password:string <span>&#45;&gt;</span> ?&#8288;config:<a href="Io/index.html#type-config">Io.config</a> <span>&#45;&gt;</span> addr:<a href="Io/index.html#type-inet_addr">Io.inet_addr</a> <span>&#45;&gt;</span> port:int <span>&#45;&gt;</span> nick:string <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-connection_t">connection_t</a> <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Connect to an IRC server at address <code>addr</code>. The PASS command will be sent if <code>password</code> is not None.</p></dd></dl><dl><dt class="spec value" id="val-connect_by_name"><a href="#val-connect_by_name" class="anchor"></a><code><span class="keyword">val</span> connect_by_name : ?&#8288;username:string <span>&#45;&gt;</span> ?&#8288;mode:int <span>&#45;&gt;</span> ?&#8288;realname:string <span>&#45;&gt;</span> ?&#8288;password:string <span>&#45;&gt;</span> ?&#8288;config:<a href="Io/index.html#type-config">Io.config</a> <span>&#45;&gt;</span> server:string <span>&#45;&gt;</span> port:int <span>&#45;&gt;</span> nick:string <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-connection_t">connection_t</a> option <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>Try to resolve the <code>server</code> name using DNS, otherwise behaves like <a href="index.html#val-connect"><code>connect</code></a>. Returns <code>None</code> if no IP could be found for the given name.</p></dd></dl><dl><dt class="spec type" id="type-keepalive"><a href="#type-keepalive" class="anchor"></a><code><span class="keyword">type</span> keepalive</code><code> = </code><code>{</code><table class="record"><tr id="type-keepalive.mode" class="anchored"><td class="def field"><a href="#type-keepalive.mode" class="anchor"></a><code>mode : [ `Active | `Passive ];</code></td></tr><tr id="type-keepalive.timeout" class="anchored"><td class="def field"><a href="#type-keepalive.timeout" class="anchor"></a><code>timeout : int;</code></td></tr></table><code>}</code></dt><dd><p>Information on keeping the connection alive</p></dd></dl><dl><dt class="spec value" id="val-default_keepalive"><a href="#val-default_keepalive" class="anchor"></a><code><span class="keyword">val</span> default_keepalive : <a href="index.html#type-keepalive">keepalive</a></code></dt><dd><p>Default value for keepalive: active mode with auto-reconnect</p></dd></dl><dl><dt class="spec value" id="val-listen"><a href="#val-listen" class="anchor"></a><code><span class="keyword">val</span> listen : ?&#8288;keepalive:<a href="index.html#type-keepalive">keepalive</a> <span>&#45;&gt;</span> connection:<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> callback:(<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> <a href="../../Irc_message/index.html#type-parse_result">Irc_message.parse_result</a> <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a>) <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p><code>listen connection callback</code> listens for incoming messages on <code>connection</code>. All server pings are handled internally; all other messages are passed, along with <code>connection</code>, to <code>callback</code>.</p><dl><dt>parameter keepalive</dt><dd><p>the behavior on disconnection (if the transport supports <a href="../../Irc_transport/module-type-IO/index.html#val-pick"><code>Irc_transport.IO.pick</code></a> and <a href="../../Irc_transport/module-type-IO/index.html#val-sleep"><code>Irc_transport.IO.sleep</code></a>)</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-reconnect_loop"><a href="#val-reconnect_loop" class="anchor"></a><code><span class="keyword">val</span> reconnect_loop : ?&#8288;keepalive:<a href="index.html#type-keepalive">keepalive</a> <span>&#45;&gt;</span> ?&#8288;reconnect:bool <span>&#45;&gt;</span> after:int <span>&#45;&gt;</span> connect:(unit <span>&#45;&gt;</span> <a href="index.html#type-connection_t">connection_t</a> option <a href="Io/index.html#type-t">Io.t</a>) <span>&#45;&gt;</span> f:(<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a>) <span>&#45;&gt;</span> callback:(<a href="index.html#type-connection_t">connection_t</a> <span>&#45;&gt;</span> <a href="../../Irc_message/index.html#type-parse_result">Irc_message.parse_result</a> <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a>) <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a></code></dt><dd><p>A combination of <a href="index.html#val-connect"><code>connect</code></a> and <a href="index.html#val-listen"><code>listen</code></a> that, every time the connection is terminated, tries to start a new one after <code>after</code> seconds.</p><dl><dt>parameter after</dt><dd><p>time before trying to reconnect</p></dd></dl><dl><dt>parameter connect</dt><dd><p>how to reconnect (a closure over <a href="index.html#val-connect"><code>connect</code></a> or <a href="index.html#val-connect_by_name"><code>connect_by_name</code></a>)</p></dd></dl><dl><dt>parameter callback</dt><dd><p>the callback for <a href="index.html#val-listen"><code>listen</code></a></p></dd></dl><dl><dt>parameter f</dt><dd><p>the function to call after connection</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-set_log"><a href="#val-set_log" class="anchor"></a><code><span class="keyword">val</span> set_log : (string <span>&#45;&gt;</span> unit <a href="Io/index.html#type-t">Io.t</a>) <span>&#45;&gt;</span> unit</code></dt><dd><p>Set logging function</p></dd></dl></div></body></html>