<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Effect (lit.Lit.Effect)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">lit</a> &#x00BB; <a href="../index.html">Lit</a> &#x00BB; Effect</nav><h1>Module <code>Lit.Effect</code></h1><p>Effects.</p><p>An effect defines a configuration of the graphics pipeline or a list of effects for rendering a <a href="../index.html#type-prim"><code>prim</code></a> value.</p><p><b>TODO.</b> Pretty printers.</p></header><section><header><h2 id="rasterization-state"><a href="#rasterization-state" class="anchor"></a>Rasterization state</h2></header><dl><dt class="spec type" id="type-raster_face_cull"><a href="#type-raster_face_cull" class="anchor"></a><code><span class="keyword">type </span>raster_face_cull</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-raster_face_cull.Front" class="anchored"><td class="def constructor"><a href="#type-raster_face_cull.Front" class="anchor"></a><code><span class="keyword">| </span></code><code>`Front</code></td></tr><tr id="type-raster_face_cull.Back" class="anchored"><td class="def constructor"><a href="#type-raster_face_cull.Back" class="anchor"></a><code><span class="keyword">| </span></code><code>`Back</code></td></tr></table><code> ]</code></dt><dd><p>The type for face culling. Faces with a counter clockwise orientation are front faces.</p></dd></dl><dl><dt class="spec type" id="type-raster"><a href="#type-raster" class="anchor"></a><code><span class="keyword">type </span>raster</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-raster.raster_face_cull" class="anchored"><td class="def field"><a href="#type-raster.raster_face_cull" class="anchor"></a><code>raster_face_cull : <a href="index.html#type-raster_face_cull">raster_face_cull</a> option;</code></td></tr><tr id="type-raster.raster_multisample" class="anchored"><td class="def field"><a href="#type-raster.raster_multisample" class="anchor"></a><code>raster_multisample : bool;</code></td></tr></table><code>}</code></dt><dd><p>The type for raster state.</p></dd></dl><dl><dt class="spec value" id="val-raster_default"><a href="#val-raster_default" class="anchor"></a><code><span class="keyword">val </span>raster_default : <a href="index.html#type-raster">raster</a></code></dt><dd><p><code>raster_default</code> is the default raster state:</p><ul><li><code>raster_default.raster_face_cull</code> is <code>None</code>.</li><li><code>raster_default.raster_multisample</code> is <code>true</code>.</li></ul></dd></dl></section><section><header><h2 id="depth-state"><a href="#depth-state" class="anchor"></a>Depth state</h2></header><dl><dt class="spec type" id="type-depth_test"><a href="#type-depth_test" class="anchor"></a><code><span class="keyword">type </span>depth_test</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-depth_test.Never" class="anchored"><td class="def constructor"><a href="#type-depth_test.Never" class="anchor"></a><code><span class="keyword">| </span></code><code>`Never</code></td></tr><tr id="type-depth_test.Less" class="anchored"><td class="def constructor"><a href="#type-depth_test.Less" class="anchor"></a><code><span class="keyword">| </span></code><code>`Less</code></td></tr><tr id="type-depth_test.Equal" class="anchored"><td class="def constructor"><a href="#type-depth_test.Equal" class="anchor"></a><code><span class="keyword">| </span></code><code>`Equal</code></td></tr><tr id="type-depth_test.Lequal" class="anchored"><td class="def constructor"><a href="#type-depth_test.Lequal" class="anchor"></a><code><span class="keyword">| </span></code><code>`Lequal</code></td></tr><tr id="type-depth_test.Greater" class="anchored"><td class="def constructor"><a href="#type-depth_test.Greater" class="anchor"></a><code><span class="keyword">| </span></code><code>`Greater</code></td></tr><tr id="type-depth_test.Nequal" class="anchored"><td class="def constructor"><a href="#type-depth_test.Nequal" class="anchor"></a><code><span class="keyword">| </span></code><code>`Nequal</code></td></tr><tr id="type-depth_test.Gequal" class="anchored"><td class="def constructor"><a href="#type-depth_test.Gequal" class="anchor"></a><code><span class="keyword">| </span></code><code>`Gequal</code></td></tr><tr id="type-depth_test.Always" class="anchored"><td class="def constructor"><a href="#type-depth_test.Always" class="anchor"></a><code><span class="keyword">| </span></code><code>`Always</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-depth"><a href="#type-depth" class="anchor"></a><code><span class="keyword">type </span>depth</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-depth.depth_test" class="anchored"><td class="def field"><a href="#type-depth.depth_test" class="anchor"></a><code>depth_test : <a href="index.html#type-depth_test">depth_test</a> option;</code></td><td class="doc"><p><code>Some _</code> if z-test should be performed.</p></td></tr><tr id="type-depth.depth_write" class="anchored"><td class="def field"><a href="#type-depth.depth_write" class="anchor"></a><code>depth_write : bool;</code></td><td class="doc"><p><code>true</code> if z-buffer should be written.</p></td></tr><tr id="type-depth.depth_offset" class="anchored"><td class="def field"><a href="#type-depth.depth_offset" class="anchor"></a><code>depth_offset : float<span class="keyword"> * </span>float;</code></td><td class="doc"><p>factor, units, see glPolygonOffset</p></td></tr></table><code>}</code></dt><dd><p>The type for depth state.</p></dd></dl><dl><dt class="spec value" id="val-depth_default"><a href="#val-depth_default" class="anchor"></a><code><span class="keyword">val </span>depth_default : <a href="index.html#type-depth">depth</a></code></dt><dd><p><code>depth_default</code> is the default depth state:</p><ul><li><code>depth_default.depth_test</code> is <code>Some `Less</code>.</li><li><code>depth_default.depth_write</code> is <code>true</code>.</li><li><code>depth_default.depth_offset</code> is <code>(0., 0.)</code></li></ul></dd></dl></section><section><header><h2 id="blend-state"><a href="#blend-state" class="anchor"></a>Blend state</h2><p><b>TODO.</b></p><ul><li>Support for per render buffer blend state (GL 4.0).</li></ul></header><dl><dt class="spec type" id="type-blend_mul"><a href="#type-blend_mul" class="anchor"></a><code><span class="keyword">type </span>blend_mul</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-blend_mul.Zero" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Zero" class="anchor"></a><code><span class="keyword">| </span></code><code>`Zero</code></td></tr><tr id="type-blend_mul.One" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One" class="anchor"></a><code><span class="keyword">| </span></code><code>`One</code></td></tr><tr id="type-blend_mul.Src" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Src" class="anchor"></a><code><span class="keyword">| </span></code><code>`Src</code></td></tr><tr id="type-blend_mul.One_minus_src" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_src" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_src</code></td></tr><tr id="type-blend_mul.Src_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Src_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`Src_a</code></td></tr><tr id="type-blend_mul.One_minus_src_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_src_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_src_a</code></td></tr><tr id="type-blend_mul.Src_a_saturate" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Src_a_saturate" class="anchor"></a><code><span class="keyword">| </span></code><code>`Src_a_saturate</code></td></tr><tr id="type-blend_mul.Src1" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Src1" class="anchor"></a><code><span class="keyword">| </span></code><code>`Src1</code></td></tr><tr id="type-blend_mul.One_minus_src1" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_src1" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_src1</code></td></tr><tr id="type-blend_mul.Src1_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Src1_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`Src1_a</code></td></tr><tr id="type-blend_mul.One_minus_src1_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_src1_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_src1_a</code></td></tr><tr id="type-blend_mul.Dst" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Dst" class="anchor"></a><code><span class="keyword">| </span></code><code>`Dst</code></td></tr><tr id="type-blend_mul.One_minus_dst" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_dst" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_dst</code></td></tr><tr id="type-blend_mul.Dst_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Dst_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`Dst_a</code></td></tr><tr id="type-blend_mul.One_minus_dst_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_dst_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_dst_a</code></td></tr><tr id="type-blend_mul.Cst" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Cst" class="anchor"></a><code><span class="keyword">| </span></code><code>`Cst</code></td></tr><tr id="type-blend_mul.One_minus_cst" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_cst" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_cst</code></td></tr><tr id="type-blend_mul.Cst_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.Cst_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`Cst_a</code></td></tr><tr id="type-blend_mul.One_minus_cst_a" class="anchored"><td class="def constructor"><a href="#type-blend_mul.One_minus_cst_a" class="anchor"></a><code><span class="keyword">| </span></code><code>`One_minus_cst_a</code></td></tr></table><code> ]</code></dt><dd><p>The type for blend multipliers.</p></dd></dl><dl><dt class="spec type" id="type-blend_eq"><a href="#type-blend_eq" class="anchor"></a><code><span class="keyword">type </span>blend_eq</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-blend_eq.Add" class="anchored"><td class="def constructor"><a href="#type-blend_eq.Add" class="anchor"></a><code><span class="keyword">| </span></code><code>`Add<span class="keyword"> of </span><a href="index.html#type-blend_mul">blend_mul</a><span class="keyword"> * </span><a href="index.html#type-blend_mul">blend_mul</a></code></td></tr><tr id="type-blend_eq.Sub" class="anchored"><td class="def constructor"><a href="#type-blend_eq.Sub" class="anchor"></a><code><span class="keyword">| </span></code><code>`Sub<span class="keyword"> of </span><a href="index.html#type-blend_mul">blend_mul</a><span class="keyword"> * </span><a href="index.html#type-blend_mul">blend_mul</a></code></td></tr><tr id="type-blend_eq.Rev_sub" class="anchored"><td class="def constructor"><a href="#type-blend_eq.Rev_sub" class="anchor"></a><code><span class="keyword">| </span></code><code>`Rev_sub<span class="keyword"> of </span><a href="index.html#type-blend_mul">blend_mul</a><span class="keyword"> * </span><a href="index.html#type-blend_mul">blend_mul</a></code></td></tr><tr id="type-blend_eq.Min" class="anchored"><td class="def constructor"><a href="#type-blend_eq.Min" class="anchor"></a><code><span class="keyword">| </span></code><code>`Min</code></td></tr><tr id="type-blend_eq.Max" class="anchored"><td class="def constructor"><a href="#type-blend_eq.Max" class="anchor"></a><code><span class="keyword">| </span></code><code>`Max</code></td></tr></table><code> ]</code></dt><dd><p>The type for blend equations.</p><ul><li><code>`Add (a, b)</code> is <code>a * src + b * dst</code>.</li><li><code>`Sub (a, b)</code> is <code>a * src - b * dst</code>.</li><li><code>`Rev_sub (a, b)</code> is <code>b * dst - a * src</code>.</li><li><code>`Min</code>, component wise <code>min a b</code>.</li><li><code>`Max</code>, component wise <code>max a b</code>.</li></ul></dd></dl><dl><dt class="spec value" id="val-blend_eq_default"><a href="#val-blend_eq_default" class="anchor"></a><code><span class="keyword">val </span>blend_eq_default : <a href="index.html#type-blend_eq">blend_eq</a></code></dt><dd><p><code>blend_default_eq</code> is <code>`Add (Src_a, One_minus_src_a)</code>.</p></dd></dl><dl><dt class="spec type" id="type-blend"><a href="#type-blend" class="anchor"></a><code><span class="keyword">type </span>blend</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-blend.blend" class="anchored"><td class="def field"><a href="#type-blend.blend" class="anchor"></a><code>blend : bool;</code></td><td class="doc"><p><code>true</code> if blending should be performed.</p></td></tr><tr id="type-blend.blend_rgb" class="anchored"><td class="def field"><a href="#type-blend.blend_rgb" class="anchor"></a><code>blend_rgb : <a href="index.html#type-blend_eq">blend_eq</a>;</code></td><td class="doc"><p>Blending equation for rgb</p></td></tr><tr id="type-blend.blend_a" class="anchored"><td class="def field"><a href="#type-blend.blend_a" class="anchor"></a><code>blend_a : <a href="index.html#type-blend_eq">blend_eq</a>;</code></td><td class="doc"><p>Blending equation for alpha.</p></td></tr><tr id="type-blend.blend_cst" class="anchored"><td class="def field"><a href="#type-blend.blend_cst" class="anchor"></a><code>blend_cst : Gg.color;</code></td><td class="doc"><p>Blend color for <code>`Cst_*</code> multiplier.</p></td></tr></table><code>}</code></dt><dd><p>The type for blend states.</p></dd></dl><dl><dt class="spec value" id="val-blend_default"><a href="#val-blend_default" class="anchor"></a><code><span class="keyword">val </span>blend_default : <a href="index.html#type-blend">blend</a></code></dt><dd><p><code>blend_default</code> is the default blend state:</p><ul><li><code>blend_default.blend</code> is <code>false</code>.</li><li><code>blend_default.blend_rgb</code> is <code>blend_default_eq</code>.</li><li><code>blend_default.blend_a</code> is <code>blend_default_eq</code>.</li><li><code>blend_default.blenc_cst</code> is <span class="xref-unresolved" title="unresolved reference to &quot;Gg.Color.void&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Gg.Color&quot;"><code>Gg</code>.Color</span>.void</span>.</li></ul></dd></dl><dl><dt class="spec value" id="val-blend_alpha"><a href="#val-blend_alpha" class="anchor"></a><code><span class="keyword">val </span>blend_alpha : <a href="index.html#type-blend">blend</a></code></dt><dd><p><code>blend_alpha</code> is <code>blend_default</code> with the <code>blend</code> field to <code>true</code>.</p></dd></dl></section><section><header><h2 id="effect"><a href="#effect" class="anchor"></a>Effect</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code><code><span class="keyword"> = </span><a href="../index.html#type-effect">effect</a></code></dt></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val </span>create : ?&#8288;raster:<a href="index.html#type-raster">raster</a> <span>&#45;&gt;</span> ?&#8288;depth:<a href="index.html#type-depth">depth</a> <span>&#45;&gt;</span> ?&#8288;blend:<a href="index.html#type-blend">blend</a> <span>&#45;&gt;</span> ?&#8288;uniforms:<a href="../Uniform/index.html#type-set">Uniform.set</a> <span>&#45;&gt;</span> <a href="../index.html#type-prog">prog</a> <span>&#45;&gt;</span> <a href="../index.html#type-effect">effect</a></code></dt><dd><p><code>create raster depth blend uniforms prog</code> is an effect that uses the GPU program <code>prog</code>. <code>raster</code>, <code>depth</code> and <code>blend</code> respectively define the rasterization, depth buffer and blend states (resp. default to <a href="index.html#val-raster_default"><code>raster_default</code></a>, <a href="index.html#val-depth_default"><code>depth_default</code></a>, <a href="index.html#val-blend_default"><code>blend_default</code></a>). <code>uniforms</code> is the uniforms used with <code>prog</code> (defaults to <code>Prog.uniforms (prog e)</code>).</p></dd></dl><dl><dt class="spec value" id="val-prog"><a href="#val-prog" class="anchor"></a><code><span class="keyword">val </span>prog : <a href="../index.html#type-effect">effect</a> <span>&#45;&gt;</span> <a href="../index.html#type-prog">prog</a></code></dt><dd><p><code>prog e</code> is <code>e</code>'s GPU program.</p></dd></dl><dl><dt class="spec value" id="val-uniforms"><a href="#val-uniforms" class="anchor"></a><code><span class="keyword">val </span>uniforms : <a href="../index.html#type-effect">effect</a> <span>&#45;&gt;</span> <a href="../Uniform/index.html#type-set">Uniform.set</a></code></dt><dd><p><code>uniforms e</code> the uniforms that are used with <code>e</code>'s program.</p></dd></dl><dl><dt class="spec value" id="val-get_uniform"><a href="#val-get_uniform" class="anchor"></a><code><span class="keyword">val </span>get_uniform : <a href="../index.html#type-effect">effect</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-uniform">uniform</a> <span>&#45;&gt;</span> <a href="../Uniform/index.html#type-value_untyped">Uniform.value_untyped</a></code></dt><dd><p><code>get_uniform e u</code> is the value of uniform <code>u</code> in <code>e</code>.</p></dd></dl><dl><dt class="spec value" id="val-set_uniform"><a href="#val-set_uniform" class="anchor"></a><code><span class="keyword">val </span>set_uniform : <a href="../index.html#type-effect">effect</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-uniform">uniform</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_uniform e u v</code> sets the value of uniform <code>u</code> to <code>v</code> in <code>e</code>.</p></dd></dl><dl><dt class="spec value" id="val-raster"><a href="#val-raster" class="anchor"></a><code><span class="keyword">val </span>raster : <a href="../index.html#type-effect">effect</a> <span>&#45;&gt;</span> <a href="index.html#type-raster">raster</a></code></dt><dd><p><code>raster e</code> is <code>e</code>'s raster state.</p></dd></dl><dl><dt class="spec value" id="val-depth"><a href="#val-depth" class="anchor"></a><code><span class="keyword">val </span>depth : <a href="../index.html#type-effect">effect</a> <span>&#45;&gt;</span> <a href="index.html#type-depth">depth</a></code></dt><dd><p><code>depth e</code> is <code>e</code>'s depth state.</p></dd></dl><dl><dt class="spec value" id="val-blend"><a href="#val-blend" class="anchor"></a><code><span class="keyword">val </span>blend : <a href="../index.html#type-effect">effect</a> <span>&#45;&gt;</span> <a href="index.html#type-blend">blend</a></code></dt><dd><p><code>blend e</code> is <code>e</code>'s blend state.</p></dd></dl></section></div></body></html>