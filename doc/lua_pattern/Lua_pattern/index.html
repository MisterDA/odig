<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lua_pattern (lua_pattern.Lua_pattern)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">lua_pattern</a> &#x00BB; Lua_pattern</nav><h1>Module <code>Lua_pattern</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Implementation of Lua patterns. Patterns are a simplified regex meant to be easier to implement and use.</p></dd></dl><dl><dt class="spec module" id="module-Capture"><a href="#module-Capture" class="anchor"></a><code><span class="keyword">module</span> <a href="Capture/index.html">Capture</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Captures are ranges that have been matched in the search string.</p></dd></dl><dl><dt class="spec module" id="module-Match"><a href="#module-Match" class="anchor"></a><code><span class="keyword">module</span> <a href="Match/index.html">Match</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Matches that the pattern has matched into the search strings.</p></dd></dl><dl><dt class="spec value" id="val-of_string"><a href="#val-of_string" class="anchor"></a><code><span class="keyword">val</span> of_string : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> option</code></dt><dd><p>Compile a pattern.</p><dl><dt>returns</dt><dd><p><code>None</code> if the pattern is invalid, <code>Some t</code> if the pattern is valid.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : ?&#8288;start:int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (int * int) option</code></dt><dd><p>Find the first successful pattern hit in the search string.</p><dl><dt>parameter start</dt><dd><p>optional place in the search string to start searching</p></dd></dl><dl><dt>returns</dt><dd><p><code>None</code> if the pattern is not found, <code>Some (s, e)</code> if the pattern was found, where the range is [s, e)</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-mtch"><a href="#val-mtch" class="anchor"></a><code><span class="keyword">val</span> mtch : ?&#8288;start:int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Match/index.html#type-t">Match.t</a> option</code></dt><dd><p>Match a pattern in the search string.</p><dl><dt>parameter start</dt><dd><p>optional place in the search string to start</p></dd></dl><dl><dt>returns</dt><dd><p><code>None</code> if the pattern was not found, <code>Some m</code> if the pattern was found.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-substitute"><a href="#val-substitute" class="anchor"></a><code><span class="keyword">val</span> substitute : ?&#8288;start:int <span>&#45;&gt;</span> s:string <span>&#45;&gt;</span> r:(<a href="Match/index.html#type-t">Match.t</a> <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string option</code></dt><dd><p>Replace a matches in a string. Replacing is a function on the <a href="Match/index.html#type-t"><code>Match.t</code></a> returning a new string.</p><dl><dt>parameter start</dt><dd><p>optional place in the search string to start</p></dd></dl><dl><dt>parameter s</dt><dd><p>string to search int</p></dd></dl><dl><dt>parameter r</dt><dd><p>replace function</p></dd></dl><dl><dt>returns</dt><dd><p><code>None</code> if the pattern was not found, <code>Some str</code> where <code>str</code> is the string with replacements applied</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-rep_str"><a href="#val-rep_str" class="anchor"></a><code><span class="keyword">val</span> rep_str : string <span>&#45;&gt;</span> <a href="Match/index.html#type-t">Match.t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Helper function for the common case where <a href="index.html#val-substitute"><code>substitute</code></a> is to replace a pattern with a static string. <code>rep_str</code> also supports access captures with </p><pre>%N</pre><p>where </p><pre>N</pre><p>is a number from 1 to 9.</p><p>Example:</p><p><code>let pat = Option.value_exn (of_string &quot;(%d+)(%a+)&quot;) in
    substitute ~s:&quot;123foobar&quot; ~r:(rep_str &quot;%2%1&quot;) pat</code></p><p>yields</p><p><code>Some &quot;foobar123&quot;</code></p></dd></dl></div></body></html>