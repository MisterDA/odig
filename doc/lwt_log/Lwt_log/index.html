<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_log (lwt_log.Lwt_log)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">lwt_log</a> &#x00BB; Lwt_log</nav><h1>Module <code>Lwt_log</code></h1><p>Logging functions</p><p>This module provides logging functions. It is actually a thin extension of <a href="../Lwt_log_core/index.html"><code>Lwt_log_core</code></a>, adding logging destinations that are only available on Unix and Windows (such as files, standard output, and the system log). Being a thin extension, most of the functions in this module are actually the ones in <a href="../Lwt_log_core/index.html"><code>Lwt_log_core</code></a>. They are not repeated on this page, however, so please read both <a href="../Lwt_log_core/index.html"><code>Lwt_log_core</code></a> <em>and</em> this page for a complete understanding.</p><p>Here is a simple, self-contained usage example:</p><pre><code class="ml">let () =
  Lwt_log.default :=
    Lwt_log.channel
      ~template:&quot;$(date).$(milliseconds) [$(level)] $(message)&quot;
      ~close_mode:`Keep
      ~channel:Lwt_io.stdout
      ();

  Lwt_log.add_rule &quot;*&quot; Lwt_log.Info;

  Lwt_main.run begin
    Lwt_log.info &quot;Hello world!&quot;
  end

(* ocamlfind opt -linkpkg -package lwt.unix log_example.ml &amp;&amp; ./a.out *)</code></pre><p>As an alternative to this module, we suggest trying <a href="http://erratique.ch/software/logs/doc/Logs_lwt.html"><code>Logs_lwt</code></a> from the <a href="http://erratique.ch/software/logs"><code>logs</code></a> library.</p></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../Lwt_log_core/index.html">Lwt_log_core</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Lwt_log_core/index.html">Lwt_log_core</a>.level = <a href="../Lwt_log_core/index.html#type-level">Lwt_log_core.level</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../Lwt_log_core/index.html">Lwt_log_core</a>.logger = <a href="../Lwt_log_core/index.html#type-logger">Lwt_log_core.logger</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../Lwt_log_core/index.html">Lwt_log_core</a>.section = <a href="../Lwt_log_core/index.html#type-section">Lwt_log_core.section</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../Lwt_log_core/index.html">Lwt_log_core</a>.template = <a href="../Lwt_log_core/index.html#type-template">Lwt_log_core.template</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../Lwt_log_core/index.html">Lwt_log_core</a>.Section = <a href="../Lwt_log_core/index.html#module-Section">Lwt_log_core.Section</a></code></span></summary><dl><dt class="spec type" id="type-level"><a href="#type-level" class="anchor"></a><code><span class="keyword">type</span> level</code><code> = <a href="../Lwt_log_core/index.html#type-level">Lwt_log_core.level</a></code><code> = </code><table class="variant"><tr id="type-level.Debug" class="anchored"><td class="def constructor"><a href="#type-level.Debug" class="anchor"></a><code>| </code><code><span class="constructor">Debug</span></code></td></tr><tr id="type-level.Info" class="anchored"><td class="def constructor"><a href="#type-level.Info" class="anchor"></a><code>| </code><code><span class="constructor">Info</span></code></td></tr><tr id="type-level.Notice" class="anchored"><td class="def constructor"><a href="#type-level.Notice" class="anchor"></a><code>| </code><code><span class="constructor">Notice</span></code></td></tr><tr id="type-level.Warning" class="anchored"><td class="def constructor"><a href="#type-level.Warning" class="anchor"></a><code>| </code><code><span class="constructor">Warning</span></code></td></tr><tr id="type-level.Error" class="anchored"><td class="def constructor"><a href="#type-level.Error" class="anchor"></a><code>| </code><code><span class="constructor">Error</span></code></td></tr><tr id="type-level.Fatal" class="anchored"><td class="def constructor"><a href="#type-level.Fatal" class="anchor"></a><code>| </code><code><span class="constructor">Fatal</span></code></td></tr></table></dt><dt class="spec type" id="type-logger"><a href="#type-logger" class="anchor"></a><code><span class="keyword">type</span> logger</code><code> = <a href="../Lwt_log_core/index.html#type-logger">Lwt_log_core.logger</a></code></dt><dt class="spec type" id="type-section"><a href="#type-section" class="anchor"></a><code><span class="keyword">type</span> section</code><code> = <a href="../Lwt_log_core/index.html#type-section">Lwt_log_core.section</a></code></dt></dl><dl><dt class="spec value" id="val-string_of_level"><a href="#val-string_of_level" class="anchor"></a><code><span class="keyword">val</span> string_of_level : <a href="index.html#type-level">level</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-level_of_string"><a href="#val-level_of_string" class="anchor"></a><code><span class="keyword">val</span> level_of_string : string <span>&#45;&gt;</span> <a href="index.html#type-level">level</a> option</code></dt><dt class="spec value" id="val-load_rules"><a href="#val-load_rules" class="anchor"></a><code><span class="keyword">val</span> load_rules : ?&#8288;fail_on_error:bool <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-add_rule"><a href="#val-add_rule" class="anchor"></a><code><span class="keyword">val</span> add_rule : string <span>&#45;&gt;</span> <a href="index.html#type-level">level</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-append_rule"><a href="#val-append_rule" class="anchor"></a><code><span class="keyword">val</span> append_rule : string <span>&#45;&gt;</span> <a href="index.html#type-level">level</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-reset_rules"><a href="#val-reset_rules" class="anchor"></a><code><span class="keyword">val</span> reset_rules : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-log"><a href="#val-log" class="anchor"></a><code><span class="keyword">val</span> log : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> level:<a href="index.html#type-level">level</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-log_f"><a href="#val-log_f" class="anchor"></a><code><span class="keyword">val</span> log_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> level:<a href="index.html#type-level">level</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-ign_log"><a href="#val-ign_log" class="anchor"></a><code><span class="keyword">val</span> ign_log : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> level:<a href="index.html#type-level">level</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ign_log_f"><a href="#val-ign_log_f" class="anchor"></a><code><span class="keyword">val</span> ign_log_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> level:<a href="index.html#type-level">level</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span class="keyword">val</span> debug : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-debug_f"><a href="#val-debug_f" class="anchor"></a><code><span class="keyword">val</span> debug_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-ign_debug"><a href="#val-ign_debug" class="anchor"></a><code><span class="keyword">val</span> ign_debug : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ign_debug_f"><a href="#val-ign_debug_f" class="anchor"></a><code><span class="keyword">val</span> ign_debug_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-info"><a href="#val-info" class="anchor"></a><code><span class="keyword">val</span> info : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-info_f"><a href="#val-info_f" class="anchor"></a><code><span class="keyword">val</span> info_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-ign_info"><a href="#val-ign_info" class="anchor"></a><code><span class="keyword">val</span> ign_info : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ign_info_f"><a href="#val-ign_info_f" class="anchor"></a><code><span class="keyword">val</span> ign_info_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-notice"><a href="#val-notice" class="anchor"></a><code><span class="keyword">val</span> notice : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-notice_f"><a href="#val-notice_f" class="anchor"></a><code><span class="keyword">val</span> notice_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-ign_notice"><a href="#val-ign_notice" class="anchor"></a><code><span class="keyword">val</span> ign_notice : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ign_notice_f"><a href="#val-ign_notice_f" class="anchor"></a><code><span class="keyword">val</span> ign_notice_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-warning"><a href="#val-warning" class="anchor"></a><code><span class="keyword">val</span> warning : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-warning_f"><a href="#val-warning_f" class="anchor"></a><code><span class="keyword">val</span> warning_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-ign_warning"><a href="#val-ign_warning" class="anchor"></a><code><span class="keyword">val</span> ign_warning : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ign_warning_f"><a href="#val-ign_warning_f" class="anchor"></a><code><span class="keyword">val</span> ign_warning_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val</span> error : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-error_f"><a href="#val-error_f" class="anchor"></a><code><span class="keyword">val</span> error_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-ign_error"><a href="#val-ign_error" class="anchor"></a><code><span class="keyword">val</span> ign_error : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ign_error_f"><a href="#val-ign_error_f" class="anchor"></a><code><span class="keyword">val</span> ign_error_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-fatal"><a href="#val-fatal" class="anchor"></a><code><span class="keyword">val</span> fatal : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-fatal_f"><a href="#val-fatal_f" class="anchor"></a><code><span class="keyword">val</span> fatal_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-ign_fatal"><a href="#val-ign_fatal" class="anchor"></a><code><span class="keyword">val</span> ign_fatal : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-ign_fatal_f"><a href="#val-ign_fatal_f" class="anchor"></a><code><span class="keyword">val</span> ign_fatal_f : ?&#8288;exn:exn <span>&#45;&gt;</span> ?&#8288;section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> ?&#8288;location:(string * int * int) <span>&#45;&gt;</span> ?&#8288;logger:<a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><div class="spec module" id="module-Section"><a href="#module-Section" class="anchor"></a><code><span class="keyword">module</span> <a href="Section/index.html">Section</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-template"><a href="#type-template" class="anchor"></a><code><span class="keyword">type</span> template</code><code> = <a href="../Lwt_log_core/index.html#type-template">Lwt_log_core.template</a></code></dt></dl><dl><dt class="spec value" id="val-render"><a href="#val-render" class="anchor"></a><code><span class="keyword">val</span> render : buffer:<a href="../../ocaml/Stdlib/Buffer/index.html#type-t">Stdlib.Buffer.t</a> <span>&#45;&gt;</span> template:<a href="index.html#type-template">template</a> <span>&#45;&gt;</span> section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> level:<a href="index.html#type-level">level</a> <span>&#45;&gt;</span> message:string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-location_key"><a href="#val-location_key" class="anchor"></a><code><span class="keyword">val</span> location_key : (string * int * int) <a href="../../lwt/Lwt/index.html#type-key">Lwt.key</a></code></dt></dl><dl><dt class="spec exception" id="exception-Logger_closed"><a href="#exception-Logger_closed" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Logger_closed</span></code></dt></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : output:(<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> <a href="index.html#type-level">level</a> <span>&#45;&gt;</span> string list <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <span>&#45;&gt;</span> close:(unit <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a>) <span>&#45;&gt;</span> <a href="index.html#type-logger">logger</a></code></dt><dt class="spec value" id="val-close"><a href="#val-close" class="anchor"></a><code><span class="keyword">val</span> close : <a href="index.html#type-logger">logger</a> <span>&#45;&gt;</span> unit <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dt class="spec value" id="val-default"><a href="#val-default" class="anchor"></a><code><span class="keyword">val</span> default : <a href="index.html#type-logger">logger</a> <a href="../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a></code></dt><dt class="spec value" id="val-broadcast"><a href="#val-broadcast" class="anchor"></a><code><span class="keyword">val</span> broadcast : <a href="index.html#type-logger">logger</a> list <span>&#45;&gt;</span> <a href="index.html#type-logger">logger</a></code></dt><dt class="spec value" id="val-dispatch"><a href="#val-dispatch" class="anchor"></a><code><span class="keyword">val</span> dispatch : (<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> <a href="index.html#type-level">level</a> <span>&#45;&gt;</span> <a href="index.html#type-logger">logger</a>) <span>&#45;&gt;</span> <a href="index.html#type-logger">logger</a></code></dt><dt class="spec value" id="val-null"><a href="#val-null" class="anchor"></a><code><span class="keyword">val</span> null : <a href="index.html#type-logger">logger</a></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-render"><a href="#val-render" class="anchor"></a><code><span class="keyword">val</span> render : buffer:<a href="../../ocaml/Stdlib/Buffer/index.html#type-t">Stdlib.Buffer.t</a> <span>&#45;&gt;</span> template:<a href="index.html#type-template">template</a> <span>&#45;&gt;</span> section:<a href="index.html#type-section">section</a> <span>&#45;&gt;</span> level:<a href="index.html#type-level">level</a> <span>&#45;&gt;</span> message:string <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <a href="../Lwt_log_core/index.html#val-render"><code>Lwt_log_core.render</code></a>, except that the template may also contain the following variables:</p><ul><li><code>date</code>, which will be replaced with the current local date and time,</li><li><code>milliseconds</code>, which will be replaced by the fractional part of the current Unix time, to millisecond accuracy.</li></ul><p>For example:</p><ul><li><code>&quot;$(date) $(name)[$(pid)]: $(message)&quot;</code></li><li><code>&quot;$(date).$(milliseconds) $(name)[$(pid)]: $(message)&quot;</code></li><li><code>&quot;$(date): $(loc-file): $(loc-line): $(loc-column): $(message)&quot;</code></li></ul></dd></dl><dl><dt class="spec type" id="type-syslog_facility"><a href="#type-syslog_facility" class="anchor"></a><code><span class="keyword">type</span> syslog_facility</code> = <code>[ </code><table class="variant"><tr id="type-syslog_facility.Auth" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Auth" class="anchor"></a><code>| </code><code>`Auth</code></td></tr><tr id="type-syslog_facility.Authpriv" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Authpriv" class="anchor"></a><code>| </code><code>`Authpriv</code></td></tr><tr id="type-syslog_facility.Cron" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Cron" class="anchor"></a><code>| </code><code>`Cron</code></td></tr><tr id="type-syslog_facility.Daemon" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Daemon" class="anchor"></a><code>| </code><code>`Daemon</code></td></tr><tr id="type-syslog_facility.FTP" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.FTP" class="anchor"></a><code>| </code><code>`FTP</code></td></tr><tr id="type-syslog_facility.Kernel" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Kernel" class="anchor"></a><code>| </code><code>`Kernel</code></td></tr><tr id="type-syslog_facility.Local0" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local0" class="anchor"></a><code>| </code><code>`Local0</code></td></tr><tr id="type-syslog_facility.Local1" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local1" class="anchor"></a><code>| </code><code>`Local1</code></td></tr><tr id="type-syslog_facility.Local2" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local2" class="anchor"></a><code>| </code><code>`Local2</code></td></tr><tr id="type-syslog_facility.Local3" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local3" class="anchor"></a><code>| </code><code>`Local3</code></td></tr><tr id="type-syslog_facility.Local4" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local4" class="anchor"></a><code>| </code><code>`Local4</code></td></tr><tr id="type-syslog_facility.Local5" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local5" class="anchor"></a><code>| </code><code>`Local5</code></td></tr><tr id="type-syslog_facility.Local6" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local6" class="anchor"></a><code>| </code><code>`Local6</code></td></tr><tr id="type-syslog_facility.Local7" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Local7" class="anchor"></a><code>| </code><code>`Local7</code></td></tr><tr id="type-syslog_facility.LPR" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.LPR" class="anchor"></a><code>| </code><code>`LPR</code></td></tr><tr id="type-syslog_facility.Mail" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Mail" class="anchor"></a><code>| </code><code>`Mail</code></td></tr><tr id="type-syslog_facility.News" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.News" class="anchor"></a><code>| </code><code>`News</code></td></tr><tr id="type-syslog_facility.Syslog" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Syslog" class="anchor"></a><code>| </code><code>`Syslog</code></td></tr><tr id="type-syslog_facility.User" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.User" class="anchor"></a><code>| </code><code>`User</code></td></tr><tr id="type-syslog_facility.UUCP" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.UUCP" class="anchor"></a><code>| </code><code>`UUCP</code></td></tr><tr id="type-syslog_facility.NTP" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.NTP" class="anchor"></a><code>| </code><code>`NTP</code></td></tr><tr id="type-syslog_facility.Security" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Security" class="anchor"></a><code>| </code><code>`Security</code></td></tr><tr id="type-syslog_facility.Console" class="anchored"><td class="def constructor"><a href="#type-syslog_facility.Console" class="anchor"></a><code>| </code><code>`Console</code></td></tr></table><code> ]</code></dt><dd><p>Syslog facility. Look at the SYSLOG(3) man page for a description of syslog facilities</p></dd></dl><dl><dt class="spec value" id="val-syslog"><a href="#val-syslog" class="anchor"></a><code><span class="keyword">val</span> syslog : ?&#8288;template:<a href="index.html#type-template">template</a> <span>&#45;&gt;</span> ?&#8288;paths:string list <span>&#45;&gt;</span> facility:<a href="index.html#type-syslog_facility">syslog_facility</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-logger">logger</a></code></dt><dd><p><code>syslog ?template ?paths ~facility ()</code> creates an logger which send message to the system logger.</p><dl><dt>parameter paths</dt><dd><p>is a list of path to try for the syslogd socket. It default to <code>[&quot;/dev/log&quot;; &quot;/var/run/log&quot;]</code>.</p></dd></dl><dl><dt>parameter template</dt><dd><p>defaults to <code>&quot;$(date) $(name)[$(pid)]: $(section): $(message)&quot;</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-file"><a href="#val-file" class="anchor"></a><code><span class="keyword">val</span> file : ?&#8288;template:<a href="index.html#type-template">template</a> <span>&#45;&gt;</span> ?&#8288;mode:[ `Truncate | `Append ] <span>&#45;&gt;</span> ?&#8288;perm:<a href="../../ocaml/Unix/index.html#type-file_perm">Unix.file_perm</a> <span>&#45;&gt;</span> file_name:string <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-logger">logger</a> <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></code></dt><dd><p><code>desf_file ?template ?mode ?perm ~file_name ()</code> creates an logger which will write messages to <code>file_name</code>.</p><ul><li>if <code>mode = `Truncate</code> then the file is truncated and previous contents will be lost.</li></ul><ul><li>if <code>mode = `Append</code>, new messages will be appended at the end of the file</li></ul><dl><dt>parameter mode</dt><dd><p>defaults to <code>`Append</code></p></dd></dl><dl><dt>parameter template</dt><dd><p>defaults to <code>&quot;$(date): $(section): $(message)&quot;</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-channel"><a href="#val-channel" class="anchor"></a><code><span class="keyword">val</span> channel : ?&#8288;template:<a href="index.html#type-template">template</a> <span>&#45;&gt;</span> close_mode:[ `Close | `Keep ] <span>&#45;&gt;</span> channel:<a href="../../lwt/Lwt_io/index.html#type-output_channel">Lwt_io.output_channel</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-logger">logger</a></code></dt><dd><p><code>channel ?template ~close_mode ~channel ()</code> creates a logger from a channel.</p><p>If <code>close_mode = `Close</code> then <code>channel</code> is closed when the logger is closed, otherwise it is left open.</p><dl><dt>parameter template</dt><dd><p>defaults to <code>&quot;$(name): $(section): $(message)&quot;</code></p></dd></dl></dd></dl></div></body></html>