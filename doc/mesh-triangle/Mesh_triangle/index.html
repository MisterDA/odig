<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mesh_triangle (mesh-triangle.Mesh_triangle)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">mesh-triangle</a> &#x00BB; Mesh_triangle</nav><h1>Module <code>Mesh_triangle</code></h1><p>Interface for the Triangle 2D mesh generator.</p><p><a href="http://www.cs.cmu.edu/~quake/triangle.html">Triangle</a> is a two-dimensional quality mesh generator and delaunay triangulator which was awarded the 2003 Wilkinson Prize.</p><p>Jonathan Richard Shewchuk, the author of triangle, would like that, if you use Triangle in a scientific publication, you acknowledgment it with the following citation: Jonathan Richard Shewchuk, ``Triangle: Engineering a 2D Quality Mesh Generator and Delaunay Triangulator,'' in Applied Computational Geometry: Towards Geometric Engineering (Ming C. Lin and Dinesh Manocha, editors), volume 1148 of Lecture Notes in Computer Science, pages 203-222, Springer-Verlag, Berlin, May 1996.</p><dl><dt>author</dt><dd>Christophe Troestler (Christophe.Troestler\@umons.ac.be)</dd></dl></header><dl><dt class="spec class" id="class-pslg"><a href="#class-pslg" class="anchor"></a><code><span class="keyword">class</span> 'l<a href="class-pslg/index.html">pslg</a> : <span class="type-var">'l</span> <a href="../../ocaml/Bigarray/index.html#type-layout">Bigarray.layout</a> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Planar Straight Line Graph datastructure (<a href="../../mesh/Mesh/class-pslg/index.html"><code>Mesh.pslg</code></a> enriched with methods specific to Triangle). By default, creating an object from this class results in all methods being initialized with empty arrays.</p></dd></dl><dl><dt class="spec value" id="val-pslg"><a href="#val-pslg" class="anchor"></a><code><span class="keyword">val</span> pslg : ?&#8288;hole:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> ?&#8288;region:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> ?&#8288;point_marker:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_vec">Mesh.int_vec</a> <span>&#45;&gt;</span> ?&#8288;point_attribute:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> ?&#8288;segment_marker:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_vec">Mesh.int_vec</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_mat">Mesh.int_mat</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="class-pslg/index.html">pslg</a></code></dt><dd><p><code>pslg point segment</code> creates a PSLG with the proper methods. The default values for unspecified values are empty arrays.</p><dl><dt>raises Invalid_argument</dt><dd><p>if a size is incorrect.</p></dd></dl></dd></dl><dl><dt class="spec class" id="class-t"><a href="#class-t" class="anchor"></a><code><span class="keyword">class</span> 'l<a href="class-t/index.html">t</a> : <span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html">Mesh</a>.#t <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Object describing various characteristics of a mesh (<a href="../../mesh/Mesh/class-type-t/index.html"><code>Mesh.t</code></a> enriched with methods specific to Triangle). It can also be used to construct <code>t</code> values from Mesh.t with empty attributes matrices.</p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : ?&#8288;hole:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> ?&#8288;region:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> ?&#8288;point_marker:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_vec">Mesh.int_vec</a> <span>&#45;&gt;</span> ?&#8288;point_attribute:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> ?&#8288;segment_marker:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_vec">Mesh.int_vec</a> <span>&#45;&gt;</span> ?&#8288;segment:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_mat">Mesh.int_mat</a> <span>&#45;&gt;</span> ?&#8288;neighbor:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_mat">Mesh.int_mat</a> <span>&#45;&gt;</span> ?&#8288;edge:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_mat">Mesh.int_mat</a> <span>&#45;&gt;</span> ?&#8288;edge_marker:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_vec">Mesh.int_vec</a> <span>&#45;&gt;</span> ?&#8288;triangle_attribute:<span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-mat">Mesh.mat</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_mat">Mesh.int_mat</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="class-t/index.html">t</a></code></dt><dd><p><code>create point triangle</code> creates a mesh with the proper methods. The default values for unspecified values are empty arrays.</p><dl><dt>raises Invalid_argument</dt><dd><p>if a size is incorrect.</p></dd></dl></dd></dl><dl><dt class="spec class-type" id="class-type-voronoi"><a href="#class-type-voronoi" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span> 'l<a href="class-type-voronoi/index.html">voronoi</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></dt><dd><p>Voronoi diagram (<a href="../../mesh/Mesh/class-type-voronoi/index.html"><code>Mesh.voronoi</code></a> enriched with methods specific to Triangle).</p></dd></dl><dl><dt class="spec exception" id="exception-Invalid_argument"><a href="#exception-Invalid_argument" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Invalid_argument</span> <span class="keyword">of</span> string</code></dt><dd><p>Exception raised by the functions of this module to indicate that an argument not respecting the specifications was given.</p></dd></dl><dl><dt class="spec type" id="type-triunsuitable"><a href="#type-triunsuitable" class="anchor"></a><code><span class="keyword">type</span> triunsuitable</code><code> = float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> bool</code></dt><dd><p>Type of functions used to determine whether or not a selected triangle is too big (and needs to be refined). <code>triunsuitable x1
    y1 x2 y2 x3 y3 area</code> must return <code>true</code> if the triangle is too big. The arguments are as follow:</p><ul><li><code>x1</code> and <code>y1</code> are the X an Y coordinates of the triangle's origin vertex.</li><li><code>x2</code> and <code>y2</code> are the X an Y coordinates of the triangle's destination vertex.</li><li><code>x3</code> and <code>y3</code> are the X an Y coordinates of the triangle's apex vertex.</li><li><code>area</code> is the area of the triangle.</li></ul></dd></dl><dl><dt class="spec value" id="val-triangulate"><a href="#val-triangulate" class="anchor"></a><code><span class="keyword">val</span> triangulate : ?&#8288;delaunay:bool <span>&#45;&gt;</span> ?&#8288;min_angle:float <span>&#45;&gt;</span> ?&#8288;max_area:float <span>&#45;&gt;</span> ?&#8288;region_area:bool <span>&#45;&gt;</span> ?&#8288;max_steiner:int <span>&#45;&gt;</span> ?&#8288;voronoi:bool <span>&#45;&gt;</span> ?&#8288;edge:bool <span>&#45;&gt;</span> ?&#8288;neighbor:bool <span>&#45;&gt;</span> ?&#8288;subparam:bool <span>&#45;&gt;</span> ?&#8288;triunsuitable:<a href="index.html#type-triunsuitable">triunsuitable</a> <span>&#45;&gt;</span> ?&#8288;check_finite:bool <span>&#45;&gt;</span> ?&#8288;debug:bool <span>&#45;&gt;</span> ?&#8288;verbose:[ `V | `VV | `VVV ] <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="class-pslg/index.html">pslg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="class-t/index.html">t</a> * <span class="type-var">'a</span> <a href="class-type-voronoi/index.html">voronoi</a></code></dt><dd><p><code>triangulate pslg</code> returns a triangulation and a possibly a Voronoi diagram of the domain described by <code>pslg</code>. If <code>pslg#segment</code> is empty, the convex hull of the set of points is used. Note that the numbering of nodes returned by this function may be far from optimal for the FEM. See <a href="../../mesh/Mesh/index.html#band"><span>Band computation and reduction</span></a>.</p><p>Note that <code>#point_marker</code> are not propagated to points created on the segment. You must set <code>#segment_marker</code> for that. If you do not set <code>#segment_marker</code>, only the external boundary points will receive a marker of 1, the points on internal boundaries will have the marker 0.</p><p>If <code>#region</code> is non-empty, it will be used to assign an additional floating-point attribute to each triangle. It will be written as the single attribute of <code>#triangle_attribute</code> matrix.</p><p><code>#point_attribute</code> are interpolated to all points.</p><dl><dt>parameter delaunay</dt><dd><p>generates a truly Delaunay (not just constrained Delaunay) triangulation. It usually increases the number of vertices and triangles. Default: <code>true</code>.</p></dd></dl><dl><dt>parameter min_angle</dt><dd><p>requires that all angles of triangles have at least that value. If <code>min_angle &lt; 0</code> or <code>min_angle &gt; 60</code>, the default value of Triangle is used. If the minimum angle is 28.6 degrees or smaller, Triangle is mathematically guaranteed to terminate (assuming infinite precision arithmetic--Triangle may fail to terminate if you run out of precision).</p></dd></dl><dl><dt>parameter edge</dt><dd><p>return the edges of the triangulation in <code>#edge</code>. Default: <code>true</code>.</p></dd></dl><dl><dt>parameter neighbor</dt><dd><p>Outputs an array of triangles neighboring each triangle in <code>#neighbor</code>. The first neighbor <code>#neighbor.{1,t}</code> of triangle <code>t</code> is opposite the first corner <code>#triangle.{1,t}</code> of triangle <code>t</code>, and so on. Default: <code>false</code>.</p></dd></dl><dl><dt>parameter max_area</dt><dd><p>Imposes a maximum triangle area.</p></dd></dl><dl><dt>parameter region_area</dt><dd><p>uses the maximum area specified for each region in <code>#region</code>. Default: <code>false</code> even if <code>#region</code> is a non-empty matrix (i.e. you have to enable it explicitly).</p></dd></dl><dl><dt>parameter max_steiner</dt><dd><p>Specifies the maximum number of Steiner points (vertices that are not in the input, but are added to meet the constraints on minimum angle and maximum area). The default is to allow an unlimited number.</p></dd></dl><dl><dt>parameter triunsuitable</dt><dd><p>a routine used to determine whether is triangle needs to be further splitted.</p></dd></dl><dl><dt>parameter subparam</dt><dd><p>Generates second-order subparametric elements with six nodes each. Default: <code>false</code>.</p></dd></dl><dl><dt>parameter check_finite</dt><dd><p>checks that all points coordinate are finite. As non-finite coordinates (e.g. NaN) puzzle Triangle without making it fail, the default is <code>true</code>. Set it to <code>false</code> only if you are sure your coordinates are finite.</p></dd></dl><dl><dt>parameter debug</dt><dd><p>if true, outputs some explanation of what Triangle is doing and some statistics. Default: <code>true</code> as it can contain interesting information during program development.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-refine"><a href="#val-refine" class="anchor"></a><code><span class="keyword">val</span> refine : ?&#8288;delaunay:bool <span>&#45;&gt;</span> ?&#8288;min_angle:float <span>&#45;&gt;</span> ?&#8288;max_area:float <span>&#45;&gt;</span> ?&#8288;max_steiner:int <span>&#45;&gt;</span> ?&#8288;voronoi:bool <span>&#45;&gt;</span> ?&#8288;edge:bool <span>&#45;&gt;</span> ?&#8288;neighbor:bool <span>&#45;&gt;</span> ?&#8288;subparam:bool <span>&#45;&gt;</span> ?&#8288;triangle_area:<span class="type-var">'a</span> <a href="../../mesh/Mesh/index.html#type-vec">Mesh.vec</a> <span>&#45;&gt;</span> ?&#8288;triunsuitable:<a href="index.html#type-triunsuitable">triunsuitable</a> <span>&#45;&gt;</span> ?&#8288;check_finite:bool <span>&#45;&gt;</span> ?&#8288;debug:bool <span>&#45;&gt;</span> ?&#8288;verbose:[ `V | `VV | `VVV ] <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="class-t/index.html">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="class-t/index.html">t</a> * <span class="type-var">'a</span> <a href="class-type-voronoi/index.html">voronoi</a></code></dt><dd><p><code>refine mesh</code> returns a refined version of the <code>mesh</code>. The initial indices for the points are preserved, additional nodes are added at the end. However, the refinement is not hierarchical: there is no guarantee that each output element is contained in a single input element.</p><dl><dt>parameter triangle_area</dt><dd><p>allows to specify, for each triangle <code>i</code>, a maximum area <code>triangle_area.{i}</code>. If both <code>max_area</code> and <code>triangle_area</code> are specified, <code>triangle_area</code> is used.</p><p>For other parameters, see <a href="index.html#val-triangulate"><code>triangulate</code></a>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : <span class="type-var">'l</span> <a href="class-t/index.html">t</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="class-t/index.html">t</a></code></dt><dd><p>See <a href="../../mesh/Mesh/index.html#val-copy"><code>Mesh.copy</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <span class="type-var">'l</span> <a href="class-t/index.html">t</a> <span>&#45;&gt;</span> ?&#8288;pos:int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="class-t/index.html">t</a></code></dt><dd><p><code>sub mesh ?pos len</code> returns a new mesh keeping only the points with indices between <code>pos</code> and <code>pos + len - 1</code> (included). See <a href="../../mesh/Mesh/index.html#val-sub"><code>Mesh.sub</code></a> for more information.</p></dd></dl><dl><dt class="spec value" id="val-permute_points"><a href="#val-permute_points" class="anchor"></a><code><span class="keyword">val</span> permute_points : <span class="type-var">'l</span> <a href="class-t/index.html">t</a> <span>&#45;&gt;</span> ?&#8288;inv:bool <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_vec">Mesh.int_vec</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="class-t/index.html">t</a></code></dt><dd><p><code>permute_points perm mesh</code>, see <a href="../../mesh/Mesh/index.html#val-permute_points"><code>Mesh.permute_points</code></a>. This version also permutes the <code>#point_attribute</code> matrix.</p></dd></dl><dl><dt class="spec value" id="val-permute_triangles"><a href="#val-permute_triangles" class="anchor"></a><code><span class="keyword">val</span> permute_triangles : <span class="type-var">'l</span> <a href="class-t/index.html">t</a> <span>&#45;&gt;</span> ?&#8288;inv:bool <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="../../mesh/Mesh/index.html#type-int_vec">Mesh.int_vec</a> <span>&#45;&gt;</span> <span class="type-var">'l</span> <a href="class-t/index.html">t</a></code></dt><dd><p><code>permute_points perm mesh</code>, see <a href="../../mesh/Mesh/index.html#val-permute_points"><code>Mesh.permute_points</code></a>. This version also permutes the <code>#point_attribute</code> matrix.</p></dd></dl></div></body></html>