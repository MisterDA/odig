<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CLI (minicli.Minicli.CLI)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">minicli</a> &#x00BB; <a href="../index.html">Minicli</a> &#x00BB; CLI</nav><h1>Module <code>Minicli.CLI</code></h1><nav class="toc"><ul><li><a href="#exceptions">Exceptions</a></li><li><a href="#initialization">Initialization</a></li><li><a href="#finalization">Finalization</a></li><li><a href="#parse-mandatory-options">Parse mandatory options</a></li><li><a href="#parse-optional-options">Parse optional options</a></li><li><a href="#parse-optional-options-with-a-default-value">Parse optional options with a default value</a></li></ul></nav></header><section><header><h5 id="exceptions"><a href="#exceptions" class="anchor"></a>Exceptions</h5></header><dl><dt class="spec exception" id="exception-Not_an_int"><a href="#exception-Not_an_int" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Not_an_int</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-Not_a_string"><a href="#exception-Not_a_string" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Not_a_string</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-Not_a_float"><a href="#exception-Not_a_float" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Not_a_float</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-Not_a_bool"><a href="#exception-Not_a_bool" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Not_a_bool</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-No_param_for_option"><a href="#exception-No_param_for_option" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">No_param_for_option</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-More_than_once"><a href="#exception-More_than_once" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">More_than_once</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-Option_is_mandatory"><a href="#exception-Option_is_mandatory" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Option_is_mandatory</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-Duplicate_in_specification"><a href="#exception-Duplicate_in_specification" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Duplicate_in_specification</span> <span class="keyword">of</span> string</code></dt><dt class="spec exception" id="exception-Unused_options"><a href="#exception-Unused_options" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Unused_options</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec type" id="type-args"><a href="#type-args" class="anchor"></a><code><span class="keyword">type</span> args</code><code> = string list</code></dt><dd><p>Sys.argv as a list</p></dd></dl><dl><dt class="spec type" id="type-option_strings"><a href="#type-option_strings" class="anchor"></a><code><span class="keyword">type</span> option_strings</code><code> = string list</code></dt><dd><p>all accepted strings meaning the same option</p></dd></dl></section><section><header><h5 id="initialization"><a href="#initialization" class="anchor"></a>Initialization</h5></header><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : unit <span>&#45;&gt;</span> int * <a href="index.html#type-args">args</a></code></dt><dd><p>Call <code>init</code> before using any of the other funtions (unless you really know what you are doing). <code>let argc, args = CLI.init () in ...</code> will compute <code>argc</code> and transform Sys.argv into the string list <code>args</code>.</p></dd></dl></section><section><header><h5 id="finalization"><a href="#finalization" class="anchor"></a>Finalization</h5></header><dl><dt class="spec value" id="val-finalize"><a href="#val-finalize" class="anchor"></a><code><span class="keyword">val</span> finalize : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>You can (but you are not forced to) call <code>finalize</code> in case options parsing is finished. Meaning, the program will not try to process command line options anymore. <code>finalize</code> will enforce that there are no unused options left on the command line. In case there are some options left unused on the command line, <code>finalize</code> will raise an <code>Unused_options</code> exception listing them all.</p></dd></dl></section><section><header><h5 id="parse-mandatory-options"><a href="#parse-mandatory-options" class="anchor"></a>Parse mandatory options</h5></header><dl><dt class="spec value" id="val-get_int"><a href="#val-get_int" class="anchor"></a><code><span class="keyword">val</span> get_int : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> int</code></dt><dd><p>read a mandatory int from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_char"><a href="#val-get_char" class="anchor"></a><code><span class="keyword">val</span> get_char : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> char</code></dt><dd><p>read a mandatory char from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_string"><a href="#val-get_string" class="anchor"></a><code><span class="keyword">val</span> get_string : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> string</code></dt><dd><p>read a mandatory string from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_float"><a href="#val-get_float" class="anchor"></a><code><span class="keyword">val</span> get_float : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> float</code></dt><dd><p>read a mandatory float from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_bool"><a href="#val-get_bool" class="anchor"></a><code><span class="keyword">val</span> get_bool : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>undocumented</p></dd></dl><dl><dt class="spec value" id="val-get_set_bool"><a href="#val-get_set_bool" class="anchor"></a><code><span class="keyword">val</span> get_set_bool : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>return true if flag was present on the command line, false otherwise</p></dd></dl><dl><dt class="spec value" id="val-get_reset_bool"><a href="#val-get_reset_bool" class="anchor"></a><code><span class="keyword">val</span> get_reset_bool : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>return false if flag was present on the command line, true otherwise</p></dd></dl></section><section><header><h5 id="parse-optional-options"><a href="#parse-optional-options" class="anchor"></a>Parse optional options</h5></header><dl><dt class="spec value" id="val-get_int_opt"><a href="#val-get_int_opt" class="anchor"></a><code><span class="keyword">val</span> get_int_opt : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> int option</code></dt><dd><p>read an optional int from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_char_opt"><a href="#val-get_char_opt" class="anchor"></a><code><span class="keyword">val</span> get_char_opt : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> char option</code></dt><dd><p>read an optional char from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_string_opt"><a href="#val-get_string_opt" class="anchor"></a><code><span class="keyword">val</span> get_string_opt : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> string option</code></dt><dd><p>read an optional string from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_float_opt"><a href="#val-get_float_opt" class="anchor"></a><code><span class="keyword">val</span> get_float_opt : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> float option</code></dt><dd><p>read an optional float from the command line</p></dd></dl><dl><dt class="spec value" id="val-get_bool_opt"><a href="#val-get_bool_opt" class="anchor"></a><code><span class="keyword">val</span> get_bool_opt : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> bool option</code></dt><dd><p>undocumented</p></dd></dl></section><section><header><h5 id="parse-optional-options-with-a-default-value"><a href="#parse-optional-options-with-a-default-value" class="anchor"></a>Parse optional options with a default value</h5></header><dl><dt class="spec value" id="val-get_int_def"><a href="#val-get_int_def" class="anchor"></a><code><span class="keyword">val</span> get_int_def : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dd><p>read an optional int from the command line, or use the provided default if option was not seen on the command line</p></dd></dl><dl><dt class="spec value" id="val-get_string_def"><a href="#val-get_string_def" class="anchor"></a><code><span class="keyword">val</span> get_string_def : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p>read an optional string from the command line, or use the provided default if option was not seen on the command line</p></dd></dl><dl><dt class="spec value" id="val-get_char_def"><a href="#val-get_char_def" class="anchor"></a><code><span class="keyword">val</span> get_char_def : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> char <span>&#45;&gt;</span> char</code></dt><dd><p>read an optional char from the command line, or use the provided default if option was not seen on the command line</p></dd></dl><dl><dt class="spec value" id="val-get_float_def"><a href="#val-get_float_def" class="anchor"></a><code><span class="keyword">val</span> get_float_def : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float</code></dt><dd><p>read an optional float from the command line, or use the provided default if option was not seen on the command line</p></dd></dl><dl><dt class="spec value" id="val-get_bool_def"><a href="#val-get_bool_def" class="anchor"></a><code><span class="keyword">val</span> get_bool_def : <a href="index.html#type-option_strings">option_strings</a> <span>&#45;&gt;</span> <a href="index.html#type-args">args</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> bool</code></dt><dd><p>undocumented</p></dd></dl></section></div></body></html>