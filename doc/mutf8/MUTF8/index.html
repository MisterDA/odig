<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>MUTF8 (mutf8.MUTF8)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">mutf8</a> &#x00BB; MUTF8</nav><h1>Module <code>MUTF8</code></h1><p>Unicode strings encoded according to the &quot;Modified UTF-8&quot; scheme used by Java and derivative systems.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The abstract type of MUTF8 strings. Internally these are a normal OCaml octet-string (containing the MUTF8 encoding) plus some auxiliary information about its contents.</p></dd></dl><dl><dt class="spec value" id="val-of_utf8"><a href="#val-of_utf8" class="anchor"></a><code><span class="keyword">val</span> of_utf8 : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Returns a MUTF8 string equivalent to a given UTF8 string. O(n). May raise BatUTF8.Malformed_code</p></dd></dl><dl><dt class="spec value" id="val-to_utf8"><a href="#val-to_utf8" class="anchor"></a><code><span class="keyword">val</span> to_utf8 : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Returns a UTF8 string equivalent to a given MUTF8 string. O(n), but O(1) in the common case in which the MUTF8 and UTF8 encodings are identical.</p></dd></dl><dl><dt class="spec value" id="val-of_bytes"><a href="#val-of_bytes" class="anchor"></a><code><span class="keyword">val</span> of_bytes : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a <code>MUTF8.t</code> from its byte representation. O(n) May raise BatUTF8.Malformed_code</p></dd></dl><dl><dt class="spec value" id="val-to_bytes"><a href="#val-to_bytes" class="anchor"></a><code><span class="keyword">val</span> to_bytes : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Returns the MUTF8 encoded string value. O(1)</p></dd></dl><dl><dt class="spec value" id="val-of_utf16_seq"><a href="#val-of_utf16_seq" class="anchor"></a><code><span class="keyword">val</span> of_utf16_seq : int <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Creates a MUTF8 string from a sequence of UTF-16 values. Any sequence of UTF-16 values is valid. Numbers outside the range of 0 to 0xFFFF will raise BatUChar.Out_of_range.</p></dd></dl><dl><dt class="spec value" id="val-of_uchar_seq"><a href="#val-of_uchar_seq" class="anchor"></a><code><span class="keyword">val</span> of_uchar_seq : <a href="../../batteries/BatUChar/index.html#type-t">BatUChar.t</a> <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Creates a MUTF8 string from a sequence of unichars. The sequence may contain high-plane characters and/or unpaired surrogates but must not contain paired surrogates: providing a sequence with paired surrogates will produce a malformed MUTF8 object.</p></dd></dl><dl><dt class="spec value" id="val-to_utf16_seq"><a href="#val-to_utf16_seq" class="anchor"></a><code><span class="keyword">val</span> to_utf16_seq : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a></code></dt><dd><p>Traverse a MUTF8 string as a sequence of UTF-16 values. To get Unicode characters, compose this with wobbly_to_ucs32 or strict_to_ucs32.</p></dd></dl><dl><dt class="spec value" id="val-to_utf16_enum"><a href="#val-to_utf16_enum" class="anchor"></a><code><span class="keyword">val</span> to_utf16_enum : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <a href="../../batteries/BatEnum/index.html#type-t">BatEnum.t</a></code></dt><dt class="spec value" id="val-utf16_length"><a href="#val-utf16_length" class="anchor"></a><code><span class="keyword">val</span> utf16_length : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The number of UTF-16 characters required to represent this string</p></dd></dl><dl><dt class="spec value" id="val-unicode_length"><a href="#val-unicode_length" class="anchor"></a><code><span class="keyword">val</span> unicode_length : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The number of Unicode codepoints required to represent this string</p></dd></dl><dl><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Lexicographically compare MUTF8 strings according to their UCS-16 representations. Note that because of the special treatment of codepoint 0 in MUTF8, this is different from comparing the bytestring representations.</p></dd></dl><dl><dt class="spec value" id="val-seq_of_utf8"><a href="#val-seq_of_utf8" class="anchor"></a><code><span class="keyword">val</span> seq_of_utf8 : ?&#8288;startbyte:int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a></code></dt><dd><p>Traverse a UTF8, MUTF8, or CESU string as a sequence of integer values. For UTF8, these will be UCS32 code points; for CESU or MUTF8, these will be UTF16 values. The sequence is evaluated lazily, and may raise BatUTF8.Malformed_code if it reaches a byte sequence invalid in (M)UTF8.</p></dd></dl><dl><dt class="spec value" id="val-wobbly_to_ucs32"><a href="#val-wobbly_to_ucs32" class="anchor"></a><code><span class="keyword">val</span> wobbly_to_ucs32 : int <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a> <span>&#45;&gt;</span> int <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a></code></dt><dd><p>Convert a UTF-16 sequence to a UCS-32 sequence by combining surrogate pairs. Unpaired surrogates are passed through. Codepoints outside of the UTF-16 range are also passed through as UCS-32 values.</p><p>This does not return BatUChar.t because BatUChar rejects codepoints in the surrogate range.</p></dd></dl><dl><dt class="spec value" id="val-strict_to_ucs32"><a href="#val-strict_to_ucs32" class="anchor"></a><code><span class="keyword">val</span> strict_to_ucs32 : int <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a> <span>&#45;&gt;</span> <a href="../../batteries/BatUChar/index.html#type-t">BatUChar.t</a> <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Stdlib.Seq.t</a></code></dt><dd><p>Convert a UTF-16 sequence to a UCS-32 sequence by combining surrogate pairs. Unpaired surrogates will cause this funtion to raise BatUChar.Out_of_range. Otherwise the same as wobbly_to_ucs32; in particular, integers greater than 0xFFFF are still passed through as UCS-32 values.</p></dd></dl></div></body></html>