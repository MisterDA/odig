<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Nethttpd_kernel (nethttpd.Nethttpd_kernel)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">nethttpd</a> &#x00BB; Nethttpd_kernel</nav><h1>Module <code>Nethttpd_kernel</code></h1></header><dl><dt class="spec type" id="type-fatal_error"><a href="#type-fatal_error" class="anchor"></a><code><span class="keyword">type </span>fatal_error</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-fatal_error.Broken_pipe" class="anchored"><td class="def constructor"><a href="#type-fatal_error.Broken_pipe" class="anchor"></a><code><span class="keyword">| </span></code><code>`Broken_pipe</code></td></tr><tr id="type-fatal_error.Broken_pipe_ignore" class="anchored"><td class="def constructor"><a href="#type-fatal_error.Broken_pipe_ignore" class="anchor"></a><code><span class="keyword">| </span></code><code>`Broken_pipe_ignore</code></td></tr><tr id="type-fatal_error.Message_too_long" class="anchored"><td class="def constructor"><a href="#type-fatal_error.Message_too_long" class="anchor"></a><code><span class="keyword">| </span></code><code>`Message_too_long</code></td></tr><tr id="type-fatal_error.Server_error" class="anchored"><td class="def constructor"><a href="#type-fatal_error.Server_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Server_error</code></td></tr><tr id="type-fatal_error.TLS_error" class="anchored"><td class="def constructor"><a href="#type-fatal_error.TLS_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`TLS_error<span class="keyword"> of </span>string<span class="keyword"> * </span>string</code></td></tr><tr id="type-fatal_error.Timeout" class="anchored"><td class="def constructor"><a href="#type-fatal_error.Timeout" class="anchor"></a><code><span class="keyword">| </span></code><code>`Timeout</code></td></tr><tr id="type-fatal_error.Unix_error" class="anchored"><td class="def constructor"><a href="#type-fatal_error.Unix_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Unix_error<span class="keyword"> of </span>Unix.error</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-string_of_fatal_error"><a href="#val-string_of_fatal_error" class="anchor"></a><code><span class="keyword">val </span>string_of_fatal_error : <a href="index.html#type-fatal_error">fatal_error</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-bad_request_error"><a href="#type-bad_request_error" class="anchor"></a><code><span class="keyword">type </span>bad_request_error</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-bad_request_error.Bad_header" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Bad_header" class="anchor"></a><code><span class="keyword">| </span></code><code>`Bad_header</code></td></tr><tr id="type-bad_request_error.Bad_header_field" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Bad_header_field" class="anchor"></a><code><span class="keyword">| </span></code><code>`Bad_header_field<span class="keyword"> of </span>string</code></td></tr><tr id="type-bad_request_error.Bad_request_line" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Bad_request_line" class="anchor"></a><code><span class="keyword">| </span></code><code>`Bad_request_line</code></td></tr><tr id="type-bad_request_error.Bad_trailer" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Bad_trailer" class="anchor"></a><code><span class="keyword">| </span></code><code>`Bad_trailer</code></td></tr><tr id="type-bad_request_error.Format_error" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Format_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Format_error<span class="keyword"> of </span>string</code></td></tr><tr id="type-bad_request_error.Protocol_not_supported" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Protocol_not_supported" class="anchor"></a><code><span class="keyword">| </span></code><code>`Protocol_not_supported</code></td></tr><tr id="type-bad_request_error.Request_line_too_long" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Request_line_too_long" class="anchor"></a><code><span class="keyword">| </span></code><code>`Request_line_too_long</code></td></tr><tr id="type-bad_request_error.Unexpected_eof" class="anchored"><td class="def constructor"><a href="#type-bad_request_error.Unexpected_eof" class="anchor"></a><code><span class="keyword">| </span></code><code>`Unexpected_eof</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-string_of_bad_request_error"><a href="#val-string_of_bad_request_error" class="anchor"></a><code><span class="keyword">val </span>string_of_bad_request_error : <a href="index.html#type-bad_request_error">bad_request_error</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-status_of_bad_request_error"><a href="#val-status_of_bad_request_error" class="anchor"></a><code><span class="keyword">val </span>status_of_bad_request_error : <a href="index.html#type-bad_request_error">bad_request_error</a> <span>&#45;&gt;</span> Nethttp.http_status</code></dt></dl><dl><dt class="spec type" id="type-data_chunk"><a href="#type-data_chunk" class="anchor"></a><code><span class="keyword">type </span>data_chunk</code><code><span class="keyword"> = </span>Bytes.t<span class="keyword"> * </span>int<span class="keyword"> * </span>int</code></dt><dt class="spec type" id="type-status_line"><a href="#type-status_line" class="anchor"></a><code><span class="keyword">type </span>status_line</code><code><span class="keyword"> = </span>int<span class="keyword"> * </span>string</code></dt><dt class="spec type" id="type-transfer_coding"><a href="#type-transfer_coding" class="anchor"></a><code><span class="keyword">type </span>transfer_coding</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-transfer_coding.Chunked" class="anchored"><td class="def constructor"><a href="#type-transfer_coding.Chunked" class="anchor"></a><code><span class="keyword">| </span></code><code>`Chunked</code></td></tr><tr id="type-transfer_coding.Identity" class="anchored"><td class="def constructor"><a href="#type-transfer_coding.Identity" class="anchor"></a><code><span class="keyword">| </span></code><code>`Identity</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-resp_token"><a href="#type-resp_token" class="anchor"></a><code><span class="keyword">type </span>resp_token</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-resp_token.Resp_action" class="anchored"><td class="def constructor"><a href="#type-resp_token.Resp_action" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_action<span class="keyword"> of </span>unit <span>&#45;&gt;</span> unit</code></td></tr><tr id="type-resp_token.Resp_body" class="anchored"><td class="def constructor"><a href="#type-resp_token.Resp_body" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_body<span class="keyword"> of </span><a href="index.html#type-data_chunk">data_chunk</a></code></td></tr><tr id="type-resp_token.Resp_end" class="anchored"><td class="def constructor"><a href="#type-resp_token.Resp_end" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_end</code></td></tr><tr id="type-resp_token.Resp_header" class="anchored"><td class="def constructor"><a href="#type-resp_token.Resp_header" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_header<span class="keyword"> of </span>Nethttp.http_header</code></td></tr><tr id="type-resp_token.Resp_info_line" class="anchored"><td class="def constructor"><a href="#type-resp_token.Resp_info_line" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_info_line<span class="keyword"> of </span><a href="index.html#type-status_line">status_line</a><span class="keyword"> * </span>Nethttp.http_header</code></td></tr><tr id="type-resp_token.Resp_status_line" class="anchored"><td class="def constructor"><a href="#type-resp_token.Resp_status_line" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_status_line<span class="keyword"> of </span><a href="index.html#type-status_line">status_line</a></code></td></tr><tr id="type-resp_token.Resp_trailer" class="anchored"><td class="def constructor"><a href="#type-resp_token.Resp_trailer" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_trailer<span class="keyword"> of </span>Nethttp.http_trailer</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-resp_100_continue"><a href="#val-resp_100_continue" class="anchor"></a><code><span class="keyword">val </span>resp_100_continue : <a href="index.html#type-resp_token">resp_token</a></code></dt></dl><dl><dt class="spec type" id="type-resp_state"><a href="#type-resp_state" class="anchor"></a><code><span class="keyword">type </span>resp_state</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-resp_state.Active" class="anchored"><td class="def constructor"><a href="#type-resp_state.Active" class="anchor"></a><code><span class="keyword">| </span></code><code>`Active</code></td></tr><tr id="type-resp_state.Dropped" class="anchored"><td class="def constructor"><a href="#type-resp_state.Dropped" class="anchor"></a><code><span class="keyword">| </span></code><code>`Dropped</code></td></tr><tr id="type-resp_state.Error" class="anchored"><td class="def constructor"><a href="#type-resp_state.Error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Error</code></td></tr><tr id="type-resp_state.Inhibited" class="anchored"><td class="def constructor"><a href="#type-resp_state.Inhibited" class="anchor"></a><code><span class="keyword">| </span></code><code>`Inhibited</code></td></tr><tr id="type-resp_state.Processed" class="anchored"><td class="def constructor"><a href="#type-resp_state.Processed" class="anchor"></a><code><span class="keyword">| </span></code><code>`Processed</code></td></tr><tr id="type-resp_state.Queued" class="anchored"><td class="def constructor"><a href="#type-resp_state.Queued" class="anchor"></a><code><span class="keyword">| </span></code><code>`Queued</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-front_token"><a href="#type-front_token" class="anchor"></a><code><span class="keyword">type </span>front_token</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-front_token.Resp_end" class="anchored"><td class="def constructor"><a href="#type-front_token.Resp_end" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_end</code></td></tr><tr id="type-front_token.Resp_wire_data" class="anchored"><td class="def constructor"><a href="#type-front_token.Resp_wire_data" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resp_wire_data<span class="keyword"> of </span><a href="index.html#type-data_chunk">data_chunk</a></code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec exception" id="exception-Send_queue_empty"><a href="#exception-Send_queue_empty" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Send_queue_empty</span></code></dt></dl><dl><dt class="spec type" id="type-announcement"><a href="#type-announcement" class="anchor"></a><code><span class="keyword">type </span>announcement</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-announcement.As" class="anchored"><td class="def constructor"><a href="#type-announcement.As" class="anchor"></a><code><span class="keyword">| </span></code><code>`As<span class="keyword"> of </span>string</code></td></tr><tr id="type-announcement.Ignore" class="anchored"><td class="def constructor"><a href="#type-announcement.Ignore" class="anchor"></a><code><span class="keyword">| </span></code><code>`Ignore</code></td></tr><tr id="type-announcement.Ocamlnet" class="anchored"><td class="def constructor"><a href="#type-announcement.Ocamlnet" class="anchor"></a><code><span class="keyword">| </span></code><code>`Ocamlnet</code></td></tr><tr id="type-announcement.Ocamlnet_and" class="anchored"><td class="def constructor"><a href="#type-announcement.Ocamlnet_and" class="anchor"></a><code><span class="keyword">| </span></code><code>`Ocamlnet_and<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt></dl><div class="spec class-type" id="class-type-http_response"><a href="#class-type-http_response" class="anchor"></a><code><span class="keyword">class type </span><a href="class-type-http_response/index.html">http_response</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div class="spec class" id="class-http_response_impl"><a href="#class-http_response_impl" class="anchor"></a><code><span class="keyword">class </span><a href="class-http_response_impl/index.html">http_response_impl</a> : ?&#8288;close:bool <span>&#45;&gt;</span> ?&#8288;suppress_body:bool <span>&#45;&gt;</span> int64 <span>&#45;&gt;</span> Nethttp.protocol <span>&#45;&gt;</span> <a href="index.html#type-announcement">announcement</a> <span>&#45;&gt;</span> <a href="class-type-http_response/index.html">http_response</a></code></div><dl><dt class="spec value" id="val-send_static_response"><a href="#val-send_static_response" class="anchor"></a><code><span class="keyword">val </span>send_static_response : <a href="class-type-http_response/index.html">http_response</a> <span>&#45;&gt;</span> Nethttp.http_status <span>&#45;&gt;</span> Nethttp.http_header option <span>&#45;&gt;</span> Bytes.t <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-send_file_response"><a href="#val-send_file_response" class="anchor"></a><code><span class="keyword">val </span>send_file_response : <a href="class-type-http_response/index.html">http_response</a> <span>&#45;&gt;</span> Nethttp.http_status <span>&#45;&gt;</span> Nethttp.http_header option <span>&#45;&gt;</span> Unix.file_descr <span>&#45;&gt;</span> int64 <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-request_line"><a href="#type-request_line" class="anchor"></a><code><span class="keyword">type </span>request_line</code><code><span class="keyword"> = </span>Nethttp.http_method<span class="keyword"> * </span>Nethttp.protocol</code></dt><dt class="spec type" id="type-req_token"><a href="#type-req_token" class="anchor"></a><code><span class="keyword">type </span>req_token</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-req_token.Bad_request_error" class="anchored"><td class="def constructor"><a href="#type-req_token.Bad_request_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Bad_request_error<span class="keyword"> of </span><a href="index.html#type-bad_request_error">bad_request_error</a><span class="keyword"> * </span><a href="class-type-http_response/index.html">http_response</a></code></td></tr><tr id="type-req_token.Eof" class="anchored"><td class="def constructor"><a href="#type-req_token.Eof" class="anchor"></a><code><span class="keyword">| </span></code><code>`Eof</code></td></tr><tr id="type-req_token.Fatal_error" class="anchored"><td class="def constructor"><a href="#type-req_token.Fatal_error" class="anchor"></a><code><span class="keyword">| </span></code><code>`Fatal_error<span class="keyword"> of </span><a href="index.html#type-fatal_error">fatal_error</a></code></td></tr><tr id="type-req_token.Req_body" class="anchored"><td class="def constructor"><a href="#type-req_token.Req_body" class="anchor"></a><code><span class="keyword">| </span></code><code>`Req_body<span class="keyword"> of </span><a href="index.html#type-data_chunk">data_chunk</a></code></td></tr><tr id="type-req_token.Req_end" class="anchored"><td class="def constructor"><a href="#type-req_token.Req_end" class="anchor"></a><code><span class="keyword">| </span></code><code>`Req_end</code></td></tr><tr id="type-req_token.Req_expect_100_continue" class="anchored"><td class="def constructor"><a href="#type-req_token.Req_expect_100_continue" class="anchor"></a><code><span class="keyword">| </span></code><code>`Req_expect_100_continue</code></td></tr><tr id="type-req_token.Req_header" class="anchored"><td class="def constructor"><a href="#type-req_token.Req_header" class="anchor"></a><code><span class="keyword">| </span></code><code>`Req_header<span class="keyword"> of </span><a href="index.html#type-request_line">request_line</a><span class="keyword"> * </span>Nethttp.http_header<span class="keyword"> * </span><a href="class-type-http_response/index.html">http_response</a></code></td></tr><tr id="type-req_token.Req_trailer" class="anchored"><td class="def constructor"><a href="#type-req_token.Req_trailer" class="anchor"></a><code><span class="keyword">| </span></code><code>`Req_trailer<span class="keyword"> of </span>Nethttp.http_trailer</code></td></tr><tr id="type-req_token.Timeout" class="anchored"><td class="def constructor"><a href="#type-req_token.Timeout" class="anchor"></a><code><span class="keyword">| </span></code><code>`Timeout</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-string_of_req_token"><a href="#val-string_of_req_token" class="anchor"></a><code><span class="keyword">val </span>string_of_req_token : <a href="index.html#type-req_token">req_token</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec exception" id="exception-Recv_queue_empty"><a href="#exception-Recv_queue_empty" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Recv_queue_empty</span></code></dt></dl><div class="spec class-type" id="class-type-http_protocol_config"><a href="#class-type-http_protocol_config" class="anchor"></a><code><span class="keyword">class type </span><a href="class-type-http_protocol_config/index.html">http_protocol_config</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-default_http_protocol_config"><a href="#val-default_http_protocol_config" class="anchor"></a><code><span class="keyword">val </span>default_http_protocol_config : <a href="class-type-http_protocol_config/index.html">http_protocol_config</a></code></dt></dl><div class="spec class" id="class-modify_http_protocol_config"><a href="#class-modify_http_protocol_config" class="anchor"></a><code><span class="keyword">class </span><a href="class-modify_http_protocol_config/index.html">modify_http_protocol_config</a> : ?&#8288;config_max_reqline_length:int <span>&#45;&gt;</span> ?&#8288;config_max_header_length:int <span>&#45;&gt;</span> ?&#8288;config_max_trailer_length:int <span>&#45;&gt;</span> ?&#8288;config_limit_pipeline_length:int <span>&#45;&gt;</span> ?&#8288;config_limit_pipeline_size:int <span>&#45;&gt;</span> ?&#8288;config_announce_server:<a href="index.html#type-announcement">announcement</a> <span>&#45;&gt;</span> ?&#8288;config_suppress_broken_pipe:bool <span>&#45;&gt;</span> ?&#8288;config_tls:Netsys_crypto_types.tls_config option <span>&#45;&gt;</span> <a href="class-type-http_protocol_config/index.html">http_protocol_config</a> <span>&#45;&gt;</span> <a href="class-type-http_protocol_config/index.html">http_protocol_config</a></code></div><div class="spec class-type" id="class-type-http_protocol_hooks"><a href="#class-type-http_protocol_hooks" class="anchor"></a><code><span class="keyword">class type </span><a href="class-type-http_protocol_hooks/index.html">http_protocol_hooks</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div class="spec class" id="class-http_protocol"><a href="#class-http_protocol" class="anchor"></a><code><span class="keyword">class </span><a href="class-http_protocol/index.html">http_protocol</a> : <a href="class-type-http_protocol_config/index.html">http_protocol_config</a> <span>&#45;&gt;</span> Unix.file_descr <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div class="spec class" id="class-lingering_close"><a href="#class-lingering_close" class="anchor"></a><code><span class="keyword">class </span><a href="class-lingering_close/index.html">lingering_close</a> : ?&#8288;preclose:(unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> Unix.file_descr <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Debug"><a href="#module-Debug" class="anchor"></a><code><span class="keyword">module </span><a href="Debug/index.html">Debug</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></div></body></html>