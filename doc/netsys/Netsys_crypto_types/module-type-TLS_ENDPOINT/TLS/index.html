<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>TLS (netsys.Netsys_crypto_types.TLS_ENDPOINT.TLS)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">netsys</a> &#x00BB; <a href="../../index.html">Netsys_crypto_types</a> &#x00BB; <a href="../index.html">TLS_ENDPOINT</a> &#x00BB; TLS</nav><h1>Module <code>TLS_ENDPOINT.TLS</code></h1></header><dl><dt class="spec type" id="type-config"><a href="#type-config" class="anchor"></a><code><span class="keyword">type </span>config</code></dt><dt class="spec type" id="type-credentials"><a href="#type-credentials" class="anchor"></a><code><span class="keyword">type </span>credentials</code></dt><dt class="spec type" id="type-endpoint"><a href="#type-endpoint" class="anchor"></a><code><span class="keyword">type </span>endpoint</code></dt></dl><div class="spec module" id="module-Exc"><a href="#module-Exc" class="anchor"></a><code><span class="keyword">module </span><a href="Exc/index.html">Exc</a> : <a href="../../index.html#module-type-TLS_EXCEPTIONS">TLS_EXCEPTIONS</a></code></div><dl><dt class="spec value" id="val-error_message"><a href="#val-error_message" class="anchor"></a><code><span class="keyword">val </span>error_message : string <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-dh_params"><a href="#type-dh_params" class="anchor"></a><code><span class="keyword">type </span>dh_params</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-dh_params.Generate" class="anchored"><td class="def constructor"><a href="#type-dh_params.Generate" class="anchor"></a><code><span class="keyword">| </span></code><code>`Generate<span class="keyword"> of </span>int</code></td></tr><tr id="type-dh_params.PKCS3_DER" class="anchored"><td class="def constructor"><a href="#type-dh_params.PKCS3_DER" class="anchor"></a><code><span class="keyword">| </span></code><code>`PKCS3_DER<span class="keyword"> of </span>string</code></td></tr><tr id="type-dh_params.PKCS3_PEM_file" class="anchored"><td class="def constructor"><a href="#type-dh_params.PKCS3_PEM_file" class="anchor"></a><code><span class="keyword">| </span></code><code>`PKCS3_PEM_file<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-create_config"><a href="#val-create_config" class="anchor"></a><code><span class="keyword">val </span>create_config : ?&#8288;algorithms:string <span>&#45;&gt;</span> ?&#8288;dh_params:<a href="index.html#type-dh_params">dh_params</a> <span>&#45;&gt;</span> ?&#8288;verify:(<a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> peer_auth:[ `None<span class="keyword"> | </span>`Optional<span class="keyword"> | </span>`Required ] <span>&#45;&gt;</span> credentials:<a href="index.html#type-credentials">credentials</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-config">config</a></code></dt></dl><dl><dt class="spec type" id="type-crt_list"><a href="#type-crt_list" class="anchor"></a><code><span class="keyword">type </span>crt_list</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-crt_list.DER" class="anchored"><td class="def constructor"><a href="#type-crt_list.DER" class="anchor"></a><code><span class="keyword">| </span></code><code>`DER<span class="keyword"> of </span>string list</code></td></tr><tr id="type-crt_list.PEM_file" class="anchored"><td class="def constructor"><a href="#type-crt_list.PEM_file" class="anchor"></a><code><span class="keyword">| </span></code><code>`PEM_file<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-crl_list"><a href="#type-crl_list" class="anchor"></a><code><span class="keyword">type </span>crl_list</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-crl_list.DER" class="anchored"><td class="def constructor"><a href="#type-crl_list.DER" class="anchor"></a><code><span class="keyword">| </span></code><code>`DER<span class="keyword"> of </span>string list</code></td></tr><tr id="type-crl_list.PEM_file" class="anchored"><td class="def constructor"><a href="#type-crl_list.PEM_file" class="anchor"></a><code><span class="keyword">| </span></code><code>`PEM_file<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-private_key"><a href="#type-private_key" class="anchor"></a><code><span class="keyword">type </span>private_key</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-private_key.DSA" class="anchored"><td class="def constructor"><a href="#type-private_key.DSA" class="anchor"></a><code><span class="keyword">| </span></code><code>`DSA<span class="keyword"> of </span>string</code></td></tr><tr id="type-private_key.EC" class="anchored"><td class="def constructor"><a href="#type-private_key.EC" class="anchor"></a><code><span class="keyword">| </span></code><code>`EC<span class="keyword"> of </span>string</code></td></tr><tr id="type-private_key.PEM_file" class="anchored"><td class="def constructor"><a href="#type-private_key.PEM_file" class="anchor"></a><code><span class="keyword">| </span></code><code>`PEM_file<span class="keyword"> of </span>string</code></td></tr><tr id="type-private_key.PKCS8" class="anchored"><td class="def constructor"><a href="#type-private_key.PKCS8" class="anchor"></a><code><span class="keyword">| </span></code><code>`PKCS8<span class="keyword"> of </span>string</code></td></tr><tr id="type-private_key.PKCS8_encrypted" class="anchored"><td class="def constructor"><a href="#type-private_key.PKCS8_encrypted" class="anchor"></a><code><span class="keyword">| </span></code><code>`PKCS8_encrypted<span class="keyword"> of </span>string</code></td></tr><tr id="type-private_key.RSA" class="anchored"><td class="def constructor"><a href="#type-private_key.RSA" class="anchor"></a><code><span class="keyword">| </span></code><code>`RSA<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-create_x509_credentials"><a href="#val-create_x509_credentials" class="anchor"></a><code><span class="keyword">val </span>create_x509_credentials : ?&#8288;system_trust:bool <span>&#45;&gt;</span> ?&#8288;trust:<a href="index.html#type-crt_list">crt_list</a> list <span>&#45;&gt;</span> ?&#8288;revoke:<a href="index.html#type-crl_list">crl_list</a> list <span>&#45;&gt;</span> ?&#8288;keys:(<a href="index.html#type-crt_list">crt_list</a><span class="keyword"> * </span><a href="index.html#type-private_key">private_key</a><span class="keyword"> * </span>string option) list <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-credentials">credentials</a></code></dt><dt class="spec value" id="val-create_endpoint"><a href="#val-create_endpoint" class="anchor"></a><code><span class="keyword">val </span>create_endpoint : role:[ `Client<span class="keyword"> | </span>`Server ] <span>&#45;&gt;</span> recv:(Netsys_types.memory <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> send:(Netsys_types.memory <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> peer_name:string option <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> <a href="index.html#type-endpoint">endpoint</a></code></dt><dt class="spec value" id="val-stash_endpoint"><a href="#val-stash_endpoint" class="anchor"></a><code><span class="keyword">val </span>stash_endpoint : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> exn</code></dt><dt class="spec value" id="val-restore_endpoint"><a href="#val-restore_endpoint" class="anchor"></a><code><span class="keyword">val </span>restore_endpoint : recv:(Netsys_types.memory <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> send:(Netsys_types.memory <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> exn <span>&#45;&gt;</span> <a href="index.html#type-endpoint">endpoint</a></code></dt><dt class="spec value" id="val-resume_client"><a href="#val-resume_client" class="anchor"></a><code><span class="keyword">val </span>resume_client : recv:(Netsys_types.memory <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> send:(Netsys_types.memory <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> peer_name:string option <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-endpoint">endpoint</a></code></dt></dl><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type </span>state</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-state.Accepting" class="anchored"><td class="def constructor"><a href="#type-state.Accepting" class="anchor"></a><code><span class="keyword">| </span></code><code>`Accepting</code></td></tr><tr id="type-state.Data_r" class="anchored"><td class="def constructor"><a href="#type-state.Data_r" class="anchor"></a><code><span class="keyword">| </span></code><code>`Data_r</code></td></tr><tr id="type-state.Data_rs" class="anchored"><td class="def constructor"><a href="#type-state.Data_rs" class="anchor"></a><code><span class="keyword">| </span></code><code>`Data_rs</code></td></tr><tr id="type-state.Data_rw" class="anchored"><td class="def constructor"><a href="#type-state.Data_rw" class="anchor"></a><code><span class="keyword">| </span></code><code>`Data_rw</code></td></tr><tr id="type-state.Data_w" class="anchored"><td class="def constructor"><a href="#type-state.Data_w" class="anchor"></a><code><span class="keyword">| </span></code><code>`Data_w</code></td></tr><tr id="type-state.End" class="anchored"><td class="def constructor"><a href="#type-state.End" class="anchor"></a><code><span class="keyword">| </span></code><code>`End</code></td></tr><tr id="type-state.Handshake" class="anchored"><td class="def constructor"><a href="#type-state.Handshake" class="anchor"></a><code><span class="keyword">| </span></code><code>`Handshake</code></td></tr><tr id="type-state.Refusing" class="anchored"><td class="def constructor"><a href="#type-state.Refusing" class="anchor"></a><code><span class="keyword">| </span></code><code>`Refusing</code></td></tr><tr id="type-state.Start" class="anchored"><td class="def constructor"><a href="#type-state.Start" class="anchor"></a><code><span class="keyword">| </span></code><code>`Start</code></td></tr><tr id="type-state.Switching" class="anchored"><td class="def constructor"><a href="#type-state.Switching" class="anchor"></a><code><span class="keyword">| </span></code><code>`Switching</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-get_state"><a href="#val-get_state" class="anchor"></a><code><span class="keyword">val </span>get_state : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt></dl><dl><dt class="spec type" id="type-raw_credentials"><a href="#type-raw_credentials" class="anchor"></a><code><span class="keyword">type </span>raw_credentials</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-raw_credentials.Anonymous" class="anchored"><td class="def constructor"><a href="#type-raw_credentials.Anonymous" class="anchor"></a><code><span class="keyword">| </span></code><code>`Anonymous</code></td></tr><tr id="type-raw_credentials.X509" class="anchored"><td class="def constructor"><a href="#type-raw_credentials.X509" class="anchor"></a><code><span class="keyword">| </span></code><code>`X509<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-at_transport_eof"><a href="#val-at_transport_eof" class="anchor"></a><code><span class="keyword">val </span>at_transport_eof : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-hello"><a href="#val-hello" class="anchor"></a><code><span class="keyword">val </span>hello : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-bye"><a href="#val-bye" class="anchor"></a><code><span class="keyword">val </span>bye : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> Unix.shutdown_command <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-verify"><a href="#val-verify" class="anchor"></a><code><span class="keyword">val </span>verify : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get_config"><a href="#val-get_config" class="anchor"></a><code><span class="keyword">val </span>get_config : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-config">config</a></code></dt><dt class="spec value" id="val-get_endpoint_creds"><a href="#val-get_endpoint_creds" class="anchor"></a><code><span class="keyword">val </span>get_endpoint_creds : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-raw_credentials">raw_credentials</a></code></dt><dt class="spec value" id="val-get_peer_creds"><a href="#val-get_peer_creds" class="anchor"></a><code><span class="keyword">val </span>get_peer_creds : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-raw_credentials">raw_credentials</a></code></dt><dt class="spec value" id="val-get_peer_creds_list"><a href="#val-get_peer_creds_list" class="anchor"></a><code><span class="keyword">val </span>get_peer_creds_list : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-raw_credentials">raw_credentials</a> list</code></dt><dt class="spec value" id="val-switch"><a href="#val-switch" class="anchor"></a><code><span class="keyword">val </span>switch : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-accept_switch"><a href="#val-accept_switch" class="anchor"></a><code><span class="keyword">val </span>accept_switch : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-refuse_switch"><a href="#val-refuse_switch" class="anchor"></a><code><span class="keyword">val </span>refuse_switch : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-send"><a href="#val-send" class="anchor"></a><code><span class="keyword">val </span>send : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> Netsys_types.memory <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-recv"><a href="#val-recv" class="anchor"></a><code><span class="keyword">val </span>recv : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> Netsys_types.memory <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-recv_will_not_block"><a href="#val-recv_will_not_block" class="anchor"></a><code><span class="keyword">val </span>recv_will_not_block : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-get_session_id"><a href="#val-get_session_id" class="anchor"></a><code><span class="keyword">val </span>get_session_id : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_session_data"><a href="#val-get_session_data" class="anchor"></a><code><span class="keyword">val </span>get_session_data : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_cipher_suite_type"><a href="#val-get_cipher_suite_type" class="anchor"></a><code><span class="keyword">val </span>get_cipher_suite_type : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_cipher_algo"><a href="#val-get_cipher_algo" class="anchor"></a><code><span class="keyword">val </span>get_cipher_algo : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_kx_algo"><a href="#val-get_kx_algo" class="anchor"></a><code><span class="keyword">val </span>get_kx_algo : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_mac_algo"><a href="#val-get_mac_algo" class="anchor"></a><code><span class="keyword">val </span>get_mac_algo : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_compression_algo"><a href="#val-get_compression_algo" class="anchor"></a><code><span class="keyword">val </span>get_compression_algo : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_cert_type"><a href="#val-get_cert_type" class="anchor"></a><code><span class="keyword">val </span>get_cert_type : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-get_protocol"><a href="#val-get_protocol" class="anchor"></a><code><span class="keyword">val </span>get_protocol : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-server_name"><a href="#type-server_name" class="anchor"></a><code><span class="keyword">type </span>server_name</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-server_name.Domain" class="anchored"><td class="def constructor"><a href="#type-server_name.Domain" class="anchor"></a><code><span class="keyword">| </span></code><code>`Domain<span class="keyword"> of </span>string</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-get_addressed_servers"><a href="#val-get_addressed_servers" class="anchor"></a><code><span class="keyword">val </span>get_addressed_servers : <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> <a href="index.html#type-server_name">server_name</a> list</code></dt><dt class="spec value" id="val-set_session_cache"><a href="#val-set_session_cache" class="anchor"></a><code><span class="keyword">val </span>set_session_cache : store:(string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> remove:(string <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> retrieve:(string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> <a href="index.html#type-endpoint">endpoint</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-implementation_name"><a href="#val-implementation_name" class="anchor"></a><code><span class="keyword">val </span>implementation_name : string</code></dt><dt class="spec value" id="val-implementation"><a href="#val-implementation" class="anchor"></a><code><span class="keyword">val </span>implementation : unit <span>&#45;&gt;</span> exn</code></dt></dl></div></body></html>