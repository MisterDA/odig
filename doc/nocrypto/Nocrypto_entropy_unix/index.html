<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Nocrypto_entropy_unix (nocrypto.Nocrypto_entropy_unix)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">nocrypto</a> &#x00BB; Nocrypto_entropy_unix</nav><h1>Module <code>Nocrypto_entropy_unix</code></h1><p><b>RNG</b> seeding on <b>Unix</b>.</p><p>This module provides one-shot RNG seeding from the Unix kernel RNG, typically </p><pre><code class="ml">/dev/urandom</code></pre><p>.</p><p>Calling <a href="index.html#val-initialize"><span>initialize</span></a> is enough to bring the RNG into a working state.</p><p><code>initialize</code> is idempotent as long as the default generator is unchanged. It is harmless to call it several times.</p><p>If you are using <b>lwt</b>, conside using <code>Nocrypto_entropy_lwt</code> as this module allows for continuous reseeding.</p><p>Unless you want to recover from an unlikely case of missing system RNG, the recommended way to prime the RNG is to invoke <code>initialize</code> at the module level:</p><pre><code class="ml">let () = Nocrypto_entropy_unix.initialize () </code></pre><nav class="toc"><ul><li><a href="#default-generator-initialization">Default generator initialization</a></li><li><a href="#manual-seeding">Manual seeding</a></li></ul></nav></header><section><header><h2 id="default-generator-initialization"><a href="#default-generator-initialization" class="anchor"></a>Default generator initialization</h2></header><dl><dt class="spec value" id="val-initialize"><a href="#val-initialize" class="anchor"></a><code><span class="keyword">val </span>initialize : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Seeds the current defalt generator from the system RNG device if it is currently unseeded.</p><p>This is the closest thing to <span class="xref-unresolved" title="unresolved reference to &quot;Random.self_init&quot;"><code>Random</code>.self_init</span> and is a good way to prime the RNG.</p></dd></dl></section><section><header><h2 id="manual-seeding"><a href="#manual-seeding" class="anchor"></a>Manual seeding</h2></header><dl><dt class="spec value" id="val-sys_rng"><a href="#val-sys_rng" class="anchor"></a><code><span class="keyword">val </span>sys_rng : string</code></dt><dd><p>Detected system RNG device.</p></dd></dl><dl><dt class="spec value" id="val-reseed"><a href="#val-reseed" class="anchor"></a><code><span class="keyword">val </span>reseed : ?&#8288;bytes:int <span>&#45;&gt;</span> ?&#8288;device:string <span>&#45;&gt;</span> Nocrypto.Rng.g <span>&#45;&gt;</span> unit</code></dt><dd><p><code>reseed ~bytes ~g</code> mixes in <code>bytes</code> bytes from the system RNG into the generator <code>g</code>.</p><p><code>bytes</code> default to a small value reasonable for periodic reseeding.</p><p><code>device</code> defaults to <a href="index.html#val-sys_rng"><span>sys_rng</span></a>.</p></dd></dl></section></div></body></html>