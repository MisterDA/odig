<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Term (notty.Notty_lwt.Term)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">notty</a> &#x00BB; <a href="../index.html">Notty_lwt</a> &#x00BB; Term</nav><h1>Module <code>Notty_lwt.Term</code></h1><p>Terminal IO with concurrency.</p><p>For more info, see <span class="xref-unresolved" title="unresolved reference to &quot;Notty_unix.Term&quot;"><code>Notty_unix</code>.Term</span>.</p><nav class="toc"><ul><li><a href="#construction-and-destruction">Construction and destruction</a></li><li><a href="#commands">Commands</a></li><li><a href="#events">Events</a></li><li><a href="#properties">Properties</a></li><li><a href="#window-size-change-notifications">Window size change notifications</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code></dt></dl><section><header><h2 id="construction-and-destruction"><a href="#construction-and-destruction" class="anchor"></a>Construction and destruction</h2></header><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val </span>create : ?&#8288;dispose:bool <span>&#45;&gt;</span> ?&#8288;nosig:bool <span>&#45;&gt;</span> ?&#8288;mouse:bool <span>&#45;&gt;</span> ?&#8288;bpaste:bool <span>&#45;&gt;</span> ?&#8288;input:Lwt_unix.file_descr <span>&#45;&gt;</span> ?&#8288;output:Lwt_unix.file_descr <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create ~dispose ~nosig ~mouse ~input ~output ()</code> creates a new <a href="index.html#type-t"><span>terminal</span></a>.</p><p><b>Note</b> <code>~dispose</code> arranges for the terminal to be disposed of at the end of the <code>Lwt</code> main loop, and not at process exit.</p><p>See <span class="xref-unresolved" title="unresolved reference to &quot;Notty_unix.Term.create&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Notty_unix.Term&quot;"><code>Notty_unix</code>.Term</span>.create</span>.</p></dd></dl><dl><dt class="spec value" id="val-release"><a href="#val-release" class="anchor"></a><code><span class="keyword">val </span>release : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit Lwt.t</code></dt></dl></section><section><header><h2 id="commands"><a href="#commands" class="anchor"></a>Commands</h2></header><dl><dt class="spec value" id="val-image"><a href="#val-image" class="anchor"></a><code><span class="keyword">val </span>image : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Notty.image <span>&#45;&gt;</span> unit Lwt.t</code></dt><dt class="spec value" id="val-refresh"><a href="#val-refresh" class="anchor"></a><code><span class="keyword">val </span>refresh : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit Lwt.t</code></dt><dt class="spec value" id="val-cursor"><a href="#val-cursor" class="anchor"></a><code><span class="keyword">val </span>cursor : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span>int) option <span>&#45;&gt;</span> unit Lwt.t</code></dt></dl></section><section><header><h2 id="events"><a href="#events" class="anchor"></a>Events</h2></header><dl><dt class="spec value" id="val-events"><a href="#val-events" class="anchor"></a><code><span class="keyword">val </span>events : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ Notty.Unescape.event<span class="keyword"> | </span>`Resize of int<span class="keyword"> * </span>int ] Lwt_stream.t</code></dt><dd><p><code>events t</code> is the stream of incoming events.</p><p>Invoking <a href="index.html#val-release"><span>release</span></a> will terminate this stream.</p><p>Events are:</p><ul><li><code>#Unescape.event</code>, an <span class="xref-unresolved" title="unresolved reference to &quot;Notty.Unescape.event&quot;"><span>event</span></span> from the input fd; or</li><li><code>`Resize (int * int)</code> whenever the terminal size changes.</li></ul><p><b>Note</b> This stream is unique; for the same <code>t</code>, <code>events t</code> always returns the same stream.</p></dd></dl></section><section><header><h2 id="properties"><a href="#properties" class="anchor"></a>Properties</h2></header><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val </span>size : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int<span class="keyword"> * </span>int</code></dt><dt class="spec value" id="val-fds"><a href="#val-fds" class="anchor"></a><code><span class="keyword">val </span>fds : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Lwt_unix.file_descr<span class="keyword"> * </span>Lwt_unix.file_descr</code></dt></dl></section><section><header><h2 id="window-size-change-notifications"><a href="#window-size-change-notifications" class="anchor"></a>Window size change notifications</h2><p><a href="index.html#val-create"><span>Creating</span></a> a terminal will install a <code>SIGWINCH</code> handler. The handler should not be replaced directly. This API allows the user to monitor deliveries of the signal.</p><p>See <span class="xref-unresolved" title="unresolved reference to &quot;Notty_unix.Term.Winch&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Notty_unix.Term&quot;"><code>Notty_unix</code>.Term</span>.Winch</span>.</p></header><dl><dt class="spec value" id="val-winch"><a href="#val-winch" class="anchor"></a><code><span class="keyword">val </span>winch : unit <span>&#45;&gt;</span> unit Lwt.t</code></dt><dd><p><code>winch ()</code> is a thread completing after the next <code>SIGWINCH</code>. A single signal delivery will cause the completion of all waiting <code>winch</code> threads.</p></dd></dl></section></div></body></html>