<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Notty_unix (notty.Notty_unix)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">notty</a> &#x00BB; Notty_unix</nav><h1>Module <code>Notty_unix</code></h1><p><code>Notty</code> IO for pure <code>Unix</code>.</p><p>This is an IO module for <a href="../Notty/index.html"><code>Notty</code></a>.</p><p><em>v0.2.2 — <a href="https://github.com/pqwy/notty">homepage</a></em></p><nav class="toc"><ul><li><a href="#fullscreen">Fullscreen input and output</a></li><li><a href="#inline">Inline output</a></li><li><a href="#caps">Capability detection</a></li></ul></nav></header><section><header><h2 id="fullscreen"><a href="#fullscreen" class="anchor"></a>Fullscreen input and output</h2><p>.</p></header><dl><dt class="spec module" id="module-Term"><a href="#module-Term" class="anchor"></a><code><span class="keyword">module</span> <a href="Term/index.html">Term</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Terminal IO abstraction for fullscreen, interactive applications.</p></dd></dl></section><section><header><h2 id="inline"><a href="#inline" class="anchor"></a>Inline output</h2><p>These operations do not assume exclusive access to the output. This means that they can be combined with other means of producing output. At the same time, it means that they are affected by the current terminal state, and that this state is not tracked.</p></header><dl><dt class="spec value" id="val-winsize"><a href="#val-winsize" class="anchor"></a><code><span class="keyword">val</span> winsize : <a href="../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> (int * int) option</code></dt><dd><p><code>winsize fd</code> is <code>Some (columns, rows)</code>, the current dimensions of <code>fd</code>'s backing tty, or <code>None</code>, when <code>fd</code> is not backed by a tty.</p></dd></dl><dl><dt class="spec value" id="val-eol"><a href="#val-eol" class="anchor"></a><code><span class="keyword">val</span> eol : <a href="../Notty/index.html#type-image">Notty.image</a> <span>&#45;&gt;</span> <a href="../Notty/index.html#type-image">Notty.image</a></code></dt><dd><p><code>eol image</code> is <code>image</code>, producing an extra newline when printed.</p></dd></dl><dl><dt class="spec value" id="val-output_image"><a href="#val-output_image" class="anchor"></a><code><span class="keyword">val</span> output_image : ?&#8288;cap:<a href="../Notty/Cap/index.html#type-t">Notty.Cap.t</a> <span>&#45;&gt;</span> ?&#8288;fd:<a href="../../ocaml/Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> <a href="../Notty/index.html#type-image">Notty.image</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>output_image ?cap ?fd image</code> writes <code>image</code> to <code>fd</code>.</p><p>The image is displayed in its full height. If the output is a tty, image width is clipped to the output width. Otherwise, full width is used.</p><p><code>~cap</code> is the <a href="index.html#caps"><span>optional</span></a> terminal capability set.</p><p><code>~fd</code> defaults to <code>stdout</code>.</p></dd></dl><dl><dt class="spec value" id="val-output_image_size"><a href="#val-output_image_size" class="anchor"></a><code><span class="keyword">val</span> output_image_size : ?&#8288;cap:<a href="../Notty/Cap/index.html#type-t">Notty.Cap.t</a> <span>&#45;&gt;</span> ?&#8288;fd:<a href="../../ocaml/Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> ((int * int) <span>&#45;&gt;</span> <a href="../Notty/index.html#type-image">Notty.image</a>) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>output_image_size ?cap ?fd f</code> is <code>output_image ?cap ?fd (f size)</code> where <code>size</code> are <code>fd</code>'s current <a href="index.html#val-winsize"><span>output dimensions</span></a>.</p><p>If <code>fd</code> is not backed by a tty, as a matter of convenience, <code>f</code> is applied to <code>(80, 24)</code>. Use <a href="../../ocaml/Unix/index.html#val-isatty"><code>Unix.isatty</code></a> or <a href="index.html#val-winsize"><span><code>winsize</code></span></a> to detect whether the output has a well-defined size.</p></dd></dl><dl><dt class="spec value" id="val-show_cursor"><a href="#val-show_cursor" class="anchor"></a><code><span class="keyword">val</span> show_cursor : ?&#8288;cap:<a href="../Notty/Cap/index.html#type-t">Notty.Cap.t</a> <span>&#45;&gt;</span> ?&#8288;fd:<a href="../../ocaml/Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dd><p><code>show_cursor ?cap ?fd visible</code> toggles the cursor visibility on <code>fd</code>.</p></dd></dl><dl><dt class="spec value" id="val-move_cursor"><a href="#val-move_cursor" class="anchor"></a><code><span class="keyword">val</span> move_cursor : ?&#8288;cap:<a href="../Notty/Cap/index.html#type-t">Notty.Cap.t</a> <span>&#45;&gt;</span> ?&#8288;fd:<a href="../../ocaml/Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> [ `Home | `By of int * int | `To of int * int ] <span>&#45;&gt;</span> unit</code></dt><dd><p><code>move_cursor ?cap ?fd motion</code> moves the cursor on <code>fd</code>.</p><p><code>motion</code> is one of:</p><ul><li><code>`To (column, line)</code>, positioning the cursor to <code>(column, line)</code>. Origin is <code>(0, 0)</code>, the upper-left corner of the screen.</li><li><code>`Home</code>, moving the cursor the beginning of line.</li><li><p><code>`By (columns, lines)</code>, moving the cursor <code>columns</code> to the right (left if negative) and <code>lines</code> down (up if negative).</p><p><b>Note</b> Behavior is terminal dependent if the movement overshoots the output size.</p></li></ul></dd></dl></section><section><header><h2 id="caps"><a href="#caps" class="anchor"></a>Capability detection</h2><p>All <code>image</code> output requires <a href="../Notty/Cap/index.html#type-t"><span>terminal capabilities</span></a>.</p><p>When not provided, capabilities are auto-detected, by checking that the output is a tty, that the environment variable <code>$TERM</code> is set, and that it is not set to either <code>&quot;&quot;</code> or <code>&quot;dumb&quot;</code>. If these conditions hold, <a href="../Notty/Cap/index.html#val-ansi"><span>ANSI</span></a> escapes are used. Otherwise, <a href="../Notty/Cap/index.html#val-dumb"><span>no</span></a> escapes are used.</p></header></section></div></body></html>