<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OUnitDiff (oUnit.OUnitDiff)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">oUnit</a> &#x00BB; OUnitDiff</nav><h1>Module <code>OUnitDiff</code></h1><p>Unit tests for collection of elements</p><p>This module allows to define a more precise way to display differences between collection of elements. When collection differ, the tester is interested by what are the missing/extra elements. This module provides a <code>diff</code> operation to spot the difference quickly between two sets of elements.</p><p>Example:</p><pre><code class="ml">open OUnit;;

module EInt =
struct
  type t = int
  let compare = ( - )
  let pp_printer = Format.pp_print_int
  let pp_print_sep = OUnitDiff.pp_comma_separator
end

module ListInt = OUnitDiff.ListSimpleMake(EInt);;

let test_diff () =
  ListInt.assert_equal
    [1; 2; 3; 4; 5]
    [1; 2; 5; 4]
;;

let _ =
  run_test_tt_main (&quot;test_diff&quot; &gt;:: test_diff)
;;</code></pre><p>when run this test outputs:</p><pre><code class="ml">OUnit: expected: 1, 2, 3, 4, 5 but got: 1, 2, 5, 4
differences: element number 2 differ (3 &lt;&gt; 5)</code></pre><dl><dt>since</dt><dd>1.1.0</dd></dl><dl><dt>author</dt><dd>Sylvain Le Gall</dd></dl><nav class="toc"><ul><li><a href="#signatures">Signatures</a></li><li><a href="#implementations">Implementations</a></li></ul></nav></header><section><header><h3 id="signatures"><a href="#signatures" class="anchor"></a>Signatures</h3></header><dl><dt class="spec module-type" id="module-type-DIFF_ELEMENT"><a href="#module-type-DIFF_ELEMENT" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-DIFF_ELEMENT/index.html">DIFF_ELEMENT</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Definition of an element</p></dd></dl><dl><dt class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Definition of standard operations</p></dd></dl></section><section><header><h3 id="implementations"><a href="#implementations" class="anchor"></a>Implementations</h3></header><dl><dt class="spec module" id="module-SetMake"><a href="#module-SetMake" class="anchor"></a><code><span class="keyword">module</span> <a href="SetMake/index.html">SetMake</a> : <span class="keyword">functor</span> (<a href="SetMake/argument-1-D/index.html">D</a> : <a href="index.html#module-type-DIFF_ELEMENT">DIFF_ELEMENT</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="SetMake/index.html#type-e">e</a> = <a href="SetMake/argument-1-D/index.html#type-t">D.t</a></code></dt><dd><p>Collection of elements based on a Set, elements order doesn't matter</p></dd></dl><dl><dt class="spec module" id="module-ListSimpleMake"><a href="#module-ListSimpleMake" class="anchor"></a><code><span class="keyword">module</span> <a href="ListSimpleMake/index.html">ListSimpleMake</a> : <span class="keyword">functor</span> (<a href="ListSimpleMake/argument-1-D/index.html">D</a> : <a href="index.html#module-type-DIFF_ELEMENT">DIFF_ELEMENT</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="ListSimpleMake/index.html#type-e">e</a> = <a href="ListSimpleMake/argument-1-D/index.html#type-t">D.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="ListSimpleMake/index.html#type-t">t</a> = <a href="ListSimpleMake/argument-1-D/index.html#type-t">D.t</a> list</code></dt><dd><p>Collection of elements based on a List, order matters but difference display is very simple. It stops at the first element which differs.</p></dd></dl><dl><dt class="spec value" id="val-pp_comma_separator"><a href="#val-pp_comma_separator" class="anchor"></a><code><span class="keyword">val</span> pp_comma_separator : <a href="../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt></dl></section></div></body></html>