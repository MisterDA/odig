<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Format (ocaml.Format)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ocaml</a> &#x00BB; Format</nav><h1>Module <code>Format</code></h1><p>Pretty printing.</p><p>This module implements a pretty-printing facility to format values within 'pretty-printing boxes'. The pretty-printer splits lines at specified break hints, and indents lines according to the box structure.</p><p>For a gentle introduction to the basics of pretty-printing using <code>Format</code>, read <a href="http://caml.inria.fr/resources/doc/guides/format.en.html">http://caml.inria.fr/resources/doc/guides/format.en.html</a>.</p><p>You may consider this module as providing an extension to the <code>printf</code> facility to provide automatic line splitting. The addition of pretty-printing annotations to your regular <code>printf</code> formats gives you fancy indentation and line breaks. Pretty-printing annotations are described below in the documentation of the function <a href="index.html#val-fprintf"><code>Format.fprintf</code></a>.</p><p>You may also use the explicit box management and printing functions provided by this module. This style is more basic but more verbose than the <code>fprintf</code> concise formats.</p><p>For instance, the sequence <code>open_box 0; print_string &quot;x =&quot;; print_space ();
    print_int 1; close_box (); print_newline ()</code> that prints <code>x = 1</code> within a pretty-printing box, can be abbreviated as <code>printf &quot;@[%s@ %i@]@.&quot; &quot;x =&quot; 1</code>, or even shorter <code>printf &quot;@[x =@ %i@]@.&quot; 1</code>.</p><p>Rule of thumb for casual users of this library:</p><ul><li>use simple boxes (as obtained by <code>open_box 0</code>);</li><li>use simple break hints (as obtained by <code>print_cut ()</code> that outputs a simple break hint, or by <code>print_space ()</code> that outputs a space indicating a break hint);</li><li>once a box is opened, display its material with basic printing functions (e. g. <code>print_int</code> and <code>print_string</code>);</li><li>when the material for a box has been printed, call <code>close_box ()</code> to close the box;</li><li>at the end of your routine, flush the pretty-printer to display all the remaining material, e.g. evaluate <code>print_newline ()</code>.</li></ul><p>The behaviour of pretty-printing commands is unspecified if there is no opened pretty-printing box. Each box opened via one of the <code>open_</code> functions below must be closed using <code>close_box</code> for proper formatting. Otherwise, some of the material printed in the boxes may not be output, or may be formatted incorrectly.</p><p>In case of interactive use, the system closes all opened boxes and flushes all pending text (as with the <code>print_newline</code> function) after each phrase. Each phrase is therefore executed in the initial state of the pretty-printer.</p><p>Warning: the material output by the following functions is delayed in the pretty-printer queue in order to compute the proper line splitting. Hence, you should not mix calls to the printing functions of the basic I/O system with calls to the functions of this module: this could result in some strange output seemingly unrelated with the evaluation order of printing commands.</p><nav class="toc"><ul><li><a href="#boxes">Boxes</a></li><li><a href="#formatting-functions">Formatting functions</a></li><li><a href="#break-hints">Break hints</a></li><li><a href="#margin">Margin</a></li><li><a href="#maximum-indentation-limit">Maximum indentation limit</a></li><li><a href="#formatting-depth:-maximum-number-of-boxes-allowed-before-ellipsis">Formatting depth: maximum number of boxes allowed before ellipsis</a></li><li><a href="#advanced-formatting">Advanced formatting</a></li><li><a href="#ellipsis">Ellipsis</a></li><li><a href="#tags">Semantics Tags</a></li><li><a href="#redirecting-the-standard-formatter-output">Redirecting the standard formatter output</a></li><li><a href="#meaning">Changing the meaning of standard formatter pretty printing</a></li><li><a href="#tagsmeaning">Changing the meaning of printing semantics tags</a></li><li><a href="#multiple-formatted-output">Multiple formatted output</a></li><li><a href="#basic-functions-to-use-with-formatters">Basic functions to use with formatters</a></li><li><a href="#convenience-formatting-functions.">Convenience formatting functions.</a></li><li><a href="#printf-like-functions-for-pretty-printing."><code>printf</code> like functions for pretty-printing.</a></li><li><a href="#deprecated">Deprecated</a></li></ul></nav></header><section><header><h6 id="boxes"><a href="#boxes" class="anchor"></a>Boxes</h6></header><dl><dt class="spec value" id="val-open_box"><a href="#val-open_box" class="anchor"></a><code><span class="keyword">val </span>open_box : int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>open_box d</code> opens a new pretty-printing box with offset <code>d</code>.</p><p>This box prints material as much as possible on every line.</p><p>A break hint splits the line if there is no more room on the line to print the remainder of the box. A break hint also splits the line if the splitting ``moves to the left'' (i.e. it gives an indentation smaller than the one of the current line).</p><p>This box is the general purpose pretty-printing box.</p><p>If the pretty-printer splits the line in the box, offset <code>d</code> is added to the current indentation.</p></dd></dl><dl><dt class="spec value" id="val-close_box"><a href="#val-close_box" class="anchor"></a><code><span class="keyword">val </span>close_box : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Closes the most recently opened pretty-printing box.</p></dd></dl></section><section><header><h6 id="formatting-functions"><a href="#formatting-functions" class="anchor"></a>Formatting functions</h6></header><dl><dt class="spec value" id="val-print_string"><a href="#val-print_string" class="anchor"></a><code><span class="keyword">val </span>print_string : string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>print_string str</code> prints <code>str</code> in the current box.</p></dd></dl><dl><dt class="spec value" id="val-print_as"><a href="#val-print_as" class="anchor"></a><code><span class="keyword">val </span>print_as : int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>print_as len str</code> prints <code>str</code> in the current box. The pretty-printer formats <code>str</code> as if it were of length <code>len</code>.</p></dd></dl><dl><dt class="spec value" id="val-print_int"><a href="#val-print_int" class="anchor"></a><code><span class="keyword">val </span>print_int : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Prints an integer in the current box.</p></dd></dl><dl><dt class="spec value" id="val-print_float"><a href="#val-print_float" class="anchor"></a><code><span class="keyword">val </span>print_float : float <span>&#45;&gt;</span> unit</code></dt><dd><p>Prints a floating point number in the current box.</p></dd></dl><dl><dt class="spec value" id="val-print_char"><a href="#val-print_char" class="anchor"></a><code><span class="keyword">val </span>print_char : char <span>&#45;&gt;</span> unit</code></dt><dd><p>Prints a character in the current box.</p></dd></dl><dl><dt class="spec value" id="val-print_bool"><a href="#val-print_bool" class="anchor"></a><code><span class="keyword">val </span>print_bool : bool <span>&#45;&gt;</span> unit</code></dt><dd><p>Prints a boolean in the current box.</p></dd></dl></section><section><header><h6 id="break-hints"><a href="#break-hints" class="anchor"></a>Break hints</h6></header><aside><p>A 'break hint' tells the pretty-printer to output some space or split the line whichever way is more appropriate to the current box splitting rules.</p><p>Break hints are used to separate printing items and are mandatory to let the pretty-printer correctly split lines and indent items.</p><p>Simple break hints are:</p><ul><li>the 'space': output a space or split the line if appropriate,</li><li>the 'cut': split the line if appropriate.</li></ul><p>Note: the notions of space and line splitting are abstract for the pretty-printing engine, since those notions can be completely defined by the programmer. However, in the pretty-printer default setting, ``output a space'' simply means printing a space character (ASCII code 32) and ``split the line'' is printing a newline character (ASCII code 10).</p></aside><dl><dt class="spec value" id="val-print_space"><a href="#val-print_space" class="anchor"></a><code><span class="keyword">val </span>print_space : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>print_space ()</code> the 'space' break hint: the pretty-printer may split the line at this point, otherwise it prints one space. It is equivalent to <code>print_break 1 0</code>.</p></dd></dl><dl><dt class="spec value" id="val-print_cut"><a href="#val-print_cut" class="anchor"></a><code><span class="keyword">val </span>print_cut : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>print_cut ()</code> the 'cut' break hint: the pretty-printer may split the line at this point, otherwise it prints nothing. It is equivalent to <code>print_break 0 0</code>.</p></dd></dl><dl><dt class="spec value" id="val-print_break"><a href="#val-print_break" class="anchor"></a><code><span class="keyword">val </span>print_break : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>print_break nspaces offset</code> the 'full' break hint: the pretty-printer may split the line at this point, otherwise it prints <code>nspaces</code> spaces.</p><p>If the pretty-printer splits the line, <code>offset</code> is added to the current indentation.</p></dd></dl><dl><dt class="spec value" id="val-print_flush"><a href="#val-print_flush" class="anchor"></a><code><span class="keyword">val </span>print_flush : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Flushes the pretty printer: all opened boxes are closed, and all pending text is displayed.</p></dd></dl><dl><dt class="spec value" id="val-print_newline"><a href="#val-print_newline" class="anchor"></a><code><span class="keyword">val </span>print_newline : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Equivalent to <code>print_flush</code> followed by a new line.</p></dd></dl><dl><dt class="spec value" id="val-force_newline"><a href="#val-force_newline" class="anchor"></a><code><span class="keyword">val </span>force_newline : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Forces a new line in the current box. Not the normal way of pretty-printing, since the new line does not reset the current line count. You should prefer using break hints within a vertcal box.</p></dd></dl><dl><dt class="spec value" id="val-print_if_newline"><a href="#val-print_if_newline" class="anchor"></a><code><span class="keyword">val </span>print_if_newline : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Executes the next formatting command if the preceding line has just been split. Otherwise, ignore the next formatting command.</p></dd></dl></section><section><header><h6 id="margin"><a href="#margin" class="anchor"></a>Margin</h6></header><dl><dt class="spec value" id="val-set_margin"><a href="#val-set_margin" class="anchor"></a><code><span class="keyword">val </span>set_margin : int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_margin d</code> sets the right margin to <code>d</code> (in characters): the pretty-printer splits lines that overflow the right margin according to the break hints given. Nothing happens if <code>d</code> is smaller than 2. If <code>d</code> is too large, the right margin is set to the maximum admissible value (which is greater than <code>10^9</code>).</p></dd></dl><dl><dt class="spec value" id="val-get_margin"><a href="#val-get_margin" class="anchor"></a><code><span class="keyword">val </span>get_margin : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Returns the position of the right margin.</p></dd></dl></section><section><header><h6 id="maximum-indentation-limit"><a href="#maximum-indentation-limit" class="anchor"></a>Maximum indentation limit</h6></header><dl><dt class="spec value" id="val-set_max_indent"><a href="#val-set_max_indent" class="anchor"></a><code><span class="keyword">val </span>set_max_indent : int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_max_indent d</code> sets the maximum indentation limit of lines to <code>d</code> (in characters): once this limit is reached, new boxes are rejected to the left, if they do not fit on the current line. Nothing happens if <code>d</code> is smaller than 2. If <code>d</code> is too large, the limit is set to the maximum admissible value (which is greater than <code>10 ^ 9</code>).</p></dd></dl><dl><dt class="spec value" id="val-get_max_indent"><a href="#val-get_max_indent" class="anchor"></a><code><span class="keyword">val </span>get_max_indent : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the maximum indentation limit (in characters).</p></dd></dl></section><section><header><h6 id="formatting-depth:-maximum-number-of-boxes-allowed-before-ellipsis"><a href="#formatting-depth:-maximum-number-of-boxes-allowed-before-ellipsis" class="anchor"></a>Formatting depth: maximum number of boxes allowed before ellipsis</h6></header><dl><dt class="spec value" id="val-set_max_boxes"><a href="#val-set_max_boxes" class="anchor"></a><code><span class="keyword">val </span>set_max_boxes : int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_max_boxes max</code> sets the maximum number of boxes simultaneously opened. Material inside boxes nested deeper is printed as an ellipsis (more precisely as the text returned by <code>get_ellipsis_text ()</code>). Nothing happens if <code>max</code> is smaller than 2.</p></dd></dl><dl><dt class="spec value" id="val-get_max_boxes"><a href="#val-get_max_boxes" class="anchor"></a><code><span class="keyword">val </span>get_max_boxes : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Returns the maximum number of boxes allowed before ellipsis.</p></dd></dl><dl><dt class="spec value" id="val-over_max_boxes"><a href="#val-over_max_boxes" class="anchor"></a><code><span class="keyword">val </span>over_max_boxes : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Tests if the maximum number of boxes allowed have already been opened.</p></dd></dl></section><section><header><h6 id="advanced-formatting"><a href="#advanced-formatting" class="anchor"></a>Advanced formatting</h6></header><dl><dt class="spec value" id="val-open_hbox"><a href="#val-open_hbox" class="anchor"></a><code><span class="keyword">val </span>open_hbox : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>open_hbox ()</code> opens a new 'horizontal' pretty-printing box.</p><p>This box prints material on a single line.</p><p>Break hints in a horizontal box never split the line. (Line splitting may still occur inside boxes nested deeper).</p></dd></dl><dl><dt class="spec value" id="val-open_vbox"><a href="#val-open_vbox" class="anchor"></a><code><span class="keyword">val </span>open_vbox : int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>open_vbox d</code> opens a new 'vertical' pretty-printing box with offset <code>d</code>.</p><p>This box prints material on as many lines as break hints in the box.</p><p>Every break hint in a vertical box splits the line.</p><p>If the pretty-printer splits the line in the box, <code>d</code> is added to the current indentation.</p></dd></dl><dl><dt class="spec value" id="val-open_hvbox"><a href="#val-open_hvbox" class="anchor"></a><code><span class="keyword">val </span>open_hvbox : int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>open_hvbox d</code> opens a new 'horizontal-vertical' pretty-printing box with offset <code>d</code>.</p><p>This box behaves as an horizontal box if it fits on a single line, otherwise it behaves as a vertical box.</p><p>If the pretty-printer splits the line in the box, <code>d</code> is added to the current indentation.</p></dd></dl><dl><dt class="spec value" id="val-open_hovbox"><a href="#val-open_hovbox" class="anchor"></a><code><span class="keyword">val </span>open_hovbox : int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>open_hovbox d</code> opens a new 'horizontal-or-vertical' pretty-printing box with offset <code>d</code>.</p><p>This box prints material as much as possible on every line.</p><p>A break hint splits the line if there is no more room on the line to print the remainder of the box.</p><p>If the pretty-printer splits the line in the box, <code>d</code> is added to the current indentation.</p></dd></dl></section><section><header><h6 id="ellipsis"><a href="#ellipsis" class="anchor"></a>Ellipsis</h6></header><dl><dt class="spec value" id="val-set_ellipsis_text"><a href="#val-set_ellipsis_text" class="anchor"></a><code><span class="keyword">val </span>set_ellipsis_text : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the text of the ellipsis printed when too many boxes are opened (a single dot, <code>.</code>, by default).</p></dd></dl><dl><dt class="spec value" id="val-get_ellipsis_text"><a href="#val-get_ellipsis_text" class="anchor"></a><code><span class="keyword">val </span>get_ellipsis_text : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Return the text of the ellipsis.</p></dd></dl></section><section><header><h6 id="tags"><a href="#tags" class="anchor"></a>Semantics Tags</h6></header><dl><dt class="spec type" id="type-tag"><a href="#type-tag" class="anchor"></a><code><span class="keyword">type </span>tag</code><code><span class="keyword"> = </span>string</code></dt></dl><aside><p><i>Semantics tags</i> (or simply <em>tags</em>) are used to decorate printed entities for user's defined purposes, e.g. setting font and giving size indications for a display device, or marking delimitation of semantics entities (e.g. HTML or TeX elements or terminal escape sequences).</p><p>By default, those tags do not influence line splitting calculation: the tag 'markers' are not considered as part of the printing material that drives line splitting (in other words, the length of those strings is considered as zero for line splitting).</p><p>Thus, tag handling is in some sense transparent to pretty-printing and does not interfere with usual indentation. Hence, a single pretty printing routine can output both simple 'verbatim' material or richer decorated output depending on the treatment of tags. By default, tags are not active, hence the output is not decorated with tag information. Once <code>set_tags</code> is set to <code>true</code>, the pretty printer engine honours tags and decorates the output accordingly.</p><p>When a tag has been opened (or closed), it is both and successively 'printed' and 'marked'. Printing a tag means calling a formatter specific function with the name of the tag as argument: that 'tag printing' function can then print any regular material to the formatter (so that this material is enqueued as usual in the formatter queue for further line splitting computation). Marking a tag means to output an arbitrary string (the 'tag marker'), directly into the output device of the formatter. Hence, the formatter specific 'tag marking' function must return the tag marker string associated to its tag argument. Being flushed directly into the output device of the formatter, tag marker strings are not considered as part of the printing material that drives line splitting (in other words, the length of the strings corresponding to tag markers is considered as zero for line splitting). In addition, advanced users may take advantage of the specificity of tag markers to be precisely output when the pretty printer has already decided where to splitt the lines, and precisely when the queue is flushed into the output device.</p><p>In the spirit of HTML tags, the default tag marking functions output tags enclosed in &quot;&lt;&quot; and &quot;&gt;&quot;: hence, the opening marker of tag <code>t</code> is <code>&quot;&lt;t&gt;&quot;</code> and the closing marker <code>&quot;&lt;/t&gt;&quot;</code>.</p><p>Default tag printing functions just do nothing.</p><p>Tag marking and tag printing functions are user definable and can be set by calling <code>set_formatter_tag_functions</code>.</p></aside><dl><dt class="spec value" id="val-open_tag"><a href="#val-open_tag" class="anchor"></a><code><span class="keyword">val </span>open_tag : <a href="index.html#type-tag">tag</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>open_tag t</code> opens the tag named <code>t</code>; the <code>print_open_tag</code> function of the formatter is called with <code>t</code> as argument; the tag marker <code>mark_open_tag t</code> will be flushed into the output device of the formatter.</p></dd></dl><dl><dt class="spec value" id="val-close_tag"><a href="#val-close_tag" class="anchor"></a><code><span class="keyword">val </span>close_tag : unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>close_tag ()</code> closes the most recently opened tag <code>t</code>. In addition, the <code>print_close_tag</code> function of the formatter is called with <code>t</code> as argument. The marker <code>mark_close_tag t</code> will be flushed into the output device of the formatter.</p></dd></dl><dl><dt class="spec value" id="val-set_tags"><a href="#val-set_tags" class="anchor"></a><code><span class="keyword">val </span>set_tags : bool <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_tags b</code> turns on or off the treatment of tags (default is off).</p></dd></dl><dl><dt class="spec value" id="val-set_print_tags"><a href="#val-set_print_tags" class="anchor"></a><code><span class="keyword">val </span>set_print_tags : bool <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_print_tags b</code> turns on or off the printing of tags.</p></dd></dl><dl><dt class="spec value" id="val-set_mark_tags"><a href="#val-set_mark_tags" class="anchor"></a><code><span class="keyword">val </span>set_mark_tags : bool <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_mark_tags b</code> turns on or off the output of tag markers.</p></dd></dl><dl><dt class="spec value" id="val-get_print_tags"><a href="#val-get_print_tags" class="anchor"></a><code><span class="keyword">val </span>get_print_tags : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Return the current status of tags printing.</p></dd></dl><dl><dt class="spec value" id="val-get_mark_tags"><a href="#val-get_mark_tags" class="anchor"></a><code><span class="keyword">val </span>get_mark_tags : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Return the current status of tags marking.</p></dd></dl></section><section><header><h6 id="redirecting-the-standard-formatter-output"><a href="#redirecting-the-standard-formatter-output" class="anchor"></a>Redirecting the standard formatter output</h6></header><dl><dt class="spec value" id="val-set_formatter_out_channel"><a href="#val-set_formatter_out_channel" class="anchor"></a><code><span class="keyword">val </span>set_formatter_out_channel : Pervasives.out_channel <span>&#45;&gt;</span> unit</code></dt><dd><p>Redirect the pretty-printer output to the given channel. (All the output functions of the standard formatter are set to the default output functions printing to the given channel.)</p></dd></dl><dl><dt class="spec value" id="val-set_formatter_output_functions"><a href="#val-set_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>set_formatter_output_functions : (string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_formatter_output_functions out flush</code> redirects the pretty-printer output functions to the functions <code>out</code> and <code>flush</code>.</p><p>The <code>out</code> function performs all the pretty-printer string output. It is called with a string <code>s</code>, a start position <code>p</code>, and a number of characters <code>n</code>; it is supposed to output characters <code>p</code> to <code>p + n - 1</code> of <code>s</code>.</p><p>The <code>flush</code> function is called whenever the pretty-printer is flushed (via conversion <code>%!</code>, or pretty-printing indications <code>@?</code> or <code>@.</code>, or using low level functions <code>print_flush</code> or <code>print_newline</code>).</p></dd></dl><dl><dt class="spec value" id="val-get_formatter_output_functions"><a href="#val-get_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>get_formatter_output_functions : unit <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(unit <span>&#45;&gt;</span> unit)</code></dt><dd><p>Return the current output functions of the pretty-printer.</p></dd></dl></section><section><header><h6 id="meaning"><a href="#meaning" class="anchor"></a>Changing the meaning of standard formatter pretty printing</h6></header><aside><p>The <code>Format</code> module is versatile enough to let you completely redefine the meaning of pretty printing: you may provide your own functions to define how to handle indentation, line splitting, and even printing of all the characters that have to be printed!</p></aside><dl><dt class="spec type" id="type-formatter_out_functions"><a href="#type-formatter_out_functions" class="anchor"></a><code><span class="keyword">type </span>formatter_out_functions</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-formatter_out_functions.out_string" class="anchored"><td class="def field"><a href="#type-formatter_out_functions.out_string" class="anchor"></a><code>out_string : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit;</code></td></tr><tr id="type-formatter_out_functions.out_flush" class="anchored"><td class="def field"><a href="#type-formatter_out_functions.out_flush" class="anchor"></a><code>out_flush : unit <span>&#45;&gt;</span> unit;</code></td></tr><tr id="type-formatter_out_functions.out_newline" class="anchored"><td class="def field"><a href="#type-formatter_out_functions.out_newline" class="anchor"></a><code>out_newline : unit <span>&#45;&gt;</span> unit;</code></td></tr><tr id="type-formatter_out_functions.out_spaces" class="anchored"><td class="def field"><a href="#type-formatter_out_functions.out_spaces" class="anchor"></a><code>out_spaces : int <span>&#45;&gt;</span> unit;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-set_formatter_out_functions"><a href="#val-set_formatter_out_functions" class="anchor"></a><code><span class="keyword">val </span>set_formatter_out_functions : <a href="index.html#type-formatter_out_functions">formatter_out_functions</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_formatter_out_functions f</code> Redirect the pretty-printer output to the functions <code>f.out_string</code> and <code>f.out_flush</code> as described in <code>set_formatter_output_functions</code>. In addition, the pretty-printer function that outputs a newline is set to the function <code>f.out_newline</code> and the function that outputs indentation spaces is set to the function <code>f.out_spaces</code>.</p><p>This way, you can change the meaning of indentation (which can be something else than just printing space characters) and the meaning of new lines opening (which can be connected to any other action needed by the application at hand). The two functions <code>f.out_spaces</code> and <code>f.out_newline</code> are normally connected to <code>f.out_string</code> and <code>f.out_flush</code>: respective default values for <code>f.out_space</code> and <code>f.out_newline</code> are <code>f.out_string (String.make n ' ') 0 n</code> and <code>f.out_string &quot;\n&quot; 0 1</code>.</p></dd></dl><dl><dt class="spec value" id="val-get_formatter_out_functions"><a href="#val-get_formatter_out_functions" class="anchor"></a><code><span class="keyword">val </span>get_formatter_out_functions : unit <span>&#45;&gt;</span> <a href="index.html#type-formatter_out_functions">formatter_out_functions</a></code></dt><dd><p>Return the current output functions of the pretty-printer, including line splitting and indentation functions. Useful to record the current setting and restore it afterwards.</p></dd></dl></section><section><header><h6 id="tagsmeaning"><a href="#tagsmeaning" class="anchor"></a>Changing the meaning of printing semantics tags</h6></header><dl><dt class="spec type" id="type-formatter_tag_functions"><a href="#type-formatter_tag_functions" class="anchor"></a><code><span class="keyword">type </span>formatter_tag_functions</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-formatter_tag_functions.mark_open_tag" class="anchored"><td class="def field"><a href="#type-formatter_tag_functions.mark_open_tag" class="anchor"></a><code>mark_open_tag : <a href="index.html#type-tag">tag</a> <span>&#45;&gt;</span> string;</code></td></tr><tr id="type-formatter_tag_functions.mark_close_tag" class="anchored"><td class="def field"><a href="#type-formatter_tag_functions.mark_close_tag" class="anchor"></a><code>mark_close_tag : <a href="index.html#type-tag">tag</a> <span>&#45;&gt;</span> string;</code></td></tr><tr id="type-formatter_tag_functions.print_open_tag" class="anchored"><td class="def field"><a href="#type-formatter_tag_functions.print_open_tag" class="anchor"></a><code>print_open_tag : <a href="index.html#type-tag">tag</a> <span>&#45;&gt;</span> unit;</code></td></tr><tr id="type-formatter_tag_functions.print_close_tag" class="anchored"><td class="def field"><a href="#type-formatter_tag_functions.print_close_tag" class="anchor"></a><code>print_close_tag : <a href="index.html#type-tag">tag</a> <span>&#45;&gt;</span> unit;</code></td></tr></table><code>}</code></dt><dd><p>The tag handling functions specific to a formatter: <code>mark</code> versions are the 'tag marking' functions that associate a string marker to a tag in order for the pretty-printing engine to flush those markers as 0 length tokens in the output device of the formatter. <code>print</code> versions are the 'tag printing' functions that can perform regular printing when a tag is closed or opened.</p></dd></dl><dl><dt class="spec value" id="val-set_formatter_tag_functions"><a href="#val-set_formatter_tag_functions" class="anchor"></a><code><span class="keyword">val </span>set_formatter_tag_functions : <a href="index.html#type-formatter_tag_functions">formatter_tag_functions</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set_formatter_tag_functions tag_funs</code> changes the meaning of opening and closing tags to use the functions in <code>tag_funs</code>.</p><p>When opening a tag name <code>t</code>, the string <code>t</code> is passed to the opening tag marking function (the <code>mark_open_tag</code> field of the record <code>tag_funs</code>), that must return the opening tag marker for that name. When the next call to <code>close_tag ()</code> happens, the tag name <code>t</code> is sent back to the closing tag marking function (the <code>mark_close_tag</code> field of record <code>tag_funs</code>), that must return a closing tag marker for that name.</p><p>The <code>print_</code> field of the record contains the functions that are called at tag opening and tag closing time, to output regular material in the pretty-printer queue.</p></dd></dl><dl><dt class="spec value" id="val-get_formatter_tag_functions"><a href="#val-get_formatter_tag_functions" class="anchor"></a><code><span class="keyword">val </span>get_formatter_tag_functions : unit <span>&#45;&gt;</span> <a href="index.html#type-formatter_tag_functions">formatter_tag_functions</a></code></dt><dd><p>Return the current tag functions of the pretty-printer.</p></dd></dl></section><section><header><h6 id="multiple-formatted-output"><a href="#multiple-formatted-output" class="anchor"></a>Multiple formatted output</h6></header><dl><dt class="spec type" id="type-formatter"><a href="#type-formatter" class="anchor"></a><code><span class="keyword">type </span>formatter</code></dt><dd><p>Abstract data corresponding to a pretty-printer (also called a formatter) and all its machinery.</p><p>Defining new pretty-printers permits unrelated output of material in parallel on several output channels. All the parameters of a pretty-printer are local to a formatter: margin, maximum indentation limit, maximum number of boxes simultaneously opened, ellipsis, and so on, are specific to each pretty-printer and may be fixed independently. Given a <code>Pervasives.out_channel</code> output channel <code>oc</code>, a new formatter writing to that channel is simply obtained by calling <code>formatter_of_out_channel oc</code>. Alternatively, the <code>make_formatter</code> function allocates a new formatter with explicit output and flushing functions (convenient to output material to strings for instance).</p></dd></dl><dl><dt class="spec value" id="val-formatter_of_out_channel"><a href="#val-formatter_of_out_channel" class="anchor"></a><code><span class="keyword">val </span>formatter_of_out_channel : Pervasives.out_channel <span>&#45;&gt;</span> <a href="index.html#type-formatter">formatter</a></code></dt><dd><p><code>formatter_of_out_channel oc</code> returns a new formatter that writes to the corresponding channel <code>oc</code>.</p></dd></dl><dl><dt class="spec value" id="val-std_formatter"><a href="#val-std_formatter" class="anchor"></a><code><span class="keyword">val </span>std_formatter : <a href="index.html#type-formatter">formatter</a></code></dt><dd><p>The standard formatter used by the formatting functions above. It is defined as <code>formatter_of_out_channel stdout</code>.</p></dd></dl><dl><dt class="spec value" id="val-err_formatter"><a href="#val-err_formatter" class="anchor"></a><code><span class="keyword">val </span>err_formatter : <a href="index.html#type-formatter">formatter</a></code></dt><dd><p>A formatter to use with formatting functions below for output to standard error. It is defined as <code>formatter_of_out_channel stderr</code>.</p></dd></dl><dl><dt class="spec value" id="val-formatter_of_buffer"><a href="#val-formatter_of_buffer" class="anchor"></a><code><span class="keyword">val </span>formatter_of_buffer : Buffer.t <span>&#45;&gt;</span> <a href="index.html#type-formatter">formatter</a></code></dt><dd><p><code>formatter_of_buffer b</code> returns a new formatter writing to buffer <code>b</code>. As usual, the formatter has to be flushed at the end of pretty printing, using <code>pp_print_flush</code> or <code>pp_print_newline</code>, to display all the pending material.</p></dd></dl><dl><dt class="spec value" id="val-stdbuf"><a href="#val-stdbuf" class="anchor"></a><code><span class="keyword">val </span>stdbuf : Buffer.t</code></dt><dd><p>The string buffer in which <code>str_formatter</code> writes.</p></dd></dl><dl><dt class="spec value" id="val-str_formatter"><a href="#val-str_formatter" class="anchor"></a><code><span class="keyword">val </span>str_formatter : <a href="index.html#type-formatter">formatter</a></code></dt><dd><p>A formatter to use with formatting functions below for output to the <code>stdbuf</code> string buffer. <code>str_formatter</code> is defined as <code>formatter_of_buffer stdbuf</code>.</p></dd></dl><dl><dt class="spec value" id="val-flush_str_formatter"><a href="#val-flush_str_formatter" class="anchor"></a><code><span class="keyword">val </span>flush_str_formatter : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Returns the material printed with <code>str_formatter</code>, flushes the formatter and resets the corresponding buffer.</p></dd></dl><dl><dt class="spec value" id="val-make_formatter"><a href="#val-make_formatter" class="anchor"></a><code><span class="keyword">val </span>make_formatter : (string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-formatter">formatter</a></code></dt><dd><p><code>make_formatter out flush</code> returns a new formatter that writes according to the output function <code>out</code>, and the flushing function <code>flush</code>. For instance, a formatter to the <code>Pervasives.out_channel</code> <code>oc</code> is returned by <code>make_formatter (Pervasives.output oc) (fun () -&gt; Pervasives.flush oc)</code>.</p></dd></dl></section><section><header><h6 id="basic-functions-to-use-with-formatters"><a href="#basic-functions-to-use-with-formatters" class="anchor"></a>Basic functions to use with formatters</h6></header><dl><dt class="spec value" id="val-pp_open_hbox"><a href="#val-pp_open_hbox" class="anchor"></a><code><span class="keyword">val </span>pp_open_hbox : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_open_vbox"><a href="#val-pp_open_vbox" class="anchor"></a><code><span class="keyword">val </span>pp_open_vbox : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_open_hvbox"><a href="#val-pp_open_hvbox" class="anchor"></a><code><span class="keyword">val </span>pp_open_hvbox : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_open_hovbox"><a href="#val-pp_open_hovbox" class="anchor"></a><code><span class="keyword">val </span>pp_open_hovbox : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_open_box"><a href="#val-pp_open_box" class="anchor"></a><code><span class="keyword">val </span>pp_open_box : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_close_box"><a href="#val-pp_close_box" class="anchor"></a><code><span class="keyword">val </span>pp_close_box : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_open_tag"><a href="#val-pp_open_tag" class="anchor"></a><code><span class="keyword">val </span>pp_open_tag : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_close_tag"><a href="#val-pp_close_tag" class="anchor"></a><code><span class="keyword">val </span>pp_close_tag : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_string"><a href="#val-pp_print_string" class="anchor"></a><code><span class="keyword">val </span>pp_print_string : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_as"><a href="#val-pp_print_as" class="anchor"></a><code><span class="keyword">val </span>pp_print_as : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_int"><a href="#val-pp_print_int" class="anchor"></a><code><span class="keyword">val </span>pp_print_int : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_float"><a href="#val-pp_print_float" class="anchor"></a><code><span class="keyword">val </span>pp_print_float : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_char"><a href="#val-pp_print_char" class="anchor"></a><code><span class="keyword">val </span>pp_print_char : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> char <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_bool"><a href="#val-pp_print_bool" class="anchor"></a><code><span class="keyword">val </span>pp_print_bool : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_break"><a href="#val-pp_print_break" class="anchor"></a><code><span class="keyword">val </span>pp_print_break : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_cut"><a href="#val-pp_print_cut" class="anchor"></a><code><span class="keyword">val </span>pp_print_cut : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_space"><a href="#val-pp_print_space" class="anchor"></a><code><span class="keyword">val </span>pp_print_space : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_force_newline"><a href="#val-pp_force_newline" class="anchor"></a><code><span class="keyword">val </span>pp_force_newline : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_flush"><a href="#val-pp_print_flush" class="anchor"></a><code><span class="keyword">val </span>pp_print_flush : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_newline"><a href="#val-pp_print_newline" class="anchor"></a><code><span class="keyword">val </span>pp_print_newline : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_print_if_newline"><a href="#val-pp_print_if_newline" class="anchor"></a><code><span class="keyword">val </span>pp_print_if_newline : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_set_tags"><a href="#val-pp_set_tags" class="anchor"></a><code><span class="keyword">val </span>pp_set_tags : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_set_print_tags"><a href="#val-pp_set_print_tags" class="anchor"></a><code><span class="keyword">val </span>pp_set_print_tags : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_set_mark_tags"><a href="#val-pp_set_mark_tags" class="anchor"></a><code><span class="keyword">val </span>pp_set_mark_tags : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_print_tags"><a href="#val-pp_get_print_tags" class="anchor"></a><code><span class="keyword">val </span>pp_get_print_tags : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-pp_get_mark_tags"><a href="#val-pp_get_mark_tags" class="anchor"></a><code><span class="keyword">val </span>pp_get_mark_tags : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-pp_set_margin"><a href="#val-pp_set_margin" class="anchor"></a><code><span class="keyword">val </span>pp_set_margin : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_margin"><a href="#val-pp_get_margin" class="anchor"></a><code><span class="keyword">val </span>pp_get_margin : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-pp_set_max_indent"><a href="#val-pp_set_max_indent" class="anchor"></a><code><span class="keyword">val </span>pp_set_max_indent : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_max_indent"><a href="#val-pp_get_max_indent" class="anchor"></a><code><span class="keyword">val </span>pp_get_max_indent : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-pp_set_max_boxes"><a href="#val-pp_set_max_boxes" class="anchor"></a><code><span class="keyword">val </span>pp_set_max_boxes : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_max_boxes"><a href="#val-pp_get_max_boxes" class="anchor"></a><code><span class="keyword">val </span>pp_get_max_boxes : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-pp_over_max_boxes"><a href="#val-pp_over_max_boxes" class="anchor"></a><code><span class="keyword">val </span>pp_over_max_boxes : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-pp_set_ellipsis_text"><a href="#val-pp_set_ellipsis_text" class="anchor"></a><code><span class="keyword">val </span>pp_set_ellipsis_text : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_ellipsis_text"><a href="#val-pp_get_ellipsis_text" class="anchor"></a><code><span class="keyword">val </span>pp_get_ellipsis_text : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-pp_set_formatter_out_channel"><a href="#val-pp_set_formatter_out_channel" class="anchor"></a><code><span class="keyword">val </span>pp_set_formatter_out_channel : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> Pervasives.out_channel <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_set_formatter_output_functions"><a href="#val-pp_set_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>pp_set_formatter_output_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_formatter_output_functions"><a href="#val-pp_get_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>pp_get_formatter_output_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(unit <span>&#45;&gt;</span> unit)</code></dt><dt class="spec value" id="val-pp_set_formatter_tag_functions"><a href="#val-pp_set_formatter_tag_functions" class="anchor"></a><code><span class="keyword">val </span>pp_set_formatter_tag_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> <a href="index.html#type-formatter_tag_functions">formatter_tag_functions</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_formatter_tag_functions"><a href="#val-pp_get_formatter_tag_functions" class="anchor"></a><code><span class="keyword">val </span>pp_get_formatter_tag_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-formatter_tag_functions">formatter_tag_functions</a></code></dt><dt class="spec value" id="val-pp_set_formatter_out_functions"><a href="#val-pp_set_formatter_out_functions" class="anchor"></a><code><span class="keyword">val </span>pp_set_formatter_out_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> <a href="index.html#type-formatter_out_functions">formatter_out_functions</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_get_formatter_out_functions"><a href="#val-pp_get_formatter_out_functions" class="anchor"></a><code><span class="keyword">val </span>pp_get_formatter_out_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-formatter_out_functions">formatter_out_functions</a></code></dt><dd><p>These functions are the basic ones: usual functions operating on the standard formatter are defined via partial evaluation of these primitives. For instance, <code>print_string</code> is equal to <code>pp_print_string std_formatter</code>.</p></dd></dl></section><section><header><h6 id="convenience-formatting-functions."><a href="#convenience-formatting-functions." class="anchor"></a>Convenience formatting functions.</h6></header><dl><dt class="spec value" id="val-pp_print_list"><a href="#val-pp_print_list" class="anchor"></a><code><span class="keyword">val </span>pp_print_list : ?&#8288;pp_sep:(<a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (<a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_print_list ?pp_sep pp_v ppf l</code> prints items of list <code>l</code>, using <code>pp_v</code> to print each item, and calling <code>pp_sep</code> between items (<code>pp_sep</code> defaults to <a href="index.html#val-pp_print_cut"><code>pp_print_cut</code></a>). Does nothing on empty lists.</p><dl><dt>since</dt><dd>4.02.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_print_text"><a href="#val-pp_print_text" class="anchor"></a><code><span class="keyword">val </span>pp_print_text : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_print_text ppf s</code> prints <code>s</code> with spaces and newlines respectively printed with <a href="index.html#val-pp_print_space"><code>pp_print_space</code></a> and <a href="index.html#val-pp_force_newline"><code>pp_force_newline</code></a>.</p><dl><dt>since</dt><dd>4.02.0</dd></dl></dd></dl></section><section><header><h6 id="printf-like-functions-for-pretty-printing."><a href="#printf-like-functions-for-pretty-printing." class="anchor"></a><code>printf</code> like functions for pretty-printing.</h6></header><dl><dt class="spec value" id="val-fprintf"><a href="#val-fprintf" class="anchor"></a><code><span class="keyword">val </span>fprintf : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit) Pervasives.format <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><aside><p><code>fprintf ff fmt arg1 ... argN</code> formats the arguments <code>arg1</code> to <code>argN</code> according to the format string <code>fmt</code>, and outputs the resulting string on the formatter <code>ff</code>.</p><p>The format <code>fmt</code> is a character string which contains three types of objects: plain characters and conversion specifications as specified in the <code>Printf</code> module, and pretty-printing indications specific to the <code>Format</code> module.</p><p>The pretty-printing indication characters are introduced by a <code>@</code> character, and their meanings are:</p><ul><li><code>@[</code>: open a pretty-printing box. The type and offset of the box may be optionally specified with the following syntax: the <code>&lt;</code> character, followed by an optional box type indication, then an optional integer offset, and the closing <code>&gt;</code> character. Box type is one of <code>h</code>, <code>v</code>, <code>hv</code>, <code>b</code>, or <code>hov</code>. '<code>h</code>' stands for an 'horizontal' box, '<code>v</code>' stands for a 'vertical' box, '<code>hv</code>' stands for an 'horizontal-vertical' box, '<code>b</code>' stands for an 'horizontal-or-vertical' box demonstrating indentation, '<code>hov</code>' stands a simple 'horizontal-or-vertical' box. For instance, <code>@[&lt;hov 2&gt;</code> opens an 'horizontal-or-vertical' box with indentation 2 as obtained with <code>open_hovbox 2</code>. For more details about boxes, see the various box opening functions <code>open_*box</code>.</li><li><code>@]</code>: close the most recently opened pretty-printing box.</li><li><code>@,</code>: output a 'cut' break hint, as with <code>print_cut ()</code>.</li><li><code>@ </code>: output a 'space' break hint, as with <code>print_space ()</code>.</li><li><code>@;</code>: output a 'full' break hint as with <code>print_break</code>. The <code>nspaces</code> and <code>offset</code> parameters of the break hint may be optionally specified with the following syntax: the <code>&lt;</code> character, followed by an integer <code>nspaces</code> value, then an integer <code>offset</code>, and a closing <code>&gt;</code> character. If no parameters are provided, the good break defaults to a 'space' break hint.</li><li><code>@.</code>: flush the pretty printer and split the line, as with <code>print_newline ()</code>.</li><li><code>@&lt;n&gt;</code>: print the following item as if it were of length <code>n</code>. Hence, <code>printf &quot;@&lt;0&gt;%s&quot; arg</code> prints <code>arg</code> as a zero length string. If <code>@&lt;n&gt;</code> is not followed by a conversion specification, then the following character of the format is printed as if it were of length <code>n</code>.</li><li><code>@\{</code>: open a tag. The name of the tag may be optionally specified with the following syntax: the <code>&lt;</code> character, followed by an optional string specification, and the closing <code>&gt;</code> character. The string specification is any character string that does not contain the closing character <code>'&gt;'</code>. If omitted, the tag name defaults to the empty string. For more details about tags, see the functions <code>open_tag</code> and <code>close_tag</code>.</li><li><code>@\}</code>: close the most recently opened tag.</li><li><code>@?</code>: flush the pretty printer as with <code>print_flush ()</code>. This is equivalent to the conversion <code>%!</code>.</li><li><code>@\n</code>: force a newline, as with <code>force_newline ()</code>, not the normal way of pretty-printing, you should prefer using break hints inside a vertical box.</li></ul><p>Note: If you need to prevent the interpretation of a <code>@</code> character as a pretty-printing indication, you must escape it with a <code>%</code> character. Old quotation mode <code>@@</code> is deprecated since it is not compatible with formatted input interpretation of character <code>'@'</code>.</p><p>Example: <code>printf &quot;@[%s@ %d@]@.&quot; &quot;x =&quot; 1</code> is equivalent to <code>open_box (); print_string &quot;x =&quot;; print_space ();
   print_int 1; close_box (); print_newline ()</code>. It prints <code>x = 1</code> within a pretty-printing 'horizontal-or-vertical' box.</p></aside><dl><dt class="spec value" id="val-printf"><a href="#val-printf" class="anchor"></a><code><span class="keyword">val </span>printf : (<span class="type-var">'a</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit) Pervasives.format <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <code>fprintf</code> above, but output on <code>std_formatter</code>.</p></dd></dl><dl><dt class="spec value" id="val-eprintf"><a href="#val-eprintf" class="anchor"></a><code><span class="keyword">val </span>eprintf : (<span class="type-var">'a</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit) Pervasives.format <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <code>fprintf</code> above, but output on <code>err_formatter</code>.</p></dd></dl><dl><dt class="spec value" id="val-sprintf"><a href="#val-sprintf" class="anchor"></a><code><span class="keyword">val </span>sprintf : (<span class="type-var">'a</span>,Â unit,Â string) Pervasives.format <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <code>printf</code> above, but instead of printing on a formatter, returns a string containing the result of formatting the arguments. Note that the pretty-printer queue is flushed at the end of <em>each call</em> to <code>sprintf</code>.</p><p>In case of multiple and related calls to <code>sprintf</code> to output material on a single string, you should consider using <code>fprintf</code> with the predefined formatter <code>str_formatter</code> and call <code>flush_str_formatter ()</code> to get the final result.</p><p>Alternatively, you can use <code>Format.fprintf</code> with a formatter writing to a buffer of your own: flushing the formatter and the buffer at the end of pretty-printing returns the desired string.</p></dd></dl><dl><dt class="spec value" id="val-asprintf"><a href="#val-asprintf" class="anchor"></a><code><span class="keyword">val </span>asprintf : (<span class="type-var">'a</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit,Â string) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <code>printf</code> above, but instead of printing on a formatter, returns a string containing the result of formatting the arguments. The type of <code>asprintf</code> is general enough to interact nicely with <code>%a</code> conversions.</p><dl><dt>since</dt><dd>4.01.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-ifprintf"><a href="#val-ifprintf" class="anchor"></a><code><span class="keyword">val </span>ifprintf : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit) Pervasives.format <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <code>fprintf</code> above, but does not print anything. Useful to ignore some material when conditionally printing.</p><dl><dt>since</dt><dd>3.10.0</dd></dl></dd></dl><aside><p>Formatted output functions with continuations.</p></aside><dl><dt class="spec value" id="val-kfprintf"><a href="#val-kfprintf" class="anchor"></a><code><span class="keyword">val </span>kfprintf : (<a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit,Â <span class="type-var">'a</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Same as <code>fprintf</code> above, but instead of returning immediately, passes the formatter to its first argument at the end of printing.</p></dd></dl><dl><dt class="spec value" id="val-ikfprintf"><a href="#val-ikfprintf" class="anchor"></a><code><span class="keyword">val </span>ikfprintf : (<a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit,Â <span class="type-var">'a</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Same as <code>kfprintf</code> above, but does not print anything. Useful to ignore some material when conditionally printing.</p><dl><dt>since</dt><dd>3.12.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-ksprintf"><a href="#val-ksprintf" class="anchor"></a><code><span class="keyword">val </span>ksprintf : (string <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>,Â unit,Â string,Â <span class="type-var">'a</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Same as <code>sprintf</code> above, but instead of returning the string, passes it to the first argument.</p></dd></dl><dl><dt class="spec value" id="val-kasprintf"><a href="#val-kasprintf" class="anchor"></a><code><span class="keyword">val </span>kasprintf : (string <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit,Â <span class="type-var">'a</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p>Same as <code>asprintf</code> above, but instead of returning the string, passes it to the first argument.</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl></section><section><header><h6 id="deprecated"><a href="#deprecated" class="anchor"></a>Deprecated</h6></header><dl><dt class="spec value" id="val-bprintf"><a href="#val-bprintf" class="anchor"></a><code><span class="keyword">val </span>bprintf : Buffer.t <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-formatter">formatter</a>,Â unit) Pervasives.format <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><dl><dt>deprecated</dt><dd><p>This function is error prone. Do not use it.</p><p>If you need to print to some buffer <code>b</code>, you must first define a formatter writing to <code>b</code>, using <code>let to_b = formatter_of_buffer b</code>; then use regular calls to <code>Format.fprintf</code> on formatter <code>to_b</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-kprintf"><a href="#val-kprintf" class="anchor"></a><code><span class="keyword">val </span>kprintf : (string <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span>,Â unit,Â string,Â <span class="type-var">'a</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><dl><dt>deprecated</dt><dd><p>An alias for <code>ksprintf</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-set_all_formatter_output_functions"><a href="#val-set_all_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>set_all_formatter_output_functions : out:(string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> flush:(unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> newline:(unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> spaces:(int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>Subsumed by <code>set_formatter_out_functions</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-get_all_formatter_output_functions"><a href="#val-get_all_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>get_all_formatter_output_functions : unit <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(unit <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(unit <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(int <span>&#45;&gt;</span> unit)</code></dt><dd><dl><dt>deprecated</dt><dd><p>Subsumed by <code>get_formatter_out_functions</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_set_all_formatter_output_functions"><a href="#val-pp_set_all_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>pp_set_all_formatter_output_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> out:(string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> flush:(unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> newline:(unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> spaces:(int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>Subsumed by <code>pp_set_formatter_out_functions</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_get_all_formatter_output_functions"><a href="#val-pp_get_all_formatter_output_functions" class="anchor"></a><code><span class="keyword">val </span>pp_get_all_formatter_output_functions : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(unit <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(unit <span>&#45;&gt;</span> unit)<span class="keyword"> * </span>(int <span>&#45;&gt;</span> unit)</code></dt><dd><dl><dt>deprecated</dt><dd><p>Subsumed by <code>pp_get_formatter_out_functions</code>.</p></dd></dl></dd></dl><aside><p>Tabulation boxes are deprecated.</p></aside><dl><dt class="spec value" id="val-pp_open_tbox"><a href="#val-pp_open_tbox" class="anchor"></a><code><span class="keyword">val </span>pp_open_tbox : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_close_tbox"><a href="#val-pp_close_tbox" class="anchor"></a><code><span class="keyword">val </span>pp_close_tbox : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_print_tbreak"><a href="#val-pp_print_tbreak" class="anchor"></a><code><span class="keyword">val </span>pp_print_tbreak : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_set_tab"><a href="#val-pp_set_tab" class="anchor"></a><code><span class="keyword">val </span>pp_set_tab : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_print_tab"><a href="#val-pp_print_tab" class="anchor"></a><code><span class="keyword">val </span>pp_print_tab : <a href="index.html#type-formatter">formatter</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-open_tbox"><a href="#val-open_tbox" class="anchor"></a><code><span class="keyword">val </span>open_tbox : unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-close_tbox"><a href="#val-close_tbox" class="anchor"></a><code><span class="keyword">val </span>close_tbox : unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-print_tbreak"><a href="#val-print_tbreak" class="anchor"></a><code><span class="keyword">val </span>print_tbreak : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-set_tab"><a href="#val-set_tab" class="anchor"></a><code><span class="keyword">val </span>set_tab : unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-print_tab"><a href="#val-print_tab" class="anchor"></a><code><span class="keyword">val </span>print_tab : unit <span>&#45;&gt;</span> unit</code></dt><dd><dl><dt>deprecated</dt><dd><p>since 4.03.0</p></dd></dl></dd></dl></section></div></body></html>