<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cobj (odig.Odig.Cobj)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">odig</a> &#x00BB; <a href="../index.html">Odig</a> &#x00BB; Cobj</nav><h1>Module <code>Odig.Cobj</code></h1><p>OCaml compilation objects.</p><p><b>Note.</b> All paths returned by functions of this module are made absolute (using <a href="https://github.com/dbuenzli/bos/issues/49">for now</a>, a fake <code>realpath(2)</code>).</p></header><section><header><h2 id="cobjs"><a href="#cobjs" class="anchor"></a>Compilation objects</h2></header><dl><dt class="spec module" id="module-Digest"><a href="#module-Digest" class="anchor"></a><code><span class="keyword">module </span><a href="Digest/index.html">Digest</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Compilation object digests.</p></dd></dl><dl><dt class="spec type" id="type-digest"><a href="#type-digest" class="anchor"></a><code><span class="keyword">type </span>digest</code><code><span class="keyword"> = </span><a href="index.html#module-Digest">Digest</a>.t</code></dt><dd><p>The type for compilation object digests.</p></dd></dl><dl><dt class="spec type" id="type-dep"><a href="#type-dep" class="anchor"></a><code><span class="keyword">type </span>dep</code><code><span class="keyword"> = </span>string<span class="keyword"> * </span><a href="index.html#type-digest">digest</a> option</code></dt><dd><p>The type for compilation object dependencies. A module name and an optional digest (often a <code>cmi</code> digest).</p></dd></dl><dl><dt class="spec value" id="val-pp_dep"><a href="#val-pp_dep" class="anchor"></a><code><span class="keyword">val </span>pp_dep : <a href="index.html#type-dep">dep</a> Fmt.t</code></dt><dd><p><code>pp_dep ppf d</code> prints an unspecified representation of <code>d</code> on <code>ppf</code>.</p></dd></dl><dl><dt class="spec type" id="type-mli"><a href="#type-mli" class="anchor"></a><code><span class="keyword">type </span>mli</code></dt><dd><p>The type for <code>mli</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cmi"><a href="#type-cmi" class="anchor"></a><code><span class="keyword">type </span>cmi</code></dt><dd><p>The type for <code>cmi</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cmti"><a href="#type-cmti" class="anchor"></a><code><span class="keyword">type </span>cmti</code></dt><dd><p>The type for <code>cmti</code> files.</p></dd></dl><dl><dt class="spec type" id="type-ml"><a href="#type-ml" class="anchor"></a><code><span class="keyword">type </span>ml</code></dt><dd><p>The type for <code>ml</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cmo"><a href="#type-cmo" class="anchor"></a><code><span class="keyword">type </span>cmo</code></dt><dd><p>The type for <code>cmo</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cmt"><a href="#type-cmt" class="anchor"></a><code><span class="keyword">type </span>cmt</code></dt><dd><p>The type for <code>cmt</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cma"><a href="#type-cma" class="anchor"></a><code><span class="keyword">type </span>cma</code></dt><dd><p>The type for <code>cma</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cmx"><a href="#type-cmx" class="anchor"></a><code><span class="keyword">type </span>cmx</code></dt><dd><p>The type for <code>cmx</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cmxa"><a href="#type-cmxa" class="anchor"></a><code><span class="keyword">type </span>cmxa</code></dt><dd><p>The type for <code>cmxa</code> files.</p></dd></dl><dl><dt class="spec type" id="type-cmxs"><a href="#type-cmxs" class="anchor"></a><code><span class="keyword">type </span>cmxs</code></dt><dd><p>The type for <code>cmxs</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Mli"><a href="#module-Mli" class="anchor"></a><code><span class="keyword">module </span><a href="Mli/index.html">Mli</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>mli</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cmi"><a href="#module-Cmi" class="anchor"></a><code><span class="keyword">module </span><a href="Cmi/index.html">Cmi</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cmi</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cmti"><a href="#module-Cmti" class="anchor"></a><code><span class="keyword">module </span><a href="Cmti/index.html">Cmti</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cmti</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Ml"><a href="#module-Ml" class="anchor"></a><code><span class="keyword">module </span><a href="Ml/index.html">Ml</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>ml</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cmo"><a href="#module-Cmo" class="anchor"></a><code><span class="keyword">module </span><a href="Cmo/index.html">Cmo</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cmo</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cmt"><a href="#module-Cmt" class="anchor"></a><code><span class="keyword">module </span><a href="Cmt/index.html">Cmt</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cmt</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cma"><a href="#module-Cma" class="anchor"></a><code><span class="keyword">module </span><a href="Cma/index.html">Cma</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cma</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cmx"><a href="#module-Cmx" class="anchor"></a><code><span class="keyword">module </span><a href="Cmx/index.html">Cmx</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cmx</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cmxa"><a href="#module-Cmxa" class="anchor"></a><code><span class="keyword">module </span><a href="Cmxa/index.html">Cmxa</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cmxa</code> files.</p></dd></dl><dl><dt class="spec module" id="module-Cmxs"><a href="#module-Cmxs" class="anchor"></a><code><span class="keyword">module </span><a href="Cmxs/index.html">Cmxs</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>cmxs</code> files.</p></dd></dl></section><section><header><h2 id="compilation-object-sets"><a href="#compilation-object-sets" class="anchor"></a>Compilation object sets</h2></header><dl><dt class="spec type" id="type-set"><a href="#type-set" class="anchor"></a><code><span class="keyword">type </span>set</code></dt><dd><p>The type for sets of compilation objects.</p></dd></dl><dl><dt class="spec value" id="val-empty_set"><a href="#val-empty_set" class="anchor"></a><code><span class="keyword">val </span>empty_set : <a href="index.html#type-set">set</a></code></dt><dd><p><code>empty_set</code> is an empty set of compilation objects.</p></dd></dl><dl><dt class="spec value" id="val-mlis"><a href="#val-mlis" class="anchor"></a><code><span class="keyword">val </span>mlis : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-mli">mli</a> list</code></dt><dd><p><code>mlis s</code> is the list of <code>mli</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmis"><a href="#val-cmis" class="anchor"></a><code><span class="keyword">val </span>cmis : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cmi">cmi</a> list</code></dt><dd><p><code>cmis s</code> is the list of <code>cmi</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmtis"><a href="#val-cmtis" class="anchor"></a><code><span class="keyword">val </span>cmtis : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cmti">cmti</a> list</code></dt><dd><p><code>cmtis s</code> is the list of <code>cmti</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-mls"><a href="#val-mls" class="anchor"></a><code><span class="keyword">val </span>mls : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-ml">ml</a> list</code></dt><dd><p><code>mls s</code> is the list of <code>ml</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmos"><a href="#val-cmos" class="anchor"></a><code><span class="keyword">val </span>cmos : ?&#8288;files:bool <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cmo">cmo</a> list</code></dt><dd><p><code>cmos ~files s</code> is the list of <code>cmo</code>s contained in <code>s</code>. If <code>files</code> is <code>true</code> (defaults to <code>false</code>), only the <code>cmo</code> files are listed and <code>cmo</code>s that are part of <code>cma</code> files are omitted.</p></dd></dl><dl><dt class="spec value" id="val-cmts"><a href="#val-cmts" class="anchor"></a><code><span class="keyword">val </span>cmts : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cmt">cmt</a> list</code></dt><dd><p><code>cmts s</code> is the list of <code>cmt</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmas"><a href="#val-cmas" class="anchor"></a><code><span class="keyword">val </span>cmas : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cma">cma</a> list</code></dt><dd><p><code>cmas s</code> is the list of <code>cma</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmxs"><a href="#val-cmxs" class="anchor"></a><code><span class="keyword">val </span>cmxs : ?&#8288;files:bool <span>&#45;&gt;</span> <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cmx">cmx</a> list</code></dt><dd><p><code>cmxs ~files s</code> is the list of <code>cmx</code>s contained in <code>s</code>. If <code>files</code> is <code>true</code> (defaults to <code>false</code>), only the <code>cmx</code> files are listed and <code>cmx</code>s that are part of <code>cmxa</code> files are omitted.</p></dd></dl><dl><dt class="spec value" id="val-cmxas"><a href="#val-cmxas" class="anchor"></a><code><span class="keyword">val </span>cmxas : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cmxa">cmxa</a> list</code></dt><dd><p><code>cmxa s</code> is the list of <code>cmxa</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmxss"><a href="#val-cmxss" class="anchor"></a><code><span class="keyword">val </span>cmxss : <a href="index.html#type-set">set</a> <span>&#45;&gt;</span> <a href="index.html#type-cmxs">cmxs</a> list</code></dt><dd><p><code>cmxss s</code> is the list of <code>cmxs</code>s contained in <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-set_of_dir"><a href="#val-set_of_dir" class="anchor"></a><code><span class="keyword">val </span>set_of_dir : ?&#8288;err:(Fpath.t <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â [ `Msg of string ]) Pervasives.result <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> Fpath.t <span>&#45;&gt;</span> <a href="index.html#type-set">set</a></code></dt><dd><p><code>set_of_dir ~err d</code> is the set of compilation objects that are present in the file hierarchy rooted at <code>d</code>.</p><p>This is a best-effort function, it will call <code>err</code> on errors and continue; at worst you'll get an <a href="index.html#val-empty_set"><code>empty_set</code></a>. <code>err</code>'s default simply logs the error at level <span class="xref-unresolved" title="unresolved reference to &quot;Logs.Error&quot;"><code>Logs</code>.Error</span>.</p></dd></dl></section><section><header><h2 id="indexes"><a href="#indexes" class="anchor"></a>Compilation object indexes</h2></header><dl><dt class="spec type" id="type-index"><a href="#type-index" class="anchor"></a><code><span class="keyword">type </span>'a index</code></dt><dd><p>See <a href="Index/index.html#type-t"><code>Index.t</code></a>.</p></dd></dl><dl><dt class="spec module" id="module-Index"><a href="#module-Index" class="anchor"></a><code><span class="keyword">module </span><a href="Index/index.html">Index</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Compilation object indexes</p></dd></dl></section><section><header><h2 id="depresolve"><a href="#depresolve" class="anchor"></a>Dependency resolution</h2></header><dl><dt class="spec type" id="type-dep_resolution"><a href="#type-dep_resolution" class="anchor"></a><code><span class="keyword">type </span>('a, 'o) dep_resolution</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-dep_resolution.None" class="anchored"><td class="def constructor"><a href="#type-dep_resolution.None" class="anchor"></a><code><span class="keyword">| </span></code><code>`None</code></td></tr><tr id="type-dep_resolution.Some" class="anchored"><td class="def constructor"><a href="#type-dep_resolution.Some" class="anchor"></a><code><span class="keyword">| </span></code><code>`Some<span class="keyword"> of </span><span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'o</span></code></td></tr><tr id="type-dep_resolution.Amb" class="anchored"><td class="def constructor"><a href="#type-dep_resolution.Amb" class="anchor"></a><code><span class="keyword">| </span></code><code>`Amb<span class="keyword"> of </span>(<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'o</span>) list</code></td></tr></table><code> ]</code></dt><dd><p>The type for dependency resolutions. Either no, some or an ambiguous resolution.</p></dd></dl><dl><dt class="spec type" id="type-dep_resolver"><a href="#type-dep_resolver" class="anchor"></a><code><span class="keyword">type </span>('a, 'o) dep_resolver</code><code><span class="keyword"> = </span><a href="index.html#type-dep">dep</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'o</span>) list <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <span class="type-var">'o</span>) <a href="index.html#type-dep_resolution">dep_resolution</a></code></dt><dd><p>The type for dependency resolvers. Determines a resolution from a dependency and list of matching candidates.</p></dd></dl><dl><dt class="spec value" id="val-cmi_for_interface"><a href="#val-cmi_for_interface" class="anchor"></a><code><span class="keyword">val </span>cmi_for_interface : resolve:(<span class="type-var">'a</span>,Â <a href="index.html#type-cmi">cmi</a>) <a href="index.html#type-dep_resolver">dep_resolver</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-index">index</a> <span>&#45;&gt;</span> <a href="index.html#type-dep">dep</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-cmi">cmi</a>) <a href="index.html#type-dep_resolution">dep_resolution</a></code></dt><dd><p><code>cmi_for_interface ~resolve i dep</code> is the resolution <code>resolve</code> of <code>cmi</code>s matching module interface <code>dep</code> in <code>i</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmo_for_interface"><a href="#val-cmo_for_interface" class="anchor"></a><code><span class="keyword">val </span>cmo_for_interface : resolve:(<span class="type-var">'a</span>,Â <a href="index.html#type-cmo">cmo</a>) <a href="index.html#type-dep_resolver">dep_resolver</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-index">index</a> <span>&#45;&gt;</span> <a href="index.html#type-dep">dep</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-cmo">cmo</a>) <a href="index.html#type-dep_resolution">dep_resolution</a></code></dt><dd><p><code>cmo_for_interface ~resolve i dep</code> is the resolution <code>resolve</code> of <code>cmo</code>s matching module interface <code>dep</code> in <code>i</code>.</p></dd></dl><dl><dt class="spec value" id="val-cmx_for_interface"><a href="#val-cmx_for_interface" class="anchor"></a><code><span class="keyword">val </span>cmx_for_interface : resolve:(<span class="type-var">'a</span>,Â <a href="index.html#type-cmx">cmx</a>) <a href="index.html#type-dep_resolver">dep_resolver</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-index">index</a> <span>&#45;&gt;</span> <a href="index.html#type-dep">dep</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-cmx">cmx</a>) <a href="index.html#type-dep_resolution">dep_resolution</a></code></dt><dd><p><code>cmx_for_interface ~resolve i dep</code> is the resolution <code>resolve</code> of <code>cmx</code>s matching module interface <code>dep</code> in <code>i</code>.</p></dd></dl><section><header><h3 id="recdepresolve"><a href="#recdepresolve" class="anchor"></a>Recursive resolution</h3></header><dl><dt class="spec type" id="type-dep_src"><a href="#type-dep_src" class="anchor"></a><code><span class="keyword">type </span>('a, 'o) dep_src</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'o</span>) list</code></dt><dd><p>The type for dependency sources. Tracks an object (head) to its source (tail). This is only used to allow good end-user feedback.</p></dd></dl><dl><dt class="spec type" id="type-rec_dep_resolution"><a href="#type-rec_dep_resolution" class="anchor"></a><code><span class="keyword">type </span>('a, 'o) rec_dep_resolution</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-rec_dep_resolution.Resolved" class="anchored"><td class="def constructor"><a href="#type-rec_dep_resolution.Resolved" class="anchor"></a><code><span class="keyword">| </span></code><code>`Resolved<span class="keyword"> of </span>(<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'o</span>)<span class="keyword"> * </span>(<span class="type-var">'a</span>,Â <span class="type-var">'o</span>) <a href="index.html#type-dep_src">dep_src</a></code></td></tr><tr id="type-rec_dep_resolution.Unresolved" class="anchored"><td class="def constructor"><a href="#type-rec_dep_resolution.Unresolved" class="anchor"></a><code><span class="keyword">| </span></code><code>`Unresolved<span class="keyword"> of </span><a href="index.html#type-dep">dep</a><span class="keyword"> * </span>[ `None<span class="keyword"> | </span>`Amb of (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'o</span>) list ]<span class="keyword"> * </span>(<span class="type-var">'a</span>,Â <span class="type-var">'o</span>) <a href="index.html#type-dep_src">dep_src</a></code></td></tr><tr id="type-rec_dep_resolution.Conflict" class="anchored"><td class="def constructor"><a href="#type-rec_dep_resolution.Conflict" class="anchor"></a><code><span class="keyword">| </span></code><code>`Conflict<span class="keyword"> of </span>string<span class="keyword"> * </span>(<span class="type-var">'a</span>,Â <span class="type-var">'o</span>) <a href="index.html#type-dep_src">dep_src</a> list <a href="Digest/index.html#type-map">Digest.map</a></code></td></tr></table><code> ]</code></dt><dd><p>The type for recursive dependency resolution:</p><ul><li><code>`Resolved (obj, src)</code>, a resolved object <code>obj</code>. <code>src</code> is one of the sources for <code>obj</code>.</li><li><code>`Unresolved (dep, reason, src)</code>, unresolved dependency <code>dep</code> for reason <code>reason</code>; either not found or ambiguous. <code>src</code> is one of the sources of <code>dep</code>.</li><li><code>`Conflict (n, dm)</code>, conflicting resolution for module name <code>n</code>. <code>dm</code> is the set of conflicting digests for <code>n</code> mapped to one of their source.</li></ul></dd></dl><dl><dt class="spec value" id="val-pp_rec_dep_resolution"><a href="#val-pp_rec_dep_resolution" class="anchor"></a><code><span class="keyword">val </span>pp_rec_dep_resolution : (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'o</span>) Fmt.t <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <span class="type-var">'o</span>) <a href="index.html#type-rec_dep_resolution">rec_dep_resolution</a> Fmt.t</code></dt><dd><p><code>pp_rec_dep_resolution pp_obj</code> is an unspecified formatter for recursive dependency resolutions using <code>pp_obj</code> to format objects.</p></dd></dl><dl><dt class="spec value" id="val-rec_cmis_for_interfaces"><a href="#val-rec_cmis_for_interfaces" class="anchor"></a><code><span class="keyword">val </span>rec_cmis_for_interfaces : resolve:(<span class="type-var">'a</span>,Â <a href="index.html#type-cmi">cmi</a>) <a href="index.html#type-dep_resolver">dep_resolver</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-index">index</a> <span>&#45;&gt;</span> (<a href="index.html#type-dep">dep</a><span class="keyword"> * </span>(<span class="type-var">'a</span>,Â <a href="index.html#type-cmi">cmi</a>) <a href="index.html#type-dep_src">dep_src</a>) list <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-cmi">cmi</a>) <a href="index.html#type-rec_dep_resolution">rec_dep_resolution</a> Astring.String.map</code></dt><dd><p>See, <em>mutatis mutandis</em>, <a href="index.html#val-rec_cmos_for_interfaces"><code>rec_cmos_for_interfaces</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-rec_cmos_for_interfaces"><a href="#val-rec_cmos_for_interfaces" class="anchor"></a><code><span class="keyword">val </span>rec_cmos_for_interfaces : ?&#8288;cmo_deps:(<a href="index.html#type-cmo">cmo</a> <span>&#45;&gt;</span> <a href="index.html#type-dep">dep</a> list) <span>&#45;&gt;</span> resolve:(<span class="type-var">'a</span>,Â <a href="index.html#type-cmo">cmo</a>) <a href="index.html#type-dep_resolver">dep_resolver</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-index">index</a> <span>&#45;&gt;</span> (<a href="index.html#type-dep">dep</a><span class="keyword"> * </span>(<span class="type-var">'a</span>,Â <a href="index.html#type-cmo">cmo</a>) <a href="index.html#type-dep_src">dep_src</a>) list <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <a href="index.html#type-cmo">cmo</a>) <a href="index.html#type-rec_dep_resolution">rec_dep_resolution</a> Astring.String.map</code></dt><dd><p><code>rec_cmos_for_interfaces ~cmo_deps ~resolve i deps</code> maps module names to the result of recursively resolving module interface dependencies <code>deps</code> (tupled with a dependency source) to <code>cmo</code>s in <code>i</code> using <code>resolve</code>. More precisely:</p><ul><li>First <code>deps</code> are resolved to <code>cmo</code>s. Then for each of these <code>cmo</code>s, their interface dependencies, as determined by <code>cmo_deps</code> (defaults to <a href="Cmo/index.html#val-cmi_deps"><code>Cmo.cmi_deps</code></a>) are resolved to <code>cmo</code>s and recursively.</li><li>Conflicts occur if two module interface dependencies occur with the same module name but different interface digests. This means that the resolution request is inconsistent and cannot be used for linking.</li><li>Unresolvedness may be due to: missing objects in <code>index</code>, existing objects excluded by <code>resolve</code>, ambiguous objects not decided by <code>resolve</code> or because a module interface has no corresponding implementation â€“ the OCaml compilation model allows this.</li></ul></dd></dl><dl><dt class="spec value" id="val-fold_rec_dep_resolutions"><a href="#val-fold_rec_dep_resolutions" class="anchor"></a><code><span class="keyword">val </span>fold_rec_dep_resolutions : deps:(<span class="type-var">'o</span> <span>&#45;&gt;</span> <a href="index.html#type-dep">dep</a> list) <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <span class="type-var">'o</span>) <a href="index.html#type-rec_dep_resolution">rec_dep_resolution</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>,Â <span class="type-var">'o</span>) <a href="index.html#type-rec_dep_resolution">rec_dep_resolution</a> Astring.String.map <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>fold_rec_dep_resolutions ~deps f res acc</code> folds <code>f</code> with <code>acc</code> over the partial evaluation order of <code>res</code> using <code>deps</code> on resolved objects. Conflicts and unresolved dependencies are also folded over.</p><dl><dt>raises Invalid_argument</dt><dd><p>if <code>deps</code> returns, on a resolved object, a name that is not in the domain of <code>res</code>.</p></dd></dl></dd></dl></section></section></div></body></html>