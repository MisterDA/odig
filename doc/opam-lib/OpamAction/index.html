<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OpamAction (opam-lib.OpamAction)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">opam-lib</a> &#x00BB; OpamAction</nav><h1>Module <code>OpamAction</code></h1><p>OPAM actions</p></header><dl><dt class="spec value" id="val-download_package"><a href="#val-download_package" class="anchor"></a><code><span class="keyword">val </span>download_package : OpamState.Types.t <span>&#45;&gt;</span> OpamTypes.package <span>&#45;&gt;</span> [ `Error of string<span class="keyword"> | </span>`Successful of OpamTypes.generic_file option ] OpamProcess.job</code></dt><dd><p>Downloads the source for a package to the local cache. Returns the file or dir downloaded, or None if the download failed.</p></dd></dl><dl><dt class="spec value" id="val-extract_package"><a href="#val-extract_package" class="anchor"></a><code><span class="keyword">val </span>extract_package : OpamState.Types.t <span>&#45;&gt;</span> OpamTypes.generic_file option <span>&#45;&gt;</span> OpamTypes.package <span>&#45;&gt;</span> unit</code></dt><dd><p>Extracts and patches the source of a package</p></dd></dl><dl><dt class="spec value" id="val-build_package"><a href="#val-build_package" class="anchor"></a><code><span class="keyword">val </span>build_package : OpamState.Types.t <span>&#45;&gt;</span> OpamTypes.generic_file option <span>&#45;&gt;</span> OpamTypes.package <span>&#45;&gt;</span> exn option OpamProcess.job</code></dt><dd><p>Build a package from its downloaded source. Returns <code>None</code> on success, <code>Some
    exn</code> on error.</p></dd></dl><dl><dt class="spec value" id="val-install_package"><a href="#val-install_package" class="anchor"></a><code><span class="keyword">val </span>install_package : OpamState.Types.t <span>&#45;&gt;</span> OpamTypes.package <span>&#45;&gt;</span> exn option OpamProcess.job</code></dt><dd><p>Installs a compiled package from its build dir. Returns <code>None</code> on success, <code>Some exn</code> on error.</p></dd></dl><dl><dt class="spec value" id="val-removal_needs_download"><a href="#val-removal_needs_download" class="anchor"></a><code><span class="keyword">val </span>removal_needs_download : OpamState.Types.t <span>&#45;&gt;</span> OpamTypes.package <span>&#45;&gt;</span> bool</code></dt><dd><p>Find out if the package source is needed for uninstall</p></dd></dl><dl><dt class="spec value" id="val-remove_package"><a href="#val-remove_package" class="anchor"></a><code><span class="keyword">val </span>remove_package : OpamState.Types.t <span>&#45;&gt;</span> metadata:bool <span>&#45;&gt;</span> ?&#8288;keep_build:bool <span>&#45;&gt;</span> ?&#8288;silent:bool <span>&#45;&gt;</span> OpamTypes.package <span>&#45;&gt;</span> unit OpamProcess.job</code></dt><dd><p>Remove a package.</p></dd></dl><dl><dt class="spec value" id="val-cleanup_package_artefacts"><a href="#val-cleanup_package_artefacts" class="anchor"></a><code><span class="keyword">val </span>cleanup_package_artefacts : OpamState.Types.t <span>&#45;&gt;</span> OpamTypes.package <span>&#45;&gt;</span> unit</code></dt><dd><p>Removes auxiliary files related to a package, after checking that they're not needed (even in other switches)</p></dd></dl><dl><dt class="spec value" id="val-sources_needed"><a href="#val-sources_needed" class="anchor"></a><code><span class="keyword">val </span>sources_needed : OpamState.Types.t <span>&#45;&gt;</span> OpamSolver.ActionGraph.t <span>&#45;&gt;</span> OpamTypes.package_set</code></dt><dd><p>Compute the set of packages which will need to be downloaded to apply a solution. Takes a graph of atomic actions.</p></dd></dl><dl><dt class="spec value" id="val-update_metadata"><a href="#val-update_metadata" class="anchor"></a><code><span class="keyword">val </span>update_metadata : OpamState.Types.t <span>&#45;&gt;</span> installed:OpamTypes.package_set <span>&#45;&gt;</span> installed_roots:OpamTypes.package_set <span>&#45;&gt;</span> reinstall:OpamTypes.package_set <span>&#45;&gt;</span> OpamState.Types.t</code></dt><dd><p>Update package metadata</p></dd></dl></div></body></html>