<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OpamConsole (opam-lib.OpamConsole)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">opam-lib</a> &#x00BB; OpamConsole</nav><h1>Module <code>OpamConsole</code></h1><p>Global configuration parameters (read from OpamGlobalConfig, and the environment when necessary)</p></header><dl><dt class="spec value" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span class="keyword">val </span>debug : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-verbose"><a href="#val-verbose" class="anchor"></a><code><span class="keyword">val </span>verbose : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-color"><a href="#val-color" class="anchor"></a><code><span class="keyword">val </span>color : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-utf8"><a href="#val-utf8" class="anchor"></a><code><span class="keyword">val </span>utf8 : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-utf8_extended"><a href="#val-utf8_extended" class="anchor"></a><code><span class="keyword">val </span>utf8_extended : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-disp_status_line"><a href="#val-disp_status_line" class="anchor"></a><code><span class="keyword">val </span>disp_status_line : unit <span>&#45;&gt;</span> bool</code></dt></dl><aside><p>General text formatting</p></aside><dl><dt class="spec type" id="type-text_style"><a href="#type-text_style" class="anchor"></a><code><span class="keyword">type </span>text_style</code><span class="keyword"> = </span><code>[ </code><table class="variant"><tr id="type-text_style.black" class="anchored"><td class="def constructor"><a href="#type-text_style.black" class="anchor"></a><code><span class="keyword">| </span></code><code>`black</code></td></tr><tr id="type-text_style.blue" class="anchored"><td class="def constructor"><a href="#type-text_style.blue" class="anchor"></a><code><span class="keyword">| </span></code><code>`blue</code></td></tr><tr id="type-text_style.bold" class="anchored"><td class="def constructor"><a href="#type-text_style.bold" class="anchor"></a><code><span class="keyword">| </span></code><code>`bold</code></td></tr><tr id="type-text_style.cyan" class="anchored"><td class="def constructor"><a href="#type-text_style.cyan" class="anchor"></a><code><span class="keyword">| </span></code><code>`cyan</code></td></tr><tr id="type-text_style.green" class="anchored"><td class="def constructor"><a href="#type-text_style.green" class="anchor"></a><code><span class="keyword">| </span></code><code>`green</code></td></tr><tr id="type-text_style.magenta" class="anchored"><td class="def constructor"><a href="#type-text_style.magenta" class="anchor"></a><code><span class="keyword">| </span></code><code>`magenta</code></td></tr><tr id="type-text_style.red" class="anchored"><td class="def constructor"><a href="#type-text_style.red" class="anchor"></a><code><span class="keyword">| </span></code><code>`red</code></td></tr><tr id="type-text_style.underline" class="anchored"><td class="def constructor"><a href="#type-text_style.underline" class="anchor"></a><code><span class="keyword">| </span></code><code>`underline</code></td></tr><tr id="type-text_style.white" class="anchored"><td class="def constructor"><a href="#type-text_style.white" class="anchor"></a><code><span class="keyword">| </span></code><code>`white</code></td></tr><tr id="type-text_style.yellow" class="anchored"><td class="def constructor"><a href="#type-text_style.yellow" class="anchor"></a><code><span class="keyword">| </span></code><code>`yellow</code></td></tr></table><code> ]</code></dt><dd><p>Settable attributes for ANSI terminal output. Nesting is generally not handled.</p></dd></dl><dl><dt class="spec value" id="val-colorise"><a href="#val-colorise" class="anchor"></a><code><span class="keyword">val </span>colorise : <a href="index.html#type-text_style">text_style</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p>Helper coloring functions. Returns the string unchanged if color is disabled</p></dd></dl><dl><dt class="spec value" id="val-acolor"><a href="#val-acolor" class="anchor"></a><code><span class="keyword">val </span>acolor : <a href="index.html#type-text_style">text_style</a> <span>&#45;&gt;</span> Pervasives.out_channel <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-acolor_w"><a href="#val-acolor_w" class="anchor"></a><code><span class="keyword">val </span>acolor_w : int <span>&#45;&gt;</span> <a href="index.html#type-text_style">text_style</a> <span>&#45;&gt;</span> Pervasives.out_channel <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>Logging</p></aside><dl><dt class="spec value" id="val-timer"><a href="#val-timer" class="anchor"></a><code><span class="keyword">val </span>timer : unit <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> float</code></dt><dd><p>Timers, only active when debug is on. Returns the time between the application to each argument, in seconds</p></dd></dl><dl><dt class="spec value" id="val-log"><a href="#val-log" class="anchor"></a><code><span class="keyword">val </span>log : string <span>&#45;&gt;</span> ?&#8288;level:int <span>&#45;&gt;</span> (<span class="type-var">'a</span>, Pervasives.out_channel, unit) Pervasives.format <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>log section ~level fmt args</code>. Used for debug messages, default level is 1</p></dd></dl><dl><dt class="spec value" id="val-slog"><a href="#val-slog" class="anchor"></a><code><span class="keyword">val </span>slog : (<span class="type-var">'a</span> <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> Pervasives.out_channel <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Helper to pass stringifiers to log (use <code>log &quot;%a&quot; (slog to_string) x</code> rather than <code>log &quot;%s&quot; (to_string x)</code> to avoid costly unneeded stringifications</p></dd></dl><dl><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val </span>error : (<span class="type-var">'a</span>, unit, string, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-warning"><a href="#val-warning" class="anchor"></a><code><span class="keyword">val </span>warning : (<span class="type-var">'a</span>, unit, string, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-note"><a href="#val-note" class="anchor"></a><code><span class="keyword">val </span>note : (<span class="type-var">'a</span>, unit, string, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-errmsg"><a href="#val-errmsg" class="anchor"></a><code><span class="keyword">val </span>errmsg : (<span class="type-var">'a</span>, Pervasives.out_channel, unit, unit, unit, unit) Pervasives.format6 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Message without prefix, reformat or newline, to stderr (useful to continue error messages without repeating &quot;<code>ERROR</code>&quot;)</p></dd></dl><dl><dt class="spec value" id="val-error_and_exit"><a href="#val-error_and_exit" class="anchor"></a><code><span class="keyword">val </span>error_and_exit : ?&#8288;num:int <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, <span class="type-var">'b</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-msg"><a href="#val-msg" class="anchor"></a><code><span class="keyword">val </span>msg : (<span class="type-var">'a</span>, Pervasives.out_channel, unit, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-formatted_msg"><a href="#val-formatted_msg" class="anchor"></a><code><span class="keyword">val </span>formatted_msg : ?&#8288;indent:int <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-header_msg"><a href="#val-header_msg" class="anchor"></a><code><span class="keyword">val </span>header_msg : (<span class="type-var">'a</span>, unit, string, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-header_error"><a href="#val-header_error" class="anchor"></a><code><span class="keyword">val </span>header_error : (<span class="type-var">'a</span>, unit, string, (<span class="type-var">'b</span>, unit, string, unit) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'b</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-status_line"><a href="#val-status_line" class="anchor"></a><code><span class="keyword">val </span>status_line : (<span class="type-var">'a</span>, Pervasives.out_channel, unit, unit, unit, unit) Pervasives.format6 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Display a dynamic status line to stdout, that will be erased on next output. The message should not be wider than screen nor contain newlines.</p></dd></dl><dl><dt class="spec value" id="val-confirm"><a href="#val-confirm" class="anchor"></a><code><span class="keyword">val </span>confirm : ?&#8288;default:bool <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, bool) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Ask the user to press Y/y/N/n to continue (returns a boolean). Defaults to true (yes) if unspecified</p></dd></dl><dl><dt class="spec value" id="val-read"><a href="#val-read" class="anchor"></a><code><span class="keyword">val </span>read : (<span class="type-var">'a</span>, unit, string, string option) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Read some input from the user (returns a string option)</p></dd></dl></div></body></html>