<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OpamSolution (opam-lib.OpamSolution)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">opam-lib</a> &#x00BB; OpamSolution</nav><h1>Module <code>OpamSolution</code></h1><p>Applying solver solutions</p><nav class="toc"><ul><li><a href="#atoms">Atoms</a></li></ul></nav></header><dl><dt class="spec value" id="val-resolve"><a href="#val-resolve" class="anchor"></a><code><span class="keyword">val </span>resolve : ?&#8288;verbose:bool <span>&#45;&gt;</span> OpamState.state <span>&#45;&gt;</span> OpamTypes.user_action <span>&#45;&gt;</span> orphans:OpamTypes.package_set <span>&#45;&gt;</span> OpamTypes.atom OpamTypes.request <span>&#45;&gt;</span> (OpamSolver.solution, OpamCudf.conflict) OpamTypes.result</code></dt><dd><p>Resolve an user request</p></dd></dl><dl><dt class="spec value" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span class="keyword">val </span>apply : ?&#8288;ask:bool <span>&#45;&gt;</span> OpamState.state <span>&#45;&gt;</span> OpamTypes.user_action <span>&#45;&gt;</span> requested:OpamPackage.Name.Set.t <span>&#45;&gt;</span> OpamSolver.solution <span>&#45;&gt;</span> OpamTypes.solver_result</code></dt><dd><p>Apply a solution returned by the solver. If <code>ask</code> is not specified, prompts the user whenever the solution isn't obvious from the request</p></dd></dl><dl><dt class="spec value" id="val-resolve_and_apply"><a href="#val-resolve_and_apply" class="anchor"></a><code><span class="keyword">val </span>resolve_and_apply : ?&#8288;ask:bool <span>&#45;&gt;</span> OpamState.state <span>&#45;&gt;</span> OpamTypes.user_action <span>&#45;&gt;</span> requested:OpamPackage.Name.Set.t <span>&#45;&gt;</span> orphans:OpamTypes.package_set <span>&#45;&gt;</span> OpamTypes.atom OpamTypes.request <span>&#45;&gt;</span> OpamTypes.solver_result</code></dt><dd><p>Call the solver to get a solution and then call <code>apply</code>. If <code>ask</code> is not specified, prompts the user whenever the solution isn't obvious from the request</p></dd></dl><dl><dt class="spec value" id="val-check_solution"><a href="#val-check_solution" class="anchor"></a><code><span class="keyword">val </span>check_solution : OpamState.state <span>&#45;&gt;</span> OpamTypes.solver_result <span>&#45;&gt;</span> unit</code></dt><dd><p>Raise an error if no solution is found or in case of error.</p></dd></dl><section><header><h3 id="atoms"><a href="#atoms" class="anchor"></a>Atoms</h3></header><dl><dt class="spec value" id="val-eq_atom"><a href="#val-eq_atom" class="anchor"></a><code><span class="keyword">val </span>eq_atom : OpamTypes.name <span>&#45;&gt;</span> OpamTypes.version <span>&#45;&gt;</span> OpamTypes.atom</code></dt><dd><p>Return an atom with a strict version constraint</p></dd></dl><dl><dt class="spec value" id="val-atom_of_package"><a href="#val-atom_of_package" class="anchor"></a><code><span class="keyword">val </span>atom_of_package : OpamTypes.package <span>&#45;&gt;</span> OpamTypes.atom</code></dt><dd><p>Return a simple atom, with no version constrain, from a package</p></dd></dl><dl><dt class="spec value" id="val-eq_atom_of_package"><a href="#val-eq_atom_of_package" class="anchor"></a><code><span class="keyword">val </span>eq_atom_of_package : OpamTypes.package <span>&#45;&gt;</span> OpamTypes.atom</code></dt><dd><p>Returns an atom with a strict version constraint from a package</p></dd></dl><dl><dt class="spec value" id="val-atoms_of_packages"><a href="#val-atoms_of_packages" class="anchor"></a><code><span class="keyword">val </span>atoms_of_packages : OpamTypes.package_set <span>&#45;&gt;</span> OpamTypes.atom list</code></dt><dd><p>Return a list of simple atoms (ie. with no version constraints) from a set of packages</p></dd></dl><dl><dt class="spec value" id="val-eq_atoms_of_packages"><a href="#val-eq_atoms_of_packages" class="anchor"></a><code><span class="keyword">val </span>eq_atoms_of_packages : OpamTypes.package_set <span>&#45;&gt;</span> OpamTypes.atom list</code></dt><dd><p>Return a list of constrained atoms from a set of packages</p></dd></dl><dl><dt class="spec value" id="val-check_availability"><a href="#val-check_availability" class="anchor"></a><code><span class="keyword">val </span>check_availability : ?&#8288;permissive:bool <span>&#45;&gt;</span> OpamState.state <span>&#45;&gt;</span> OpamPackage.Set.t <span>&#45;&gt;</span> OpamTypes.atom list <span>&#45;&gt;</span> unit</code></dt><dd><p>Checks that the atoms can possibly be verified (individually) in a package set. Displays an error and exits otherwise. <code>permissive</code> just changes the error message.</p></dd></dl><dl><dt class="spec value" id="val-sanitize_atom_list"><a href="#val-sanitize_atom_list" class="anchor"></a><code><span class="keyword">val </span>sanitize_atom_list : ?&#8288;permissive:bool <span>&#45;&gt;</span> OpamState.state <span>&#45;&gt;</span> OpamTypes.atom list <span>&#45;&gt;</span> OpamTypes.atom list</code></dt><dd><p>Takes a &quot;raw&quot; list of atoms (from the user), and match it to existing packages. Match packages with the wrong capitalisation, and raises errors on non-existing packages, and unavailable ones unless <code>permissive</code> is set. Exits with a message on error.</p></dd></dl><dl><dt class="spec value" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span class="keyword">val </span>sum : OpamTypes.stats <span>&#45;&gt;</span> int</code></dt><dd><h3 id="stats"><a href="#stats" class="anchor"></a>Stats</h3></dd></dl></section></div></body></html>