<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>VCS (opam-repository.OpamVCS.VCS)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">opam-repository</a> &#x00BB; <a href="../index.html">OpamVCS</a> &#x00BB; VCS</nav><h1>Module type <code>OpamVCS.VCS</code></h1></header><div class="doc"><p>Each backend should implement this signature.</p></div><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">val </span>name : OpamUrl.backend</code></dt><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val </span>exists : OpamTypes.dirname <span>&#45;&gt;</span> bool</code></dt><dd><p>Test whether the given repository is correctly initialized.</p></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val </span>init : OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.url <span>&#45;&gt;</span> unit OpamProcess.job</code></dt><dd><p>Init a repository.</p></dd></dl><dl><dt class="spec value" id="val-fetch"><a href="#val-fetch" class="anchor"></a><code><span class="keyword">val </span>fetch : ?&#8288;cache_dir:OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.url <span>&#45;&gt;</span> unit OpamProcess.job</code></dt><dd><p>Fetch changes from upstream. This is supposed to put the changes in a staging area. Be aware that the remote URL might have been changed, so make sure to update accordingly.</p></dd></dl><dl><dt class="spec value" id="val-reset_tree"><a href="#val-reset_tree" class="anchor"></a><code><span class="keyword">val </span>reset_tree : OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.url <span>&#45;&gt;</span> unit OpamProcess.job</code></dt><dd><p>Reset the master branch of the repository to match the remote repository state. This might still fetch more data (git submodules...), so is unsuitable for running after validation.</p></dd></dl><dl><dt class="spec value" id="val-patch_applied"><a href="#val-patch_applied" class="anchor"></a><code><span class="keyword">val </span>patch_applied : OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.url <span>&#45;&gt;</span> unit OpamProcess.job</code></dt><dd><p>Confirm that applying the patch results in a clean synchronization of the working tree with its repository state.</p></dd></dl><dl><dt class="spec value" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span class="keyword">val </span>diff : OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.url <span>&#45;&gt;</span> OpamTypes.filename option OpamProcess.job</code></dt><dd><p>Returns the pending modifications in the form of a patch file, or None if <code>dirname</code> is up to date with what was last fetched.</p></dd></dl><dl><dt class="spec value" id="val-is_up_to_date"><a href="#val-is_up_to_date" class="anchor"></a><code><span class="keyword">val </span>is_up_to_date : OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.url <span>&#45;&gt;</span> bool OpamProcess.job</code></dt><dd><p>Returns true if the last fetched state is equal to the current, on-disk state</p></dd></dl><dl><dt class="spec value" id="val-revision"><a href="#val-revision" class="anchor"></a><code><span class="keyword">val </span>revision : OpamTypes.dirname <span>&#45;&gt;</span> string option OpamProcess.job</code></dt><dd><p>Returns an backend-specific identifier for the current revision.</p></dd></dl><dl><dt class="spec value" id="val-versioned_files"><a href="#val-versioned_files" class="anchor"></a><code><span class="keyword">val </span>versioned_files : OpamTypes.dirname <span>&#45;&gt;</span> string list OpamProcess.job</code></dt><dd><p>Returns the list of files under version control</p></dd></dl><dl><dt class="spec value" id="val-vc_dir"><a href="#val-vc_dir" class="anchor"></a><code><span class="keyword">val </span>vc_dir : OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.dirname</code></dt><dd><p>Returns the absolute directory name for vc data (e.g. <code>.../project/.git</code>)</p></dd></dl><dl><dt class="spec value" id="val-current_branch"><a href="#val-current_branch" class="anchor"></a><code><span class="keyword">val </span>current_branch : OpamTypes.dirname <span>&#45;&gt;</span> string option OpamProcess.job</code></dt><dd><p>Returns the currently selected branch handle. It should be valid as the <code>hash</code> field of <code>OpamUrl.t</code>.</p></dd></dl><dl><dt class="spec value" id="val-is_dirty"><a href="#val-is_dirty" class="anchor"></a><code><span class="keyword">val </span>is_dirty : OpamTypes.dirname <span>&#45;&gt;</span> bool OpamProcess.job</code></dt><dd><p>Returns true if the working tree state is different from the state recorded in the VCS as current. This differs from <code>is_up_to_date</code>, which compares specifically to the last fetched state. This should always be <code>false</code> after <code>reset</code> has been called.</p></dd></dl></div></body></html>