<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OpamPinned (opam-state.OpamPinned)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">opam-state</a> &#x00BB; OpamPinned</nav><h1>Module <code>OpamPinned</code></h1><p>Specific query and handling of pinned packages</p></header><dl><dt class="spec value" id="val-version"><a href="#val-version" class="anchor"></a><code><span class="keyword">val </span>version : <span class="type-var">'a</span> OpamStateTypes.switch_state <span>&#45;&gt;</span> OpamTypes.name <span>&#45;&gt;</span> OpamTypes.version</code></dt><dd><p>Returns the version the package is pinned to.</p><dl><dt>raises Not_found</dt><dd><p>when appropriate</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-package"><a href="#val-package" class="anchor"></a><code><span class="keyword">val </span>package : <span class="type-var">'a</span> OpamStateTypes.switch_state <span>&#45;&gt;</span> OpamTypes.name <span>&#45;&gt;</span> OpamTypes.package</code></dt><dd><p>Returns the package with the pinned-to version from a pinned package name.</p><dl><dt>raises Not_found</dt><dd><p>when appropriate</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-package_opt"><a href="#val-package_opt" class="anchor"></a><code><span class="keyword">val </span>package_opt : <span class="type-var">'a</span> OpamStateTypes.switch_state <span>&#45;&gt;</span> OpamTypes.name <span>&#45;&gt;</span> OpamTypes.package option</code></dt><dd><p>Returns the package with the pinned-to version from a package name, if pinned</p></dd></dl><dl><dt class="spec value" id="val-packages"><a href="#val-packages" class="anchor"></a><code><span class="keyword">val </span>packages : <span class="type-var">'a</span> OpamStateTypes.switch_state <span>&#45;&gt;</span> OpamTypes.package_set</code></dt><dd><p>The set of all pinned packages with their pinning versions</p></dd></dl><dl><dt class="spec value" id="val-find_opam_file_in_source"><a href="#val-find_opam_file_in_source" class="anchor"></a><code><span class="keyword">val </span>find_opam_file_in_source : OpamTypes.name <span>&#45;&gt;</span> OpamTypes.dirname <span>&#45;&gt;</span> OpamFile.OPAM.t OpamFile.t option</code></dt><dd><p>Looks up an 'opam' file for the given named package in a source directory. This is affected by <code>OpamStateConfig.(!r.locked)</code>.</p></dd></dl><dl><dt class="spec value" id="val-files_in_source"><a href="#val-files_in_source" class="anchor"></a><code><span class="keyword">val </span>files_in_source : OpamTypes.dirname <span>&#45;&gt;</span> (OpamTypes.name option<span class="keyword"> * </span>OpamFile.OPAM.t OpamFile.t) list</code></dt><dd><p>Finds all package definition files in a given source dir <code>opam</code>, <code>pkgname.opam/opam</code>, etc. This is affected by <code>OpamStateConfig.(!r.locked)</code></p></dd></dl><dl><dt class="spec value" id="val-name_of_opam_filename"><a href="#val-name_of_opam_filename" class="anchor"></a><code><span class="keyword">val </span>name_of_opam_filename : OpamTypes.dirname <span>&#45;&gt;</span> OpamTypes.filename <span>&#45;&gt;</span> OpamTypes.name option</code></dt><dd><p>From an opam file location, sitting below the given project directory, find the corresponding package name if specified (<code>&lt;name&gt;.opam</code> or <code>&lt;name&gt;.opam/opam</code>). This function doesn't check the project directory name itself, or the package name that might be specified within the file.</p></dd></dl><dl><dt class="spec value" id="val-orig_opam_file"><a href="#val-orig_opam_file" class="anchor"></a><code><span class="keyword">val </span>orig_opam_file : OpamPackage.Name.t <span>&#45;&gt;</span> OpamFile.OPAM.t <span>&#45;&gt;</span> OpamFile.OPAM.t OpamFile.t option</code></dt><dd><p>Finds back the location of the opam file this package definition was loaded from</p></dd></dl></div></body></html>