<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (orec.Orec__Namespace.S)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">orec</a> &#x00BB; <a href="../index.html">Orec__Namespace</a> &#x00BB; S</nav><h1>Module type <code>Orec__Namespace.S</code></h1></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../Orec/Bijection/index.html#module-type-S">Orec.Bijection.S</a></code></span></summary><dl><dt class="spec type" id="type-bijection"><a href="#type-bijection" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b) bijection</code><code> = </code><code>{</code><table class="record"><tr id="type-bijection.to_" class="anchored"><td class="def field"><a href="#type-bijection.to_" class="anchor"></a><code>to_ : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>;</code></td></tr><tr id="type-bijection.from" class="anchored"><td class="def field"><a href="#type-bijection.from" class="anchor"></a><code>from : <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>;</code></td></tr></table><code>}</code></dt><dd><p>Bijection record</p><p>Bijection inversion</p></dd></dl><dl><dt class="spec value" id="val-flip"><a href="#val-flip" class="anchor"></a><code><span class="keyword">val</span> flip : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-bijection">bijection</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'a</span>) <a href="index.html#type-bijection">bijection</a></code></dt><dd><p>Bijection inversion</p></dd></dl><dl><dt class="spec value" id="val-(%)"><a href="#val-(%)" class="anchor"></a><code><span class="keyword">val</span> (%) : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-bijection">bijection</a> <span>&#45;&gt;</span> (<span class="type-var">'c</span>, <span class="type-var">'a</span>) <a href="index.html#type-bijection">bijection</a> <span>&#45;&gt;</span> (<span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="index.html#type-bijection">bijection</a></code></dt><dd><p>Bijection composition</p></dd></dl></details></div></div></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type of record within the namespace</p></dd></dl><dl><dt class="spec type" id="type-field_action"><a href="#type-field_action" class="anchor"></a><code><span class="keyword">type</span> 'info field_action</code></dt><dd><p>The type of a field getter or updater</p></dd></dl><dl><dt class="spec type" id="type-get"><a href="#type-get" class="anchor"></a><code><span class="keyword">type</span> 'info get</code><code> = ((<span class="type-var">'a</span>, <span class="type-var">'mut</span>) <a href="../../Orec/Type_data/index.html#type-getter">Orec.Type_data.getter</a> * <span class="type-var">'res</span>) <a href="index.html#type-field_action">field_action</a></code><code> <span class="keyword">constraint</span> <span class="type-var">'info</span> = &lt; x : <span class="type-var">'a</span>; mut : <span class="type-var">'mut</span>; ret : <span class="type-var">'res</span>; &gt;</code></dt><dd><p>Aliases for the type of fields</p></dd></dl><dl><dt class="spec type" id="type-field"><a href="#type-field" class="anchor"></a><code><span class="keyword">type</span> 'a field</code><code> = &lt; x : <span class="type-var">'a</span>; mut : <a href="../../Orec/Type_data/index.html#type-imm">Orec.Type_data.imm</a>; ret : <span class="type-var">'a</span> option; &gt; <a href="index.html#type-get">get</a></code></dt><dt class="spec type" id="type-mut_field"><a href="#type-mut_field" class="anchor"></a><code><span class="keyword">type</span> 'a mut_field</code><code> = &lt; x : <span class="type-var">'a</span>; mut : <a href="../../Orec/Type_data/index.html#type-mut">Orec.Type_data.mut</a>; ret : <span class="type-var">'a</span> option; &gt; <a href="index.html#type-get">get</a></code></dt><dt class="spec type" id="type-exn_field"><a href="#type-exn_field" class="anchor"></a><code><span class="keyword">type</span> 'a exn_field</code><code> = &lt; x : <span class="type-var">'a</span>; mut : <a href="../../Orec/Type_data/index.html#type-imm">Orec.Type_data.imm</a>; ret : <span class="type-var">'a</span>; &gt; <a href="index.html#type-get">get</a></code></dt><dt class="spec type" id="type-exn_mut_field"><a href="#type-exn_mut_field" class="anchor"></a><code><span class="keyword">type</span> 'a exn_mut_field</code><code> = &lt; x : <span class="type-var">'a</span>; mut : <a href="../../Orec/Type_data/index.html#type-mut">Orec.Type_data.mut</a>; ret : <span class="type-var">'a</span>; &gt; <a href="index.html#type-get">get</a></code></dt><dt class="spec type" id="type-update"><a href="#type-update" class="anchor"></a><code><span class="keyword">type</span> ('param, 't) update</code><code> = (<span class="type-var">'param</span> <a href="../../Orec/Type_data/index.html#type-updater">Orec.Type_data.updater</a> * <span class="type-var">'t</span>) <a href="index.html#type-field_action">field_action</a></code></dt></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-t">t</a></code></dt><dd><p>The empty record</p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : (<a href="../../Orec/Type_data/index.html#type-only">Orec.Type_data.only</a> <a href="../../Orec/Type_data/index.html#type-const">Orec.Type_data.const</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a new open record from a list of field updater : <code>create [ field1 ^= value1; field2 ^= value2; ... ] </code> Only const updater make sense in this context, since there is no fields present.</p></dd></dl><dl><dt class="spec value" id="val-new_field"><a href="#val-new_field" class="anchor"></a><code><span class="keyword">val</span> new_field : unit <span>&#45;&gt;</span> <span class="type-var">'ty</span> <a href="index.html#type-field">field</a></code></dt><dd><p>Creation of a new fields. Note that the type 'ty would be weakly polymorphic once the field created. However, in this specific use case, it seems reasonable to annotate the field type by using one of the field type aliases.</p></dd></dl><dl><dt class="spec value" id="val-new_field_mut"><a href="#val-new_field_mut" class="anchor"></a><code><span class="keyword">val</span> new_field_mut : unit <span>&#45;&gt;</span> <span class="type-var">'ty</span> <a href="index.html#type-mut_field">mut_field</a></code></dt><dt class="spec value" id="val-new_field_exn"><a href="#val-new_field_exn" class="anchor"></a><code><span class="keyword">val</span> new_field_exn : unit <span>&#45;&gt;</span> <span class="type-var">'ty</span> <a href="index.html#type-exn_field">exn_field</a></code></dt><dt class="spec value" id="val-new_field_exn_mut"><a href="#val-new_field_exn_mut" class="anchor"></a><code><span class="keyword">val</span> new_field_exn_mut : unit <span>&#45;&gt;</span> <span class="type-var">'ty</span> <a href="index.html#type-exn_mut_field">exn_mut_field</a></code></dt><dt class="spec value" id="val-put"><a href="#val-put" class="anchor"></a><code><span class="keyword">val</span> put : &lt; x : <span class="type-var">'ty</span>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <span>&#45;&gt;</span> (<span class="type-var">_</span> <a href="../../Orec/Type_data/index.html#type-const">Orec.Type_data.const</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt><dd><p>Constant field updater: <code>record.{ field ^= v }</code> sets the value of <code>field</code> to <code>v</code> and is equivalent to <code>record.{ put field v }</code></p></dd></dl><dl><dt class="spec value" id="val-(^=)"><a href="#val-(^=)" class="anchor"></a><code><span class="keyword">val</span> (^=) : &lt; x : <span class="type-var">'ty</span>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <span>&#45;&gt;</span> (<span class="type-var">_</span> <a href="../../Orec/Type_data/index.html#type-const">Orec.Type_data.const</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt><dt class="spec value" id="val-fmap"><a href="#val-fmap" class="anchor"></a><code><span class="keyword">val</span> fmap : &lt; x : <span class="type-var">'ty</span>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'ty</span> <span>&#45;&gt;</span> <span class="type-var">'ty</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="../../Orec/Type_data/index.html#type-fn">Orec.Type_data.fn</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt><dd><p>Field map: <code> record.{field |= f } </code> or <code>record.{ fmap field f }</code> are equivalent to <code>record.{ field ^= fmap f record.{field} }</code> if the field exists, and do nothing otherwise</p></dd></dl><dl><dt class="spec value" id="val-(|=)"><a href="#val-(|=)" class="anchor"></a><code><span class="keyword">val</span> (|=) : &lt; x : <span class="type-var">'ty</span>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'ty</span> <span>&#45;&gt;</span> <span class="type-var">'ty</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="../../Orec/Type_data/index.html#type-fn">Orec.Type_data.fn</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt></dl><aside><p>Field combinator <code> orec.%{ x &amp; y }</code> is <code> orec.%{x}.%{y}</code></p></aside><dl><dt class="spec value" id="val-(&amp;)"><a href="#val-(&amp;)" class="anchor"></a><code><span class="keyword">val</span> (&amp;) : (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a> <span>&#45;&gt;</span> (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a> <span>&#45;&gt;</span> (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt><dt class="spec value" id="val-and_then"><a href="#val-and_then" class="anchor"></a><code><span class="keyword">val</span> and_then : (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a> <span>&#45;&gt;</span> (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a> <span>&#45;&gt;</span> (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt><dt class="spec value" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : &lt; x : <span class="type-var">'ty</span>; mut : <a href="../../Orec/Type_data/index.html#type-mut">Orec.Type_data.mut</a>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="../../Orec/Type_data/index.html#type-fn">Orec.Type_data.fn</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt><dd><p>Copy a mutable field</p></dd></dl><dl><dt class="spec value" id="val-delete"><a href="#val-delete" class="anchor"></a><code><span class="keyword">val</span> delete : &lt; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="../../Orec/Type_data/index.html#type-del">Orec.Type_data.del</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a></code></dt><dd><p>Delete a field, if the field does not exist, do nothing</p></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : &lt; ret : <span class="type-var">'ret</span>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'ret</span></code></dt><dd><p>getter, updater and setter for t</p></dd></dl><dl><dt class="spec value" id="val-update"><a href="#val-update" class="anchor"></a><code><span class="keyword">val</span> update : (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : &lt; x : <span class="type-var">'ty</span>; mut : <a href="../../Orec/Type_data/index.html#type-mut">Orec.Type_data.mut</a>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-(.%{})"><a href="#val-(.%{})" class="anchor"></a><code><span class="keyword">val</span> (.%{}) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">_</span> * <span class="type-var">'ret</span>) <a href="index.html#type-field_action">field_action</a> <span>&#45;&gt;</span> <span class="type-var">'ret</span></code></dt><dd><p><code>(.%{} )</code> operator:</p><ul><li><code> record.%{field} </code> returns the value of the field</li><li><code>record.%{field ^= value}</code> returns a functional update of record</li><li><code> record.%{field |= f} </code> is equivalent to <code> record.{ field ^= f record.{field} } </code></li><li><code> record.%{delete field}</code> returns an updated version of record without this field</li></ul></dd></dl><dl><dt class="spec value" id="val-(.%{}&lt;-)"><a href="#val-(.%{}&lt;-)" class="anchor"></a><code><span class="keyword">val</span> (.%{}&lt;-) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> &lt; x : <span class="type-var">'ty</span>; mut : <a href="../../Orec/Type_data/index.html#type-mut">Orec.Type_data.mut</a>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : &lt; ret : <span class="type-var">'ret</span>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'ret</span></code></dt><dd><p>non-operator version of get,set and update</p></dd></dl><dl><dt class="spec value" id="val-update"><a href="#val-update" class="anchor"></a><code><span class="keyword">val</span> update : (<a href="../../Orec/Type_data/index.html#type-any">Orec.Type_data.any</a>, <a href="index.html#type-t">t</a>) <a href="index.html#type-update">update</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : &lt; x : <span class="type-var">'ty</span>; mut : <a href="../../Orec/Type_data/index.html#type-mut">Orec.Type_data.mut</a>; .. &gt; <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-transmute"><a href="#val-transmute" class="anchor"></a><code><span class="keyword">val</span> transmute : &lt; x : <span class="type-var">'a</span>; mut : <span class="type-var">'m</span>; .. &gt; <span class="keyword">as</span> x <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-bijection">bijection</a> <span>&#45;&gt;</span> &lt; x : <span class="type-var">'b</span>; mut : <span class="type-var">'m</span>; ret : <span class="type-var">'b</span> option; &gt; <a href="index.html#type-get">get</a></code></dt><dd><p>Use the type equality implied by the bijection <code>'a⟺'b</code> to create a new <code>'b</code> field getter from a <code>'a</code> field getter. The new field getter uses option access</p></dd></dl><dl><dt class="spec value" id="val-(@:)"><a href="#val-(@:)" class="anchor"></a><code><span class="keyword">val</span> (@:) : &lt; x : <span class="type-var">'a</span>; mut : <span class="type-var">'m</span>; .. &gt; <span class="keyword">as</span> x <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-bijection">bijection</a> <span>&#45;&gt;</span> &lt; x : <span class="type-var">'b</span>; mut : <span class="type-var">'m</span>; ret : <span class="type-var">'b</span> option; &gt; <a href="index.html#type-get">get</a></code></dt><dd><p>Operator version of <code>transmute</code></p></dd></dl><dl><dt class="spec value" id="val-transmute_exn"><a href="#val-transmute_exn" class="anchor"></a><code><span class="keyword">val</span> transmute_exn : &lt; x : <span class="type-var">'a</span>; mut : <span class="type-var">'m</span>; .. &gt; <span class="keyword">as</span> x <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-bijection">bijection</a> <span>&#45;&gt;</span> &lt; x : <span class="type-var">'b</span>; mut : <span class="type-var">'m</span>; ret : <span class="type-var">'b</span>; &gt; <a href="index.html#type-get">get</a></code></dt><dd><p>exception based version of transmute</p></dd></dl><dl><dt class="spec value" id="val-(@:!)"><a href="#val-(@:!)" class="anchor"></a><code><span class="keyword">val</span> (@:!) : &lt; x : <span class="type-var">'a</span>; mut : <span class="type-var">'m</span>; .. &gt; <span class="keyword">as</span> x <a href="index.html#type-get">get</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-bijection">bijection</a> <span>&#45;&gt;</span> &lt; x : <span class="type-var">'b</span>; mut : <span class="type-var">'m</span>; ret : <span class="type-var">'b</span>; &gt; <a href="index.html#type-get">get</a></code></dt><dd><p>Operator version of <code>transmute_exn</code></p></dd></dl></div></body></html>