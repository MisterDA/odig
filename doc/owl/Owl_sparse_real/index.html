<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Owl_sparse_real (owl.Owl_sparse_real)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">owl</a> &#x00BB; Owl_sparse_real</nav><h1>Module <code>Owl_sparse_real</code></h1><p>Sparse real matrix: this module supports the operations on sparse matrices of real numbers. The module is partly built atop of GSL fucntions. Because GSL only has limited support for sparse matrices. There are some hacks and workarounds in the code.</p><p>In the future, I might use a pure OCaml implementation to replace the current solution. At the moment, use with care and let me know if you find bugs.</p><nav class="toc"><ul><li><a href="#create-sparse-matrices">Create sparse matrices</a></li><li><a href="#obtain-the-basic-properties-of-a-matrix">Obtain the basic properties of a matrix</a></li><li><a href="#manipulate-a-matrix">Manipulate a matrix</a></li><li><a href="#iterate-elements,-columns,-and-rows">Iterate elements, columns, and rows</a></li><li><a href="#examine-the-elements-in-a-matrix">Examine the elements in a matrix</a></li><li><a href="#basic-mathematical-operations-of-matrices">Basic mathematical operations of matrices</a></li><li><a href="#compare-two-matrices">Compare two matrices</a></li><li><a href="#randomisation-functions">Randomisation functions</a></li><li><a href="#input/output-and-helper-functions">Input/Output and helper functions</a></li><li><a href="#shorhand-infix-operators">Shorhand infix operators</a></li></ul></nav></header><dl><dt class="spec type" id="type-spmat"><a href="#type-spmat" class="anchor"></a><code><span class="keyword">type </span>spmat</code></dt><dd><p>Type of sparse matrices. It is defined in <code>types.ml</code> as record type.</p></dd></dl><section><header><h6 id="create-sparse-matrices"><a href="#create-sparse-matrices" class="anchor"></a>Create sparse matrices</h6></header><dl><dt class="spec value" id="val-zeros"><a href="#val-zeros" class="anchor"></a><code><span class="keyword">val </span>zeros : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>zeros m n</code> creates an <code>m</code> by <code>n</code> matrix where all the elements are zeros. This operation is very fast since it only allocates a small amount of memory. The memory will grow automatically as more elements are inserted.</p></dd></dl><dl><dt class="spec value" id="val-ones"><a href="#val-ones" class="anchor"></a><code><span class="keyword">val </span>ones : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>ones m n</code> creates an <code>m</code> by <code>n</code> matrix where all the elements are ones. This operation can be very slow if matrix size is big. You might consider to use dense matrix for better performance in this case.</p></dd></dl><dl><dt class="spec value" id="val-eye"><a href="#val-eye" class="anchor"></a><code><span class="keyword">val </span>eye : int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>eye m</code> creates an <code>m</code> by <code>m</code> identity matrix.</p></dd></dl><dl><dt class="spec value" id="val-binary"><a href="#val-binary" class="anchor"></a><code><span class="keyword">val </span>binary : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>binary m n</code> creates an <code>m</code> by <code>n</code> random matrix where 10% ~ 15% elements are 1.</p></dd></dl><dl><dt class="spec value" id="val-uniform"><a href="#val-uniform" class="anchor"></a><code><span class="keyword">val </span>uniform : ?&#8288;scale:float <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>uniform m n</code> creates an <code>m</code> by <code>n</code> matrix where 10% ~ 15% elements follow a uniform distribution in <code>(0,1)</code> interval. <code>uniform ~scale:a m n</code> adjusts the interval to <code>(0,a)</code>.</p></dd></dl><dl><dt class="spec value" id="val-uniform_int"><a href="#val-uniform_int" class="anchor"></a><code><span class="keyword">val </span>uniform_int : ?&#8288;a:int <span>&#45;&gt;</span> ?&#8288;b:int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>uniform ~a ~b m n</code> creates an <code>m</code> by <code>n</code> matrix where 10% ~ 15% elements follow a uniform distribution in <code>[a, b]</code> interval. By default, <code>a = 0</code> and <code>b = 100</code>.</p></dd></dl><dl><dt class="spec value" id="val-linspace"><a href="#val-linspace" class="anchor"></a><code><span class="keyword">val </span>linspace : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>linspace a b n</code> linearly divides the interval <code>[a,b]</code> into <code>n</code> pieces by creating an <code>m</code> by <code>1</code> row vector. E.g., <code>linspace 0. 5. 5</code> will create a row vector <code>[0;1;2;3;4;5]</code>.</p></dd></dl></section><section><header><h6 id="obtain-the-basic-properties-of-a-matrix"><a href="#obtain-the-basic-properties-of-a-matrix" class="anchor"></a>Obtain the basic properties of a matrix</h6></header><dl><dt class="spec value" id="val-shape"><a href="#val-shape" class="anchor"></a><code><span class="keyword">val </span>shape : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int<span class="keyword"> * </span>int</code></dt><dd><p>If <code>x</code> is an <code>m</code> by <code>n</code> matrix, <code>shape x</code> returns <code>(m,n)</code>, i.e., the size of two dimensions of <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-row_num"><a href="#val-row_num" class="anchor"></a><code><span class="keyword">val </span>row_num : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>row_num x</code> returns the number of rows in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-col_num"><a href="#val-col_num" class="anchor"></a><code><span class="keyword">val </span>col_num : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>col_num x</code> returns the number of columns in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-row_num_nz"><a href="#val-row_num_nz" class="anchor"></a><code><span class="keyword">val </span>row_num_nz : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>row_num_nz x</code> returns the number of non-zero rows in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-col_num_nz"><a href="#val-col_num_nz" class="anchor"></a><code><span class="keyword">val </span>col_num_nz : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>col_num_nz x</code> returns the number of non-zero columns in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-numel"><a href="#val-numel" class="anchor"></a><code><span class="keyword">val </span>numel : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>numel x</code> returns the number of elements in matrix <code>x</code>. It is equivalent to <code>(row_num x) * (col_num x)</code>.</p></dd></dl><dl><dt class="spec value" id="val-nnz"><a href="#val-nnz" class="anchor"></a><code><span class="keyword">val </span>nnz : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>nnz x</code> returns the number of non-zero elements in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-nnz_rows"><a href="#val-nnz_rows" class="anchor"></a><code><span class="keyword">val </span>nnz_rows : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int array</code></dt><dd><p><code>nnz_rows x</code> returns the number of non-zero rows in matrix <code>x</code>. A non-zero row means there is at least one non-zero element in that row.</p></dd></dl><dl><dt class="spec value" id="val-nnz_cols"><a href="#val-nnz_cols" class="anchor"></a><code><span class="keyword">val </span>nnz_cols : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int array</code></dt><dd><p><code>nnz_cols x</code> returns the number of non-zero cols in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-density"><a href="#val-density" class="anchor"></a><code><span class="keyword">val </span>density : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>density x</code> returns the density of non-zero element. This operation is equivalent to <code>nnz x</code> divided by <code>numel x</code>.</p></dd></dl></section><section><header><h6 id="manipulate-a-matrix"><a href="#manipulate-a-matrix" class="anchor"></a>Manipulate a matrix</h6></header><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val </span>get : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float</code></dt><dd><p><code>get x i j</code> returns the value of element <code>(i,j)</code> of <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val </span>set : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set x i j a</code> sets the element <code>(i,j)</code> of <code>x</code> to value <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-reset"><a href="#val-reset" class="anchor"></a><code><span class="keyword">val </span>reset : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>reset x</code> resets all the elements in <code>x</code> to <code>0</code>.</p></dd></dl><dl><dt class="spec value" id="val-clone"><a href="#val-clone" class="anchor"></a><code><span class="keyword">val </span>clone : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>clone x</code> makes an exact copy of matrix <code>x</code>. Note that the clone becomes mutable no matter <code>w</code> is mutable or not. This is expecially useful if you want to modify certain elements in an immutable matrix from math operations.</p></dd></dl><dl><dt class="spec value" id="val-transpose"><a href="#val-transpose" class="anchor"></a><code><span class="keyword">val </span>transpose : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>transpose x</code> transposes an <code>m</code> by <code>n</code> matrix to <code>n</code> by <code>m</code> one.</p></dd></dl><dl><dt class="spec value" id="val-diag"><a href="#val-diag" class="anchor"></a><code><span class="keyword">val </span>diag : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>diag x</code> returns the diagonal elements of <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-trace"><a href="#val-trace" class="anchor"></a><code><span class="keyword">val </span>trace : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>trace x</code> returns the sum of diagonal elements in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-row"><a href="#val-row" class="anchor"></a><code><span class="keyword">val </span>row : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>row x i</code> returns the row <code>i</code> of <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-col"><a href="#val-col" class="anchor"></a><code><span class="keyword">val </span>col : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>col x j</code> returns the column <code>j</code> of <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-rows"><a href="#val-rows" class="anchor"></a><code><span class="keyword">val </span>rows : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int array <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>rows x a</code> returns the rows (defined in an int array <code>a</code>) of <code>x</code>. The returned rows will be combined into a new sparse matrix. The order of rows in the new matrix is the same as that in the array <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-cols"><a href="#val-cols" class="anchor"></a><code><span class="keyword">val </span>cols : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int array <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Similar to <code>rows</code>, <code>cols x a</code> returns the columns (specified in array <code>a</code>) of x in a new sparse matrix.</p></dd></dl></section><section><header><h6 id="iterate-elements,-columns,-and-rows"><a href="#iterate-elements,-columns,-and-rows" class="anchor"></a>Iterate elements, columns, and rows</h6></header><dl><dt class="spec value" id="val-iteri"><a href="#val-iteri" class="anchor"></a><code><span class="keyword">val </span>iteri : (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri f x</code> iterates all the elements in <code>x</code> and applies the user defined function <code>f : int -&gt; int -&gt; float -&gt; 'a</code>. <code>f i j v</code> takes three parameters, <code>i</code> and <code>j</code> are the coordinates of current element, and <code>v</code> is its value.</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val </span>iter : (float <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter f x</code> is the same as as <code>iteri f x</code> except the coordinates of the current element is not passed to the function <code>f : float -&gt; 'a</code></p></dd></dl><dl><dt class="spec value" id="val-mapi"><a href="#val-mapi" class="anchor"></a><code><span class="keyword">val </span>mapi : (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>mapi f x</code> maps each element in <code>x</code> to a new value by applying <code>f : int -&gt; int -&gt; float -&gt; float</code>. The first two parameters are the coordinates of the element, and the third parameter is the value.</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : (float <span>&#45;&gt;</span> float) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>map f x</code> is similar to <code>mapi f x</code> except the coordinates of the current element is not passed to the function <code>f : float -&gt; float</code></p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val </span>fold : (<span class="type-var">'a</span> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold f a x</code> folds all the elements in <code>x</code> with the function <code>f : 'a -&gt; float -&gt; 'a</code>. For an <code>m</code> by <code>n</code> matrix <code>x</code>, the order of folding is from <code>(0,0)</code> to <code>(m-1,n-1)</code>, row by row.</p></dd></dl><dl><dt class="spec value" id="val-filteri"><a href="#val-filteri" class="anchor"></a><code><span class="keyword">val </span>filteri : (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span>int) array</code></dt><dd><p><code>filteri f x</code> uses <code>f : int -&gt; int -&gt; float -&gt; bool</code> to filter out certain elements in <code>x</code>. An element will be included if <code>f</code> returns <code>true</code>. The returned result is a list of coordinates of the selected elements.</p></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val </span>filter : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span>int) array</code></dt><dd><p>Similar to <code>filteri</code>, but the coordinates of the elements are not passed to the function <code>f : float -&gt; bool</code>.</p></dd></dl><dl><dt class="spec value" id="val-iteri_rows"><a href="#val-iteri_rows" class="anchor"></a><code><span class="keyword">val </span>iteri_rows : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri_rows f x</code> iterates every row in <code>x</code> and applies function <code>f : int -&gt; spmat -&gt; unit</code> to each of them.</p></dd></dl><dl><dt class="spec value" id="val-iter_rows"><a href="#val-iter_rows" class="anchor"></a><code><span class="keyword">val </span>iter_rows : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Similar to <code>iteri_rows</code> except row number is not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-iteri_cols"><a href="#val-iteri_cols" class="anchor"></a><code><span class="keyword">val </span>iteri_cols : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri_cols f x</code> iterates every column in <code>x</code> and applies function <code>f : int -&gt; spmat -&gt; unit</code> to each of them. Column number is passed to <code>f</code> as the first parameter.</p></dd></dl><dl><dt class="spec value" id="val-iter_cols"><a href="#val-iter_cols" class="anchor"></a><code><span class="keyword">val </span>iter_cols : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Similar to <code>iteri_cols</code> except col number is not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-mapi_rows"><a href="#val-mapi_rows" class="anchor"></a><code><span class="keyword">val </span>mapi_rows : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p><code>mapi_rows f x</code> maps every row in <code>x</code> to a type <code>'a</code> value by applying function <code>f : int -&gt; spmat -&gt; 'a</code> to each of them. The results is an array of all the returned values.</p></dd></dl><dl><dt class="spec value" id="val-map_rows"><a href="#val-map_rows" class="anchor"></a><code><span class="keyword">val </span>map_rows : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p>Similar to <code>mapi_rows</code> except row number is not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-mapi_cols"><a href="#val-mapi_cols" class="anchor"></a><code><span class="keyword">val </span>mapi_cols : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p><code>mapi_cols f x</code> maps every column in <code>x</code> to a type <code>'a</code> value by applying function <code>f : int -&gt; spmat -&gt; 'a</code>.</p></dd></dl><dl><dt class="spec value" id="val-map_cols"><a href="#val-map_cols" class="anchor"></a><code><span class="keyword">val </span>map_cols : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p>Similar to <code>mapi_cols</code> except column number is not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-fold_rows"><a href="#val-fold_rows" class="anchor"></a><code><span class="keyword">val </span>fold_rows : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_rows f a x</code> folds all the rows in <code>x</code> using function <code>f</code>. The order of folding is from the first row to the last one.</p></dd></dl><dl><dt class="spec value" id="val-fold_cols"><a href="#val-fold_cols" class="anchor"></a><code><span class="keyword">val </span>fold_cols : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_cols f a x</code> folds all the columns in <code>x</code> using function <code>f</code>. The order of folding is from the first column to the last one.</p></dd></dl><dl><dt class="spec value" id="val-iteri_nz"><a href="#val-iteri_nz" class="anchor"></a><code><span class="keyword">val </span>iteri_nz : (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri_nz f x</code> iterates all the non-zero elements in <code>x</code> by applying the function <code>f : int -&gt; int -&gt; float -&gt; 'a</code>. It is much faster than <code>iteri</code>.</p></dd></dl><dl><dt class="spec value" id="val-iter_nz"><a href="#val-iter_nz" class="anchor"></a><code><span class="keyword">val </span>iter_nz : (float <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Similar to <code>iter_nz</code> except the coordinates of elements are not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-mapi_nz"><a href="#val-mapi_nz" class="anchor"></a><code><span class="keyword">val </span>mapi_nz : (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>mapi_nz f x</code> is similar to <code>mapi f x</code> but only applies <code>f</code> to non-zero elements in <code>x</code>. The zeros in <code>x</code> will remain the same in the new matrix.</p></dd></dl><dl><dt class="spec value" id="val-map_nz"><a href="#val-map_nz" class="anchor"></a><code><span class="keyword">val </span>map_nz : (float <span>&#45;&gt;</span> float) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Similar to <code>mapi_nz</code> except the coordinates of elements are not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-fold_nz"><a href="#val-fold_nz" class="anchor"></a><code><span class="keyword">val </span>fold_nz : (<span class="type-var">'a</span> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_nz f a x</code> is similar to <code>fold f a x</code> but only applies to non-zero rows in <code>x</code>. zero rows will be simply skipped in folding.</p></dd></dl><dl><dt class="spec value" id="val-filteri_nz"><a href="#val-filteri_nz" class="anchor"></a><code><span class="keyword">val </span>filteri_nz : (int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span>int) array</code></dt><dd><p><code>filteri_nz f x</code> is similar to <code>filter f x</code> but only applies <code>f</code> to non-zero elements in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-filter_nz"><a href="#val-filter_nz" class="anchor"></a><code><span class="keyword">val </span>filter_nz : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span>int) array</code></dt><dd><p><code>filter_nz f x</code> is similar to <code>filteri_nz</code> except that the coordinates of matrix elements are not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-iteri_rows_nz"><a href="#val-iteri_rows_nz" class="anchor"></a><code><span class="keyword">val </span>iteri_rows_nz : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri_rows_nz f x</code> is similar to <code>iteri_rows</code> but only applies <code>f</code> to non-zero rows in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-iter_rows_nz"><a href="#val-iter_rows_nz" class="anchor"></a><code><span class="keyword">val </span>iter_rows_nz : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Similar to <code>iteri_rows_nz</code> except that row numbers are not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-iteri_cols_nz"><a href="#val-iteri_cols_nz" class="anchor"></a><code><span class="keyword">val </span>iteri_cols_nz : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri_cols_nz f x</code> is similar to <code>iteri_cols</code> but only applies <code>f</code> to non-zero columns in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-iter_cols_nz"><a href="#val-iter_cols_nz" class="anchor"></a><code><span class="keyword">val </span>iter_cols_nz : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Similar to <code>iteri_cols_nz</code> except that column numbers are not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-mapi_rows_nz"><a href="#val-mapi_rows_nz" class="anchor"></a><code><span class="keyword">val </span>mapi_rows_nz : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p><code>mapi_rows_nz f x</code> applies <code>f</code> only to the non-zero rows in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-map_rows_nz"><a href="#val-map_rows_nz" class="anchor"></a><code><span class="keyword">val </span>map_rows_nz : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p>Similar to <code>mapi_rows_nz</code>, but row numbers are not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-mapi_cols_nz"><a href="#val-mapi_cols_nz" class="anchor"></a><code><span class="keyword">val </span>mapi_cols_nz : (int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p><code>mapi_cols_nz f x</code> applies <code>f</code> only to the non-zero columns in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-map_cols_nz"><a href="#val-map_cols_nz" class="anchor"></a><code><span class="keyword">val </span>map_cols_nz : (<a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array</code></dt><dd><p>Similar to <code>mapi_cols_nz</code>, but columns numbers are not passed to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-fold_rows_nz"><a href="#val-fold_rows_nz" class="anchor"></a><code><span class="keyword">val </span>fold_rows_nz : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_rows_nz f a x</code> is similar to <code>fold_rows</code> but only folds non-zero rows in <code>x</code> using function <code>f</code>. Zero rows will be dropped in iterating <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-fold_cols_nz"><a href="#val-fold_cols_nz" class="anchor"></a><code><span class="keyword">val </span>fold_cols_nz : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_cols_nz f a x</code> is similar to <code>fold_cols</code> but only folds non-zero columns in <code>x</code> using function <code>f</code>. Zero columns will be dropped in iterating <code>x</code>.</p></dd></dl></section><section><header><h6 id="examine-the-elements-in-a-matrix"><a href="#examine-the-elements-in-a-matrix" class="anchor"></a>Examine the elements in a matrix</h6></header><dl><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val </span>exists : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>exists f x</code> checks all the elements in <code>x</code> using <code>f</code>. If at least one element satisfies <code>f</code> then the function returns <code>true</code> otherwise <code>false</code>.</p></dd></dl><dl><dt class="spec value" id="val-not_exists"><a href="#val-not_exists" class="anchor"></a><code><span class="keyword">val </span>not_exists : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>not_exists f x</code> checks all the elements in <code>x</code>, the function returns <code>true</code> only if all the elements fail to satisfy <code>f : float -&gt; bool</code>.</p></dd></dl><dl><dt class="spec value" id="val-for_all"><a href="#val-for_all" class="anchor"></a><code><span class="keyword">val </span>for_all : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>for_all f x</code> checks all the elements in <code>x</code>, the function returns <code>true</code> if and only if all the elements pass the check of function <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-exists_nz"><a href="#val-exists_nz" class="anchor"></a><code><span class="keyword">val </span>exists_nz : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>exists_nz f x</code> is similar to <code>exists</code> but only checks non-zero elements.</p></dd></dl><dl><dt class="spec value" id="val-not_exists_nz"><a href="#val-not_exists_nz" class="anchor"></a><code><span class="keyword">val </span>not_exists_nz : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>not_exists_nz f x</code> is similar to <code>not_exists</code> but only checks non-zero elements.</p></dd></dl><dl><dt class="spec value" id="val-for_all_nz"><a href="#val-for_all_nz" class="anchor"></a><code><span class="keyword">val </span>for_all_nz : (float <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>for_all_nz f x</code> is similar to <code>for_all_nz</code> but only checks non-zero elements.</p></dd></dl></section><section><header><h6 id="basic-mathematical-operations-of-matrices"><a href="#basic-mathematical-operations-of-matrices" class="anchor"></a>Basic mathematical operations of matrices</h6></header><dl><dt class="spec value" id="val-mul_scalar"><a href="#val-mul_scalar" class="anchor"></a><code><span class="keyword">val </span>mul_scalar : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>mul_scalar x a</code> multiplies every element in <code>x</code> by a constant factor <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-div_scalar"><a href="#val-div_scalar" class="anchor"></a><code><span class="keyword">val </span>div_scalar : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>div_scalar x a</code> divides every element in <code>x</code> by a constant factor <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val </span>add : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>add x y</code> adds two matrices <code>x</code> and <code>y</code>. Both must have the same dimensions.</p></dd></dl><dl><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val </span>sub : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>sub x y</code> subtracts the matrix <code>x</code> from <code>y</code>. Both must have the same dimensions.</p></dd></dl><dl><dt class="spec value" id="val-mul"><a href="#val-mul" class="anchor"></a><code><span class="keyword">val </span>mul : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>mul x y</code> performs an element-wise multiplication, so both <code>x</code> and <code>y</code> must have the same dimensions.</p></dd></dl><dl><dt class="spec value" id="val-div"><a href="#val-div" class="anchor"></a><code><span class="keyword">val </span>div : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>div x y</code> performs an element-wise division, so both <code>x</code> and <code>y</code> must have the same dimensions.</p></dd></dl><dl><dt class="spec value" id="val-dot"><a href="#val-dot" class="anchor"></a><code><span class="keyword">val </span>dot : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>dot x y</code> calculates the dot product of an <code>m</code> by <code>n</code> matrix <code>x</code> and another <code>n</code> by <code>p</code> matrix <code>y</code>.</p></dd></dl><dl><dt class="spec value" id="val-abs"><a href="#val-abs" class="anchor"></a><code><span class="keyword">val </span>abs : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>abs x</code> returns a new matrix where each element has the absolute value of that in the original matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-neg"><a href="#val-neg" class="anchor"></a><code><span class="keyword">val </span>neg : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>neg x</code> returns a new matrix where each element has the negative value of that in the original matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span class="keyword">val </span>sum : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>sum x</code> returns the summation of all the elements in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-average"><a href="#val-average" class="anchor"></a><code><span class="keyword">val </span>average : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>average x</code> returns the average value of all the elements in <code>x</code>. It is equivalent to calculate <code>sum x</code> divided by <code>numel x</code></p></dd></dl><dl><dt class="spec value" id="val-power"><a href="#val-power" class="anchor"></a><code><span class="keyword">val </span>power : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>power x a</code> calculates the power of <code>a</code> of each element in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-is_zero"><a href="#val-is_zero" class="anchor"></a><code><span class="keyword">val </span>is_zero : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_zero x</code> returns <code>true</code> if all the elements in <code>x</code> are zeros.</p></dd></dl><dl><dt class="spec value" id="val-is_positive"><a href="#val-is_positive" class="anchor"></a><code><span class="keyword">val </span>is_positive : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_positive x</code> returns <code>true</code> if all the elements in <code>x</code> are positive.</p></dd></dl><dl><dt class="spec value" id="val-is_negative"><a href="#val-is_negative" class="anchor"></a><code><span class="keyword">val </span>is_negative : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_negative x</code> returns <code>true</code> if all the elements in <code>x</code> are negative.</p></dd></dl><dl><dt class="spec value" id="val-is_nonnegative"><a href="#val-is_nonnegative" class="anchor"></a><code><span class="keyword">val </span>is_nonnegative : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_nonnegative</code> returns <code>true</code> if all the elements in <code>x</code> are non-negative.</p></dd></dl><dl><dt class="spec value" id="val-min"><a href="#val-min" class="anchor"></a><code><span class="keyword">val </span>min : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>min x</code> returns the minimum value of all elements in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-max"><a href="#val-max" class="anchor"></a><code><span class="keyword">val </span>max : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float</code></dt><dd><p><code>max x</code> returns the maximum value of all elements in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-minmax"><a href="#val-minmax" class="anchor"></a><code><span class="keyword">val </span>minmax : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float<span class="keyword"> * </span>float</code></dt><dd><p><code>minmax x</code> returns both the minimum and minimum values in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-sum_rows"><a href="#val-sum_rows" class="anchor"></a><code><span class="keyword">val </span>sum_rows : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>sum_rows x</code> returns the summation of all the row vectors in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-sum_cols"><a href="#val-sum_cols" class="anchor"></a><code><span class="keyword">val </span>sum_cols : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>sum_cols</code> returns the summation of all the column vectors in <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-average_rows"><a href="#val-average_rows" class="anchor"></a><code><span class="keyword">val </span>average_rows : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>average_rows x</code> returns the average value of all row vectors in <code>x</code>. It is equivalent to <code>div_scalar (sum_rows x) (float_of_int (row_num x))</code>.</p></dd></dl><dl><dt class="spec value" id="val-average_cols"><a href="#val-average_cols" class="anchor"></a><code><span class="keyword">val </span>average_cols : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>average_cols x</code> returns the average value of all column vectors in <code>x</code>. It is equivalent to <code>div_scalar (sum_cols x) (float_of_int (col_num x))</code>.</p></dd></dl></section><section><header><h6 id="compare-two-matrices"><a href="#compare-two-matrices" class="anchor"></a>Compare two matrices</h6></header><dl><dt class="spec value" id="val-is_equal"><a href="#val-is_equal" class="anchor"></a><code><span class="keyword">val </span>is_equal : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_equal x y</code> returns <code>true</code> if two matrices <code>x</code> and <code>y</code> are equal.</p></dd></dl><dl><dt class="spec value" id="val-is_unequal"><a href="#val-is_unequal" class="anchor"></a><code><span class="keyword">val </span>is_unequal : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_unequal x y</code> returns <code>true</code> if there is at least one element in <code>x</code> is not equal to that in <code>y</code>.</p></dd></dl><dl><dt class="spec value" id="val-is_greater"><a href="#val-is_greater" class="anchor"></a><code><span class="keyword">val </span>is_greater : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_greater x y</code> returns <code>true</code> if all the elements in <code>x</code> are greater than the corresponding elements in <code>y</code>.</p></dd></dl><dl><dt class="spec value" id="val-is_smaller"><a href="#val-is_smaller" class="anchor"></a><code><span class="keyword">val </span>is_smaller : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_smaller x y</code> returns <code>true</code> if all the elements in <code>x</code> are smaller than the corresponding elements in <code>y</code>.</p></dd></dl><dl><dt class="spec value" id="val-equal_or_greater"><a href="#val-equal_or_greater" class="anchor"></a><code><span class="keyword">val </span>equal_or_greater : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>equal_or_greater x y</code> returns <code>true</code> if all the elements in <code>x</code> are not smaller than the corresponding elements in <code>y</code>.</p></dd></dl><dl><dt class="spec value" id="val-equal_or_smaller"><a href="#val-equal_or_smaller" class="anchor"></a><code><span class="keyword">val </span>equal_or_smaller : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>equal_or_smaller x y</code> returns <code>true</code> if all the elements in <code>x</code> are not greater than the corresponding elements in <code>y</code>.</p></dd></dl></section><section><header><h6 id="randomisation-functions"><a href="#randomisation-functions" class="anchor"></a>Randomisation functions</h6></header><dl><dt class="spec value" id="val-permutation_matrix"><a href="#val-permutation_matrix" class="anchor"></a><code><span class="keyword">val </span>permutation_matrix : int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>permutation_matrix m</code> returns an <code>m</code> by <code>m</code> permutation matrix.</p></dd></dl><dl><dt class="spec value" id="val-draw_rows"><a href="#val-draw_rows" class="anchor"></a><code><span class="keyword">val </span>draw_rows : ?&#8288;replacement:bool <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a><span class="keyword"> * </span>int array</code></dt><dd><p><code>draw_rows x m</code> draws <code>m</code> rows randomly from <code>x</code>. The row indices are also returned in an int array along with the selected rows. The parameter <code>replacement</code> indicates whether the drawing is by replacement or not.</p></dd></dl><dl><dt class="spec value" id="val-draw_cols"><a href="#val-draw_cols" class="anchor"></a><code><span class="keyword">val </span>draw_cols : ?&#8288;replacement:bool <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a><span class="keyword"> * </span>int array</code></dt><dd><p><code>draw_cols x m</code> draws <code>m</code> cols randomly from <code>x</code>. The column indices are also returned in an int array along with the selected columns. The parameter <code>replacement</code> indicates whether the drawing is by replacement or not.</p></dd></dl><dl><dt class="spec value" id="val-shuffle_rows"><a href="#val-shuffle_rows" class="anchor"></a><code><span class="keyword">val </span>shuffle_rows : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>shuffle_rows x</code> shuffles all the rows in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-shuffle_cols"><a href="#val-shuffle_cols" class="anchor"></a><code><span class="keyword">val </span>shuffle_cols : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>shuffle_cols x</code> shuffles all the columns in matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-shuffle"><a href="#val-shuffle" class="anchor"></a><code><span class="keyword">val </span>shuffle : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>shuffle x</code> shuffles all the elements in <code>x</code> by first shuffling along the rows then shuffling along columns. It is equivalent to <code>shuffle_cols (shuffle_rows x)</code>.</p></dd></dl></section><section><header><h6 id="input/output-and-helper-functions"><a href="#input/output-and-helper-functions" class="anchor"></a>Input/Output and helper functions</h6></header><dl><dt class="spec value" id="val-to_dense"><a href="#val-to_dense" class="anchor"></a><code><span class="keyword">val </span>to_dense : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> Owl_dense_real.mat</code></dt><dd><p><code>to_dense x</code> converts <code>x</code> into a dense matrix.</p></dd></dl><dl><dt class="spec value" id="val-of_dense"><a href="#val-of_dense" class="anchor"></a><code><span class="keyword">val </span>of_dense : Owl_dense_real.mat <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>of_dense x</code> returns a sparse matrix from the dense matrix <code>x</code>.</p></dd></dl><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val </span>print : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>print x</code> pretty prints matrix <code>x</code> without headings.</p></dd></dl><dl><dt class="spec value" id="val-pp_spmat"><a href="#val-pp_spmat" class="anchor"></a><code><span class="keyword">val </span>pp_spmat : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>pp_spmat x</code> pretty prints matrix <code>x</code> with headings. Toplevel uses this function to print out the matrices.</p></dd></dl><dl><dt class="spec value" id="val-save"><a href="#val-save" class="anchor"></a><code><span class="keyword">val </span>save : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>save x f</code> saves the matrix <code>x</code> to a file with the name <code>f</code>. The format is binary by using <code>Marshal</code> module to serialise the matrix.</p></dd></dl><dl><dt class="spec value" id="val-load"><a href="#val-load" class="anchor"></a><code><span class="keyword">val </span>load : string <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p><code>load f</code> loads a sparse matrix from file <code>f</code>. The file must be previously saved by using <code>save</code> function.</p></dd></dl></section><section><header><h6 id="shorhand-infix-operators"><a href="#shorhand-infix-operators" class="anchor"></a>Shorhand infix operators</h6></header><dl><dt class="spec value" id="val-(+@)"><a href="#val-(+@)" class="anchor"></a><code><span class="keyword">val </span>(+@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>add x y</code>, i.e., <code>x +@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(-@)"><a href="#val-(-@)" class="anchor"></a><code><span class="keyword">val </span>(-@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>sub x y</code>, i.e., <code>x -@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(*@)"><a href="#val-(*@)" class="anchor"></a><code><span class="keyword">val </span>(*@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>mul x y</code>, i.e., <code>x *@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(/@)"><a href="#val-(/@)" class="anchor"></a><code><span class="keyword">val </span>(/@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>div x y</code>, i.e., <code>x /@ y</code></p></dd></dl><dl><dt class="spec value" id="val-($@)"><a href="#val-($@)" class="anchor"></a><code><span class="keyword">val </span>($@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>dot x y</code>, i.e., <code>x $@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(**@)"><a href="#val-(**@)" class="anchor"></a><code><span class="keyword">val </span>(**@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>power x a</code>, i.e., <code>x **@ a</code></p></dd></dl><dl><dt class="spec value" id="val-(*$)"><a href="#val-(*$)" class="anchor"></a><code><span class="keyword">val </span>(*$) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>mul_scalar x a</code>, i.e., <code>x *$ a</code></p></dd></dl><dl><dt class="spec value" id="val-(/$)"><a href="#val-(/$)" class="anchor"></a><code><span class="keyword">val </span>(/$) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>div_scalar x a</code>, i.e., <code>x /$ a</code></p></dd></dl><dl><dt class="spec value" id="val-($*)"><a href="#val-($*)" class="anchor"></a><code><span class="keyword">val </span>($*) : float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>mul_scalar x a</code>, i.e., <code>x $* a</code></p></dd></dl><dl><dt class="spec value" id="val-($/)"><a href="#val-($/)" class="anchor"></a><code><span class="keyword">val </span>($/) : float <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>div_scalar x a</code>, i.e., <code>x $/ a</code></p></dd></dl><dl><dt class="spec value" id="val-(=@)"><a href="#val-(=@)" class="anchor"></a><code><span class="keyword">val </span>(=@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Shorthand for <code>is_equal x y</code>, i.e., <code>x =@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(&gt;@)"><a href="#val-(&gt;@)" class="anchor"></a><code><span class="keyword">val </span>(&gt;@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Shorthand for <code>is_greater x y</code>, i.e., <code>x &gt;@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(&lt;@)"><a href="#val-(&lt;@)" class="anchor"></a><code><span class="keyword">val </span>(&lt;@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Shorthand for <code>is_smaller x y</code>, i.e., <code>x &lt;@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(&lt;&gt;@)"><a href="#val-(&lt;&gt;@)" class="anchor"></a><code><span class="keyword">val </span>(&lt;&gt;@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Shorthand for <code>is_unequal x y</code>, i.e., <code>x &lt;&gt;@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(&gt;=@)"><a href="#val-(&gt;=@)" class="anchor"></a><code><span class="keyword">val </span>(&gt;=@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Shorthand for <code>equal_or_greater x y</code>, i.e., <code>x &gt;=@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(&lt;=@)"><a href="#val-(&lt;=@)" class="anchor"></a><code><span class="keyword">val </span>(&lt;=@) : <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Shorthand for <code>equal_or_smaller x y</code>, i.e., <code>x &lt;=@ y</code></p></dd></dl><dl><dt class="spec value" id="val-(@@)"><a href="#val-(@@)" class="anchor"></a><code><span class="keyword">val </span>(@@) : (float <span>&#45;&gt;</span> float) <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a> <span>&#45;&gt;</span> <a href="index.html#type-spmat">spmat</a></code></dt><dd><p>Shorthand for <code>map f x</code>, i.e., f @@ x</p></dd></dl></section></div></body></html>