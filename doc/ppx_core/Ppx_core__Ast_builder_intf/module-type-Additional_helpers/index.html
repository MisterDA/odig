<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Additional_helpers (ppx_core.Ppx_core__Ast_builder_intf.Additional_helpers)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">ppx_core</a> &#x00BB; <a href="../index.html">Ppx_core__Ast_builder_intf</a> &#x00BB; Additional_helpers</nav><h1>Module type <code>Ppx_core__Ast_builder_intf.Additional_helpers</code></h1></header><dl><dt class="spec type" id="type-with_loc"><a href="#type-with_loc" class="anchor"></a><code><span class="keyword">type </span>'a with_loc</code></dt></dl><dl><dt class="spec value" id="val-eint"><a href="#val-eint" class="anchor"></a><code><span class="keyword">val </span>eint : (Ppx_core__.Import.int <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-echar"><a href="#val-echar" class="anchor"></a><code><span class="keyword">val </span>echar : (Ppx_core__.Import.char <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-estring"><a href="#val-estring" class="anchor"></a><code><span class="keyword">val </span>estring : (Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-efloat"><a href="#val-efloat" class="anchor"></a><code><span class="keyword">val </span>efloat : (Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-eint32"><a href="#val-eint32" class="anchor"></a><code><span class="keyword">val </span>eint32 : (Ppx_core__.Import.int32 <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-eint64"><a href="#val-eint64" class="anchor"></a><code><span class="keyword">val </span>eint64 : (Ppx_core__.Import.int64 <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-enativeint"><a href="#val-enativeint" class="anchor"></a><code><span class="keyword">val </span>enativeint : (Ppx_core__.Import.nativeint <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-ebool"><a href="#val-ebool" class="anchor"></a><code><span class="keyword">val </span>ebool : (Ppx_core__.Import.bool <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pint"><a href="#val-pint" class="anchor"></a><code><span class="keyword">val </span>pint : (Ppx_core__.Import.int <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pchar"><a href="#val-pchar" class="anchor"></a><code><span class="keyword">val </span>pchar : (Ppx_core__.Import.char <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pstring"><a href="#val-pstring" class="anchor"></a><code><span class="keyword">val </span>pstring : (Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pfloat"><a href="#val-pfloat" class="anchor"></a><code><span class="keyword">val </span>pfloat : (Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pint32"><a href="#val-pint32" class="anchor"></a><code><span class="keyword">val </span>pint32 : (Ppx_core__.Import.int32 <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pint64"><a href="#val-pint64" class="anchor"></a><code><span class="keyword">val </span>pint64 : (Ppx_core__.Import.int64 <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pnativeint"><a href="#val-pnativeint" class="anchor"></a><code><span class="keyword">val </span>pnativeint : (Ppx_core__.Import.nativeint <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pbool"><a href="#val-pbool" class="anchor"></a><code><span class="keyword">val </span>pbool : (Ppx_core__.Import.bool <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-eunit"><a href="#val-eunit" class="anchor"></a><code><span class="keyword">val </span>eunit : Ppx_core__.Import.expression <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-punit"><a href="#val-punit" class="anchor"></a><code><span class="keyword">val </span>punit : Ppx_core__.Import.pattern <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-evar"><a href="#val-evar" class="anchor"></a><code><span class="keyword">val </span>evar : (Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dd><p><code>evar id</code> produces a <code>Pexp_ident _</code> expression, it parses its input so you can pass any dot-separated identifier, for instance: <code>evar ~loc &quot;Foo.bar&quot;</code>.</p></dd></dl><dl><dt class="spec value" id="val-pvar"><a href="#val-pvar" class="anchor"></a><code><span class="keyword">val </span>pvar : (Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-eapply"><a href="#val-eapply" class="anchor"></a><code><span class="keyword">val </span>eapply : (Ppx_core__.Import.expression <span>&#45;&gt;</span> Ppx_core__.Import.expression Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dd><p>Same as pexp_apply but without labels</p></dd></dl><dl><dt class="spec value" id="val-eabstract"><a href="#val-eabstract" class="anchor"></a><code><span class="keyword">val </span>eabstract : (Ppx_core__.Import.pattern Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.expression <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-esequence"><a href="#val-esequence" class="anchor"></a><code><span class="keyword">val </span>esequence : (Ppx_core__.Import.expression Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-ppat_tuple_opt"><a href="#val-ppat_tuple_opt" class="anchor"></a><code><span class="keyword">val </span>ppat_tuple_opt : (Ppx_core__.Import.pattern Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.pattern Ppx_core__.Import.option) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pexp_tuple_opt"><a href="#val-pexp_tuple_opt" class="anchor"></a><code><span class="keyword">val </span>pexp_tuple_opt : (Ppx_core__.Import.expression Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.expression Ppx_core__.Import.option) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pconstruct"><a href="#val-pconstruct" class="anchor"></a><code><span class="keyword">val </span>pconstruct : Ppx_core__.Import.constructor_declaration <span>&#45;&gt;</span> Ppx_core__.Import.pattern Ppx_core__.Import.option <span>&#45;&gt;</span> Ppx_core__.Import.pattern</code></dt><dt class="spec value" id="val-econstruct"><a href="#val-econstruct" class="anchor"></a><code><span class="keyword">val </span>econstruct : Ppx_core__.Import.constructor_declaration <span>&#45;&gt;</span> Ppx_core__.Import.expression Ppx_core__.Import.option <span>&#45;&gt;</span> Ppx_core__.Import.expression</code></dt><dt class="spec value" id="val-elist"><a href="#val-elist" class="anchor"></a><code><span class="keyword">val </span>elist : (Ppx_core__.Import.expression Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-plist"><a href="#val-plist" class="anchor"></a><code><span class="keyword">val </span>plist : (Ppx_core__.Import.pattern Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.pattern) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-pstr_value_list"><a href="#val-pstr_value_list" class="anchor"></a><code><span class="keyword">val </span>pstr_value_list : loc:Ppx_core__.Location.t <span>&#45;&gt;</span> Ppx_core__.Import.Asttypes.rec_flag <span>&#45;&gt;</span> Ppx_core__.Import.value_binding Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.structure_item Ppx_core__.Import.list</code></dt><dd><p><code>pstr_value_list ~loc rf vbs</code> = <code>pstr_value ~loc rf vbs</code> if <code>vbs &lt;&gt; []</code>, <code>[]</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-nonrec_type_declaration"><a href="#val-nonrec_type_declaration" class="anchor"></a><code><span class="keyword">val </span>nonrec_type_declaration : (name:Ppx_core__.Import.string Ppx_core__.Loc.t <span>&#45;&gt;</span> params:(Ppx_core__.Import.core_type<span class="keyword"> * </span>Ppx_core__.Import.Asttypes.variance) Ppx_core__.Import.list <span>&#45;&gt;</span> cstrs:(Ppx_core__.Import.core_type<span class="keyword"> * </span>Ppx_core__.Import.core_type<span class="keyword"> * </span>Ppx_core__.Location.t) Ppx_core__.Import.list <span>&#45;&gt;</span> kind:Ppx_core__.Import.type_kind <span>&#45;&gt;</span> private_:Ppx_core__.Import.Asttypes.private_flag <span>&#45;&gt;</span> manifest:Ppx_core__.Import.core_type Ppx_core__.Import.option <span>&#45;&gt;</span> Ppx_core__.Import.type_declaration) <a href="index.html#type-with_loc">with_loc</a></code></dt><dt class="spec value" id="val-unapplied_type_constr_conv"><a href="#val-unapplied_type_constr_conv" class="anchor"></a><code><span class="keyword">val </span>unapplied_type_constr_conv : (Ppx_core__.Longident.t Ppx_core__.Loc.t <span>&#45;&gt;</span> f:(Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.string) <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt><dd><p><code>unapplied_type_constr_conv</code> is the standard way to map identifiers to conversion fonctions, for preprocessor that creates values that follow the structure of types. More precisely, <code>path_conv path (sprintf &quot;sexp_of_%s&quot;)</code> is:</p><ul><li>sexp_of_t if path is &quot;t&quot;</li><li>A.B.sexp_of_foo if path is &quot;A.B.foo&quot;</li><li>A.B.sexp_of_f__foo (module A1) (module A2) if path is &quot;A.B.F(A1)(A2).foo&quot; <code>type_constr_conv</code> also applies it to a list of expression, which both prevents the compiler from allocating useless closures, and almost always what is needed, since type constructors are always applied.</li></ul></dd></dl><dl><dt class="spec value" id="val-type_constr_conv"><a href="#val-type_constr_conv" class="anchor"></a><code><span class="keyword">val </span>type_constr_conv : (Ppx_core__.Longident.t Ppx_core__.Loc.t <span>&#45;&gt;</span> f:(Ppx_core__.Import.string <span>&#45;&gt;</span> Ppx_core__.Import.string) <span>&#45;&gt;</span> Ppx_core__.Import.expression Ppx_core__.Import.list <span>&#45;&gt;</span> Ppx_core__.Import.expression) <a href="index.html#type-with_loc">with_loc</a></code></dt></dl></div></body></html>