<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Helper (ppx_meta_conv.Meta_conv.Types.S.Helper)</title><link rel="stylesheet" href="../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../../index.html">ppx_meta_conv</a> &#x00BB; <a href="../../../index.html">Meta_conv</a> &#x00BB; <a href="../../index.html">Types</a> &#x00BB; <a href="../index.html">S</a> &#x00BB; Helper</nav><h1>Module <code>S.Helper</code></h1><nav class="toc"><ul><li><a href="#useful-tool-functions-for-writing-encoders+decoders-of-primitive-types">Useful tool functions for writing encoders+decoders of primitive types</a></li></ul></nav></header><section><header><h6 id="useful-tool-functions-for-writing-encoders+decoders-of-primitive-types"><a href="#useful-tool-functions-for-writing-encoders+decoders-of-primitive-types" class="anchor"></a>Useful tool functions for writing encoders+decoders of primitive types</h6></header><dl><dt class="spec value" id="val-integer_of_float"><a href="#val-integer_of_float" class="anchor"></a><code><span class="keyword">val</span> integer_of_float : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> (float <span>&#45;&gt;</span> <span class="type-var">'int</span>) <span>&#45;&gt;</span> float <span>&#45;&gt;</span> (<span class="type-var">'int</span>, string) <a href="../../../Result/index.html#type-t">Result.t</a></code></dt><dd><p>float to integer conversion with error checks.</p><p>This is not target type dependent, but it is here for easier access.</p></dd></dl><dl><dt class="spec value" id="val-list_of"><a href="#val-list_of" class="anchor"></a><code><span class="keyword">val</span> list_of : (<a href="../index.html#type-target">target</a> <span>&#45;&gt;</span> <a href="../index.html#type-target">target</a> list option) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>typical list_of_&lt;targe_type&gt;. It takes a function to get a list from a target value</p></dd></dl><dl><dt class="spec value" id="val-array_of"><a href="#val-array_of" class="anchor"></a><code><span class="keyword">val</span> array_of : (<a href="../index.html#type-target">target</a> <span>&#45;&gt;</span> <a href="../index.html#type-target">target</a> list option) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>typical array_of_&lt;targe_type&gt;. It takes a function to get a list from a target value</p></dd></dl><dl><dt class="spec value" id="val-option_of"><a href="#val-option_of" class="anchor"></a><code><span class="keyword">val</span> option_of : (<a href="../index.html#type-target">target</a> <span>&#45;&gt;</span> <a href="../index.html#type-target">target</a> option option) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>typical option_of_&lt;targe_type&gt;. It takes predicate to check the arg is a Some, None or something else.</p><p>Some (Some v) : Some for a target value v Some None : None None : : Error. Target value cannot have the option type</p></dd></dl><dl><dt class="spec value" id="val-ref_of"><a href="#val-ref_of" class="anchor"></a><code><span class="keyword">val</span> ref_of : (<a href="../index.html#type-target">target</a> <span>&#45;&gt;</span> <a href="../index.html#type-target">target</a> option) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../../../ocaml/Stdlib/index.html#type-ref">Stdlib.ref</a> <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>typical ref_of_&lt;targe_type&gt;. It takes predicate to check the arg is a reference or something else.</p><p>Some v : Found a record <code> contents = &lt;v&gt; </code> None : Error. Target value cannot have the option type</p></dd></dl><dl><dt class="spec value" id="val-lazy_t_of"><a href="#val-lazy_t_of" class="anchor"></a><code><span class="keyword">val</span> lazy_t_of : (<a href="../index.html#type-target">target</a> <a href="../../../Error/index.html#type-t">Error.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> lazy_t <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>typical lazy_t_of_&lt;targe_type&gt;. The decoding is done lazily. Error at the deferred decoding is handled by the error handler, normally it should raises &lt;Target_conv&gt;.Exception exception.</p></dd></dl><dl><dt class="spec value" id="val-of_mc_lazy_t"><a href="#val-of_mc_lazy_t" class="anchor"></a><code><span class="keyword">val</span> of_mc_lazy_t : <span class="type-var">'a</span> <a href="../index.html#type-encoder">encoder</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <a href="../index.html#type-target">target</a>) <a href="../../../Open/index.html#type-mc_lazy_t">Open.mc_lazy_t</a> <a href="../index.html#type-encoder">encoder</a></code></dt><dd><p>typical &lt;targe_type&gt;_of_mc_lazy_t</p></dd></dl><dl><dt class="spec value" id="val-mc_lazy_t_of"><a href="#val-mc_lazy_t_of" class="anchor"></a><code><span class="keyword">val</span> mc_lazy_t_of : <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <a href="../index.html#type-target">target</a>) <a href="../../../Open/index.html#type-mc_lazy_t">Open.mc_lazy_t</a> <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>typical mc_lazy_t_of_&lt;targe_type&gt; The decoding is done lazily. Error at the lazy decoding is reported by the result monad.</p></dd></dl><dl><dt class="spec value" id="val-mc_fields_of"><a href="#val-mc_fields_of" class="anchor"></a><code><span class="keyword">val</span> mc_fields_of : (<a href="../index.html#type-target">target</a> <span>&#45;&gt;</span> (string * <a href="../index.html#type-target">target</a>) list option) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> (string * <span class="type-var">'a</span>) list <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>typical mc_fields_of_&lt;targe_type&gt;</p></dd></dl><dl><dt class="spec value" id="val-of_deconstr"><a href="#val-of_deconstr" class="anchor"></a><code><span class="keyword">val</span> of_deconstr : (<a href="../index.html#type-target">target</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a></code></dt><dd><p>Convert a simple raw deconstr of type <code>target -&gt; 'a</code> to <code>'a decoder</code>. Error must be reported as <code>Failure s</code>. The other exceptions simply escape.</p></dd></dl><dl><dt class="spec value" id="val-of_hashtbl"><a href="#val-of_hashtbl" class="anchor"></a><code><span class="keyword">val</span> of_hashtbl : (<a href="../index.html#type-target">target</a> <a href="../index.html#type-encoder">encoder</a> <span>&#45;&gt;</span> <a href="../index.html#type-target">target</a> list <a href="../index.html#type-encoder">encoder</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-encoder">encoder</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="../index.html#type-encoder">encoder</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="../../../../../ocaml/Stdlib/Hashtbl/index.html#type-t">Stdlib.Hashtbl.t</a> <a href="../index.html#type-encoder">encoder</a></code></dt><dt class="spec value" id="val-hashtbl_of"><a href="#val-hashtbl_of" class="anchor"></a><code><span class="keyword">val</span> hashtbl_of : ((<span class="type-var">'a</span> * <span class="type-var">'b</span>) <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> * <span class="type-var">'b</span>) list <a href="../index.html#type-decoder">decoder</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="../index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="../../../../../ocaml/Stdlib/Hashtbl/index.html#type-t">Stdlib.Hashtbl.t</a> <a href="../index.html#type-decoder">decoder</a></code></dt></dl></section></div></body></html>