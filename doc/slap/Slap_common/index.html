<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Slap_common (slap.Slap_common)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">slap</a> &#x00BB; Slap_common</nav><h1>Module <code>Slap_common</code></h1><p><a href="../Slap/Common/index.html"><code>Slap.Common</code></a> contains definitions independent of the precision.</p><nav class="toc"><ul><li><a href="#flags">Flags</a><ul><li><a href="#diagonal-element-flags">Diagonal-element flags</a></li><li><a href="#uppper/lower-(triangular-matrix)-flags">Uppper/lower (triangular matrix) flags</a></li><li><a href="#transpose-flags">Transpose flags</a></li><li><a href="#direction-of-matrix-multiplication">Direction of matrix multiplication</a></li><li><a href="#matrix-norms">Matrix norms</a></li><li><a href="#svd-computation-flags">SVD computation flags</a></li></ul></li><li><a href="#integer-vectors">Integer vectors</a></li><li><a href="#utilities">Utilities</a></li></ul></nav></header><section><header><h3 id="flags"><a href="#flags" class="anchor"></a>Flags</h3></header><section><header><h4 id="diagonal-element-flags"><a href="#diagonal-element-flags" class="anchor"></a>Diagonal-element flags</h4></header><dl><dt class="spec type" id="type-diag"><a href="#type-diag" class="anchor"></a><code><span class="keyword">type</span> diag</code></dt><dd><p>The type of diagonal-element flags</p></dd></dl><dl><dt class="spec value" id="val-unit"><a href="#val-unit" class="anchor"></a><code><span class="keyword">val</span> unit : <a href="index.html#type-diag">diag</a></code></dt><dd><p>A matrix is unit triagular.</p></dd></dl><dl><dt class="spec value" id="val-non_unit"><a href="#val-non_unit" class="anchor"></a><code><span class="keyword">val</span> non_unit : <a href="index.html#type-diag">diag</a></code></dt><dd><p>A matrix is not unit triagular.</p></dd></dl><dl><dt class="spec value" id="val-char_of_diag"><a href="#val-char_of_diag" class="anchor"></a><code><span class="keyword">val</span> char_of_diag : <a href="index.html#type-diag">diag</a> <span>&#45;&gt;</span> char</code></dt><dd><p>Return a character of a flag (for BLAS/LAPACK).</p></dd></dl></section><section><header><h4 id="uppper/lower-(triangular-matrix)-flags"><a href="#uppper/lower-(triangular-matrix)-flags" class="anchor"></a>Uppper/lower (triangular matrix) flags</h4></header><dl><dt class="spec type" id="type-uplo"><a href="#type-uplo" class="anchor"></a><code><span class="keyword">type</span> +'a uplo</code><code> <span class="keyword">constraint</span> <span class="type-var">'a</span> = [&lt; `U | `L | `A ]</code></dt><dd><p>The type of upper/lower flags.</p></dd></dl><dl><dt class="spec value" id="val-upper"><a href="#val-upper" class="anchor"></a><code><span class="keyword">val</span> upper : [&gt; `U ] <a href="index.html#type-uplo">uplo</a></code></dt><dd><p>Using the upper triangular (or trapezoidal) part of a matrix.</p></dd></dl><dl><dt class="spec value" id="val-lower"><a href="#val-lower" class="anchor"></a><code><span class="keyword">val</span> lower : [&gt; `L ] <a href="index.html#type-uplo">uplo</a></code></dt><dd><p>Using the lower triangular (or trapezoidal) part of a matrix.</p></dd></dl><dl><dt class="spec value" id="val-upper_lower"><a href="#val-upper_lower" class="anchor"></a><code><span class="keyword">val</span> upper_lower : [&gt; `A ] <a href="index.html#type-uplo">uplo</a></code></dt><dd><p>Using both of the upper and lower triangular parts (i.e., all elements) of a matrix.</p></dd></dl><dl><dt class="spec value" id="val-char_of_uplo"><a href="#val-char_of_uplo" class="anchor"></a><code><span class="keyword">val</span> char_of_uplo : <span class="type-var">_</span> <a href="index.html#type-uplo">uplo</a> <span>&#45;&gt;</span> char</code></dt><dd><p>Return a character of a flag (for BLAS/LAPACK).</p></dd></dl></section><section><header><h4 id="transpose-flags"><a href="#transpose-flags" class="anchor"></a>Transpose flags</h4></header><dl><dt class="spec type" id="type-trans"><a href="#type-trans" class="anchor"></a><code><span class="keyword">type</span> (+'indim, +'outdim, +'tag) trans</code><code> <span class="keyword">constraint</span> <span class="type-var">'tag</span> = [&lt; `N | `T | `C ]</code></dt><dd><p>The type of transpose flags.</p><ul><li><code>'indim</code> and <code>'outdim</code> respectively mean pairs of dimensions of an input matrix and an output matrix:</li><li>Not transposing: <code>'indim</code> = <code>'outdim</code> = <code>'m * 'n</code>, and</li><li>Transposing: <code>'indim</code> = <code>'m * 'n</code>, <code>'outdim</code> = <code>'n * 'm</code> (swapped from <code>'indim</code>).</li><li><code>'tag</code> is <code>`N</code> (normal, i.e. not transposing), <code>`T</code> (transpose), or <code>`C</code> (conjugate transpose).</li></ul></dd></dl><dl><dt class="spec type" id="type-trans2"><a href="#type-trans2" class="anchor"></a><code><span class="keyword">type</span> (+'indim, +'outdim, +'tag) trans2</code><code> = (<span class="type-var">'indim</span>, <span class="type-var">'outdim</span>, <span class="type-var">'tag</span>) <a href="index.html#type-trans">trans</a></code><code> <span class="keyword">constraint</span> <span class="type-var">'tag</span> = [&lt; `N | `T ]</code></dt><dd><p>Types of transpose flags for real vectors or matrices. Values of this type are</p><ul><li><a href="index.html#val-normal"><code>Slap_common.normal</code></a> and</li><li><a href="index.html#type-trans"><code>Slap_common.trans</code></a>.</li></ul></dd></dl><dl><dt class="spec type" id="type-trans3"><a href="#type-trans3" class="anchor"></a><code><span class="keyword">type</span> (+'indim, +'outdim, +'tag) trans3</code><code> = (<span class="type-var">'indim</span>, <span class="type-var">'outdim</span>, <span class="type-var">'tag</span>) <a href="index.html#type-trans">trans</a></code></dt><dd><p>Types of transpose flags for complex vectors or matrices. Values of this type are</p><ul><li><a href="index.html#val-normal"><code>Slap_common.normal</code></a>,</li><li><a href="index.html#type-trans"><code>Slap_common.trans</code></a> and</li><li><a href="index.html#val-conjtr"><code>Slap_common.conjtr</code></a>.</li></ul></dd></dl><dl><dt class="spec value" id="val-normal"><a href="#val-normal" class="anchor"></a><code><span class="keyword">val</span> normal : (<span class="type-var">'m</span> * <span class="type-var">'n</span>, <span class="type-var">'m</span> * <span class="type-var">'n</span>, [&gt; `N ]) <a href="index.html#type-trans">trans</a></code></dt><dd><p>Non-transposed matrix.</p></dd></dl><dl><dt class="spec value" id="val-trans"><a href="#val-trans" class="anchor"></a><code><span class="keyword">val</span> trans : (<span class="type-var">'m</span> * <span class="type-var">'n</span>, <span class="type-var">'n</span> * <span class="type-var">'m</span>, [&gt; `T ]) <a href="index.html#type-trans">trans</a></code></dt><dd><p>Transpose of a matrix.</p></dd></dl><dl><dt class="spec value" id="val-conjtr"><a href="#val-conjtr" class="anchor"></a><code><span class="keyword">val</span> conjtr : (<span class="type-var">'m</span> * <span class="type-var">'n</span>, <span class="type-var">'n</span> * <span class="type-var">'m</span>, [&gt; `C ]) <a href="index.html#type-trans3">trans3</a></code></dt><dd><p>Conjugate transpose of a matrix.</p></dd></dl><dl><dt class="spec value" id="val-get_transposed_dim"><a href="#val-get_transposed_dim" class="anchor"></a><code><span class="keyword">val</span> get_transposed_dim : (<span class="type-var">'m</span> * <span class="type-var">'n</span>, <span class="type-var">'k</span> * <span class="type-var">'l</span>, <span class="type-var">_</span>) <a href="index.html#type-trans">trans</a> <span>&#45;&gt;</span> <span class="type-var">'m</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> <span>&#45;&gt;</span> <span class="type-var">'n</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> <span>&#45;&gt;</span> <span class="type-var">'k</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> * <span class="type-var">'l</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a></code></dt><dd><p><code>get_transposed_dim trans m n</code> returns</p><ul><li><code>(m * n)</code> if <code>trans</code> is <a href="index.html#val-normal"><code>Slap_common.normal</code></a>;</li><li><code>(n * m)</code> if <code>trans</code> is <a href="index.html#type-trans"><code>Slap_common.trans</code></a> or <a href="index.html#val-conjtr"><code>Slap_common.conjtr</code></a>.</li></ul></dd></dl><dl><dt class="spec value" id="val-char_of_trans"><a href="#val-char_of_trans" class="anchor"></a><code><span class="keyword">val</span> char_of_trans : (<span class="type-var">'indim</span>, <span class="type-var">'outdim</span>, <span class="type-var">'tag</span>) <a href="index.html#type-trans">trans</a> <span>&#45;&gt;</span> char</code></dt><dd><p>Return a character of a flag (for BLAS/LAPACK).</p></dd></dl></section><section><header><h4 id="direction-of-matrix-multiplication"><a href="#direction-of-matrix-multiplication" class="anchor"></a>Direction of matrix multiplication</h4></header><dl><dt class="spec type" id="type-side"><a href="#type-side" class="anchor"></a><code><span class="keyword">type</span> (+'k, +'m, +'n) side</code></dt><dd><p><code>('k, 'm, 'n) side</code> is the type of left- and right-multiplication flags. The type parameters <code>'k</code>, <code>'m</code> and <code>'n</code> correspond to dimensions of two multiplied matrices: Let <code>A</code> be a <code>'k</code>-by-<code>'k</code> square matrix and <code>B</code> be a <code>'m</code>-by-<code>'n</code> general matrix.</p><ul><li>When <code>A</code> is multiplied from the left by <code>B</code> (i.e., <code>A*B</code>), <code>'k</code> is equal to <code>'m</code>; therefore the type of <a href="index.html#val-left"><code>Slap_common.left</code></a> is <code>('m, 'm, 'n) side</code>.</li><li>Conversely, if <code>A</code> is right-multiplied by <code>B</code> (i.e., <code>B*A</code>), <code>'k</code> is equal to <code>'n</code>. Thus, the flag <a href="index.html#val-right"><code>Slap_common.right</code></a> is given the type <code>('n, 'm, 'n) side</code>.</li></ul></dd></dl><dl><dt class="spec value" id="val-left"><a href="#val-left" class="anchor"></a><code><span class="keyword">val</span> left : (<span class="type-var">'m</span>, <span class="type-var">'m</span>, <span class="type-var">'n</span>) <a href="index.html#type-side">side</a></code></dt><dd><p>Left multiplication</p></dd></dl><dl><dt class="spec value" id="val-right"><a href="#val-right" class="anchor"></a><code><span class="keyword">val</span> right : (<span class="type-var">'n</span>, <span class="type-var">'m</span>, <span class="type-var">'n</span>) <a href="index.html#type-side">side</a></code></dt><dd><p>Right multiplication</p></dd></dl><dl><dt class="spec value" id="val-check_side_dim"><a href="#val-check_side_dim" class="anchor"></a><code><span class="keyword">val</span> check_side_dim : <span class="type-var">'k</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> <span>&#45;&gt;</span> <span class="type-var">'m</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> <span>&#45;&gt;</span> <span class="type-var">'n</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> <span>&#45;&gt;</span> (<span class="type-var">'k</span>, <span class="type-var">'m</span>, <span class="type-var">'n</span>) <a href="index.html#type-side">side</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Auxiliary function (used internally)</p></dd></dl><dl><dt class="spec value" id="val-char_of_side"><a href="#val-char_of_side" class="anchor"></a><code><span class="keyword">val</span> char_of_side : (<span class="type-var">'k</span>, <span class="type-var">'m</span>, <span class="type-var">'n</span>) <a href="index.html#type-side">side</a> <span>&#45;&gt;</span> char</code></dt><dd><p>Return a character of a flag (for BLAS/LAPACK).</p></dd></dl></section><section><header><h4 id="matrix-norms"><a href="#matrix-norms" class="anchor"></a>Matrix norms</h4></header><dl><dt class="spec type" id="type-norm"><a href="#type-norm" class="anchor"></a><code><span class="keyword">type</span> +'a norm</code><code> <span class="keyword">constraint</span> <span class="type-var">'a</span> = [&lt; `O | `I | `M | `F ]</code></dt><dd><p>The type of matrix norms.</p></dd></dl><dl><dt class="spec type" id="type-norm2"><a href="#type-norm2" class="anchor"></a><code><span class="keyword">type</span> +'a norm2</code><code> = <span class="type-var">'a</span> <a href="index.html#type-norm">norm</a></code><code> <span class="keyword">constraint</span> <span class="type-var">'a</span> = [&lt; `O | `I ]</code></dt><dd><p>Values of this type are <a href="index.html#val-norm_1"><code>Slap_common.norm_1</code></a> and <a href="index.html#val-norm_inf"><code>Slap_common.norm_inf</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-norm4"><a href="#type-norm4" class="anchor"></a><code><span class="keyword">type</span> +'a norm4</code><code> = <span class="type-var">'a</span> <a href="index.html#type-norm">norm</a></code></dt><dd><p>Values of this type are</p><ul><li><a href="index.html#val-norm_1"><code>Slap_common.norm_1</code></a>,</li><li><a href="index.html#val-norm_inf"><code>Slap_common.norm_inf</code></a>,</li><li><a href="index.html#val-norm_amax"><code>Slap_common.norm_amax</code></a> and</li><li><a href="index.html#val-norm_frob"><code>Slap_common.norm_frob</code></a>.</li></ul></dd></dl><dl><dt class="spec value" id="val-norm_1"><a href="#val-norm_1" class="anchor"></a><code><span class="keyword">val</span> norm_1 : [&gt; `O ] <a href="index.html#type-norm">norm</a></code></dt><dd><p>1-norm of a matrix (maximum column sum).</p></dd></dl><dl><dt class="spec value" id="val-norm_inf"><a href="#val-norm_inf" class="anchor"></a><code><span class="keyword">val</span> norm_inf : [&gt; `I ] <a href="index.html#type-norm">norm</a></code></dt><dd><p>Infinity-norm of a matrix (maximum row sum).</p></dd></dl><dl><dt class="spec value" id="val-norm_amax"><a href="#val-norm_amax" class="anchor"></a><code><span class="keyword">val</span> norm_amax : [&gt; `M ] <a href="index.html#type-norm">norm</a></code></dt><dd><p>Largest absolute value of a matrix. (not a matrix norm)</p></dd></dl><dl><dt class="spec value" id="val-norm_frob"><a href="#val-norm_frob" class="anchor"></a><code><span class="keyword">val</span> norm_frob : [&gt; `F ] <a href="index.html#type-norm">norm</a></code></dt><dd><p>Frobenius norm of a matrix.</p></dd></dl><dl><dt class="spec value" id="val-char_of_norm"><a href="#val-char_of_norm" class="anchor"></a><code><span class="keyword">val</span> char_of_norm : <span class="type-var">_</span> <a href="index.html#type-norm">norm</a> <span>&#45;&gt;</span> char</code></dt><dd><p>Return a character of a flag (for BLAS/LAPACK).</p></dd></dl></section><section><header><h4 id="svd-computation-flags"><a href="#svd-computation-flags" class="anchor"></a>SVD computation flags</h4></header><dl><dt class="spec type" id="type-svd_job"><a href="#type-svd_job" class="anchor"></a><code><span class="keyword">type</span> (+'a, +'b, +'c, +'d, +'e) svd_job</code></dt></dl><dl><dt class="spec value" id="val-svd_all"><a href="#val-svd_all" class="anchor"></a><code><span class="keyword">val</span> svd_all : (<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>) <a href="index.html#type-svd_job">svd_job</a></code></dt><dt class="spec value" id="val-svd_top"><a href="#val-svd_top" class="anchor"></a><code><span class="keyword">val</span> svd_top : (<span class="type-var">'b</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>) <a href="index.html#type-svd_job">svd_job</a></code></dt><dt class="spec value" id="val-svd_overwrite"><a href="#val-svd_overwrite" class="anchor"></a><code><span class="keyword">val</span> svd_overwrite : (<span class="type-var">'c</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>) <a href="index.html#type-svd_job">svd_job</a></code></dt><dt class="spec value" id="val-svd_no"><a href="#val-svd_no" class="anchor"></a><code><span class="keyword">val</span> svd_no : (<span class="type-var">'d</span>, <span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>) <a href="index.html#type-svd_job">svd_job</a></code></dt><dt class="spec value" id="val-char_of_svd_job"><a href="#val-char_of_svd_job" class="anchor"></a><code><span class="keyword">val</span> char_of_svd_job : (<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-svd_job">svd_job</a> <span>&#45;&gt;</span> char</code></dt><dd><p>Return a character of a flag (for BLAS/LAPACK).</p></dd></dl></section></section><section><header><h3 id="integer-vectors"><a href="#integer-vectors" class="anchor"></a>Integer vectors</h3></header><dl><dt class="spec type" id="type-int_vec"><a href="#type-int_vec" class="anchor"></a><code><span class="keyword">type</span> (+'n, +'cnt_or_dsc) int_vec</code><code> = (<span class="type-var">'n</span>, int, <a href="../../ocaml/Bigarray/index.html#type-int_elt">Bigarray.int_elt</a>, <span class="type-var">'cnt_or_dsc</span>) <a href="../Slap_vec/index.html#type-t">Slap_vec.t</a></code></dt></dl><dl><dt class="spec value" id="val-create_int_vec"><a href="#val-create_int_vec" class="anchor"></a><code><span class="keyword">val</span> create_int_vec : <span class="type-var">'n</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> <span>&#45;&gt;</span> (<span class="type-var">'n</span>, <span class="type-var">'cnt</span>) <a href="index.html#type-int_vec">int_vec</a></code></dt></dl><dl><dt class="spec type" id="type-int32_vec"><a href="#type-int32_vec" class="anchor"></a><code><span class="keyword">type</span> (+'n, +'cnt_or_dsc) int32_vec</code><code> = (<span class="type-var">'n</span>, int32, <a href="../../ocaml/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a>, <span class="type-var">'cnt_or_dsc</span>) <a href="../Slap_vec/index.html#type-t">Slap_vec.t</a></code></dt></dl><dl><dt class="spec value" id="val-create_int32_vec"><a href="#val-create_int32_vec" class="anchor"></a><code><span class="keyword">val</span> create_int32_vec : <span class="type-var">'n</span> <a href="../Slap_size/index.html#type-t">Slap_size.t</a> <span>&#45;&gt;</span> (<span class="type-var">'n</span>, <span class="type-var">'cnt</span>) <a href="index.html#type-int32_vec">int32_vec</a></code></dt></dl></section><section><header><h3 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h3></header><dl><dt class="spec value" id="val-lacaml_trans2"><a href="#val-lacaml_trans2" class="anchor"></a><code><span class="keyword">val</span> lacaml_trans2 : (<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-trans">trans</a> <span>&#45;&gt;</span> <a href="../../lacaml/Lacaml_common/index.html#type-trans2">Lacaml.Common.trans2</a></code></dt><dt class="spec value" id="val-lacaml_trans3"><a href="#val-lacaml_trans3" class="anchor"></a><code><span class="keyword">val</span> lacaml_trans3 : (<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-trans">trans</a> <span>&#45;&gt;</span> [ `N | `T | `C ]</code></dt><dt class="spec value" id="val-lacaml_svd_job"><a href="#val-lacaml_svd_job" class="anchor"></a><code><span class="keyword">val</span> lacaml_svd_job : (<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-svd_job">svd_job</a> <span>&#45;&gt;</span> <a href="../../lacaml/Lacaml_common/index.html#type-svd_job">Lacaml.Common.svd_job</a></code></dt></dl></section></div></body></html>