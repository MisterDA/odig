<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Encoding (text.Encoding)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">text</a> &#x00BB; Encoding</nav><h1>Module <code>Encoding</code></h1><h6 id="character-encodings"><a href="#character-encodings" class="anchor"></a>Character encodings</h6><nav class="toc"><ul><li><a href="#decoding">Decoding</a></li><li><a href="#encoding">Encoding</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = string</code></dt><dd><p>Type of a character encoding</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>equal e1 e2</code> returns whether <code>e1</code> and <code>e2</code> denotes the same encoding. It does a caseless comparison of <code>e1</code> or <code>e2</code> without optionnal suffixes (&quot;//IGNORE&quot; or &quot;//TRANSLIT&quot;).</p></dd></dl><dl><dt class="spec value" id="val-system"><a href="#val-system" class="anchor"></a><code><span class="keyword">val</span> system : <a href="index.html#type-t">t</a></code></dt><dd><p>The character encoding used by the system</p></dd></dl><dl><dt class="spec type" id="type-code_point"><a href="#type-code_point" class="anchor"></a><code><span class="keyword">type</span> code_point</code><code> = int</code></dt><dd><p>Type of a unicode code-point.</p></dd></dl><dl><dt class="spec value" id="val-recode_string"><a href="#val-recode_string" class="anchor"></a><code><span class="keyword">val</span> recode_string : src:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> dst:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>recode_string ~src ~dst str</code> recode <code>str</code> from <code>src</code> encoding to <code>dst</code> encoding.</p></dd></dl><section><header><h6 id="decoding"><a href="#decoding" class="anchor"></a>Decoding</h6></header><dl><dt class="spec type" id="type-decoder"><a href="#type-decoder" class="anchor"></a><code><span class="keyword">type</span> decoder</code></dt><dd><p>Type of a decoder</p></dd></dl><dl><dt class="spec value" id="val-decoder"><a href="#val-decoder" class="anchor"></a><code><span class="keyword">val</span> decoder : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-decoder">decoder</a></code></dt><dd><p>Creates a decoder from an encoding-name</p></dd></dl><dl><dt class="spec type" id="type-decoding_result"><a href="#type-decoding_result" class="anchor"></a><code><span class="keyword">type</span> decoding_result</code><code> = </code><table class="variant"><tr id="type-decoding_result.Dec_ok" class="anchored"><td class="def constructor"><a href="#type-decoding_result.Dec_ok" class="anchor"></a><code>| </code><code><span class="constructor">Dec_ok</span> <span class="keyword">of</span> <a href="index.html#type-code_point">code_point</a> * int</code></td><td class="doc"><p><code>Dec_ok(code, num)</code> means that the operation succeed. <code>code</code> is the unicode code-point read and <code>num</code> is the number of bytes read by the decoder.</p></td></tr><tr id="type-decoding_result.Dec_need_more" class="anchored"><td class="def constructor"><a href="#type-decoding_result.Dec_need_more" class="anchor"></a><code>| </code><code><span class="constructor">Dec_need_more</span></code></td><td class="doc"><p><code>Dec_not_finished</code> means that the input contains a not-terminated sequence</p></td></tr><tr id="type-decoding_result.Dec_error" class="anchored"><td class="def constructor"><a href="#type-decoding_result.Dec_error" class="anchor"></a><code>| </code><code><span class="constructor">Dec_error</span></code></td><td class="doc"><p><code>Dec_error</code> means that the input contains an invalid sequence</p></td></tr></table></dt><dd><p>Result of a decoding operation</p></dd></dl><dl><dt class="spec value" id="val-decode"><a href="#val-decode" class="anchor"></a><code><span class="keyword">val</span> decode : <a href="index.html#type-decoder">decoder</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-decoding_result">decoding_result</a></code></dt><dd><p><code>decode decoder buffer ptr len</code> decodes with <code>decoder</code> bytes at position <code>ptr</code> in <code>buffer</code></p></dd></dl></section><section><header><h6 id="encoding"><a href="#encoding" class="anchor"></a>Encoding</h6></header><dl><dt class="spec type" id="type-encoder"><a href="#type-encoder" class="anchor"></a><code><span class="keyword">type</span> encoder</code></dt><dd><p>Type of an encoder</p></dd></dl><dl><dt class="spec value" id="val-encoder"><a href="#val-encoder" class="anchor"></a><code><span class="keyword">val</span> encoder : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-encoder">encoder</a></code></dt><dd><p>Creates an encoder from an encoding-name</p></dd></dl><dl><dt class="spec type" id="type-encoding_result"><a href="#type-encoding_result" class="anchor"></a><code><span class="keyword">type</span> encoding_result</code><code> = </code><table class="variant"><tr id="type-encoding_result.Enc_ok" class="anchored"><td class="def constructor"><a href="#type-encoding_result.Enc_ok" class="anchor"></a><code>| </code><code><span class="constructor">Enc_ok</span> <span class="keyword">of</span> int</code></td><td class="doc"><p><code>Enc_ok num</code> means that the operation succeed and <code>num</code> bytes have been written.</p></td></tr><tr id="type-encoding_result.Enc_need_more" class="anchored"><td class="def constructor"><a href="#type-encoding_result.Enc_need_more" class="anchor"></a><code>| </code><code><span class="constructor">Enc_need_more</span></code></td><td class="doc"><p><code>Enc_need_more</code> means that there is not enough space in the output to ouput all bytes.</p></td></tr><tr id="type-encoding_result.Enc_error" class="anchored"><td class="def constructor"><a href="#type-encoding_result.Enc_error" class="anchor"></a><code>| </code><code><span class="constructor">Enc_error</span></code></td><td class="doc"><p><code>Enc_error</code> means that the given code-point cannot be encoded in the given encoding</p></td></tr></table></dt><dd><p>Result of an encoding operation</p></dd></dl><dl><dt class="spec value" id="val-encode"><a href="#val-encode" class="anchor"></a><code><span class="keyword">val</span> encode : <a href="index.html#type-encoder">encoder</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-code_point">code_point</a> <span>&#45;&gt;</span> <a href="index.html#type-encoding_result">encoding_result</a></code></dt><dd><p><code>encode decoder buffer ptr len code</code> encodes <code>code</code> with <code>encoder</code> at position <code>ptr</code> in <code>buffer</code></p></dd></dl></section></div></body></html>