<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Text (text.Text)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">text</a> &#x00BB; Text</nav><h1>Module <code>Text</code></h1><p>UTF-8 encoded strings</p><nav class="toc"><ul><li><a href="#encoding/decoding">Encoding/decoding</a></li><li><a href="#informations">Informations</a></li><li><a href="#construction/access">Construction/access</a></li><li><a href="#locale-specific-functions">Locale specific functions</a></li><li><a href="#transformations">Transformations</a></li><li><a href="#tests">Tests</a></li><li><a href="#text-traversals">Text traversals</a></li><li><a href="#scanning">Scanning</a></li><li><a href="#splitting">Splitting</a></li><li><a href="#tests">Tests</a></li><li><a href="#stripping">Stripping</a></li><li><a href="#pointers">Pointers</a></li></ul></nav></header><aside><p>This modules is intended for ``text'' manipulation. By text we mean sequence of unicode characters.</p><p>For compatibility and simplicity reasons, text is represented by UTF-8 encoded strings, and there is no special types for unicode characters, whose are just represented by 1-length text.</p><p>All functions of this module expect to by applied on valid UTF-8 encoded strings, and may raise <code>Invalid</code> if this is not the case.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = string</code></dt><dd><p>Type of text</p></dd></dl><dl><dt class="spec exception" id="exception-Invalid"><a href="#exception-Invalid" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Invalid</span> <span class="keyword">of</span> string * string</code></dt><dd><p><code>Invalid(error, text)</code> Exception raised when an invalid UTF-8 encoded string is encountered. <code>text</code> is the faulty text and <code>error</code> is a description of the first error in <code>text</code>.</p></dd></dl><dl><dt class="spec value" id="val-check"><a href="#val-check" class="anchor"></a><code><span class="keyword">val</span> check : string <span>&#45;&gt;</span> string option</code></dt><dd><p><code>check str</code> checks that <code>str</code> is a valid UTF-8 encoded string. Returns <code>None</code> if it is the case, or <code>Some error</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-validate"><a href="#val-validate" class="anchor"></a><code><span class="keyword">val</span> validate : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as check but raises an exception in case the argument is not a valid text.</p></dd></dl><section><header><h6 id="encoding/decoding"><a href="#encoding/decoding" class="anchor"></a>Encoding/decoding</h6></header><dl><dt class="spec value" id="val-encode"><a href="#val-encode" class="anchor"></a><code><span class="keyword">val</span> encode : ?&#8288;encoding:<a href="../Encoding/index.html#type-t">Encoding.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>encode ?encoding txt</code> encode the given text with <code>encoding</code>, which defaults to <a href="../Encoding/index.html#val-system"><code>Encoding.system</code></a> plus transliteration.</p></dd></dl><dl><dt class="spec value" id="val-decode"><a href="#val-decode" class="anchor"></a><code><span class="keyword">val</span> decode : ?&#8288;encoding:<a href="../Encoding/index.html#type-t">Encoding.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>decode ?encoding str</code> decode the given string encoded in <code>encoding</code>, which defaults to <a href="../Encoding/index.html#val-system"><code>Encoding.system</code></a></p></dd></dl><dl><dt class="spec value" id="val-to_ascii"><a href="#val-to_ascii" class="anchor"></a><code><span class="keyword">val</span> to_ascii : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>to_ascii txt</code> returns an approximative ascii version of <code>txt</code>. This is the same as <code>encode ~encoding:&quot;ASCII//TRANSLIT&quot; txt</code></p></dd></dl></section><section><header><h6 id="informations"><a href="#informations" class="anchor"></a>Informations</h6></header><dl><dt class="spec value" id="val-length"><a href="#val-length" class="anchor"></a><code><span class="keyword">val</span> length : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Return the number of unicode character contained in the given text</p></dd></dl></section><section><header><h6 id="construction/access"><a href="#construction/access" class="anchor"></a>Construction/access</h6></header><dl><dt class="spec value" id="val-code"><a href="#val-code" class="anchor"></a><code><span class="keyword">val</span> code : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>code text</code> returns the unicode code-point of first character of <code>text</code>.</p><p>For example:</p><ul><li><code>code &quot;A&quot; = 65</code></li><li><code>code &quot;é&quot; = 0xe9</code></li></ul></dd></dl><dl><dt class="spec value" id="val-char"><a href="#val-char" class="anchor"></a><code><span class="keyword">val</span> char : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>char code</code> returns the character corresponding to the given unicode code-point.</p><p>For example:</p><ul><li><code>char 65 = &quot;A&quot;</code></li><li><code>char 0xe9 = &quot;é&quot;</code></li></ul><dl><dt>raises Invalid_argument</dt><dd><p>if <code>code</code> is not a valid unicode code-point. Valid code-point are all integers in the range <code>0..0x10ffff</code>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>get text n</code> returns the <code>n</code>-th character of <code>text</code>. <code>n</code> is a number of unicode character, not bytes. A negative value is interpreted as a position from the end of the text.</p><p>For example:</p><ul><li><code>get &quot;abc&quot; 0 = &quot;a&quot;</code></li><li><code>get &quot;abc&quot; 2 = &quot;c&quot;</code></li><li><code>get &quot;aéb&quot; 1 = &quot;é&quot;</code></li><li><code>get &quot;aéb&quot; 2 = &quot;b&quot;</code></li><li><code>nth &quot;abc&quot; (-1) = &quot;c&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>sub text pos len</code> Returns the sub-text of <code>text</code> starting at position <code>pos</code> and of length <code>len</code>. <code>pos</code> and/or <code>len</code> may be negative.</p><p>For example:</p><ul><li><code>sub &quot;ocaml&quot; 1 2 = &quot;ca&quot;</code></li><li><code>sub &quot;ocaml&quot; 3 (-2) = &quot;ca&quot;</code></li><li><code>sub &quot;ocaml&quot; (-2) 1 = &quot;m&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-slice"><a href="#val-slice" class="anchor"></a><code><span class="keyword">val</span> slice : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>slice text a b</code> returns the text contained in <code>txt</code> between <code>a</code> and <code>b</code> (exlusive). <code>a</code> and/or <code>b</code> may be negative.</p><p>For example:</p><ul><li><code>slice &quot;abc&quot; 0 1 = &quot;a&quot;</code></li><li><code>slice &quot;abcdef&quot; 1 (-1) = &quot;bcde&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-splice"><a href="#val-splice" class="anchor"></a><code><span class="keyword">val</span> splice : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>splice text a b repl</code> replace the text between <code>a</code> and <code>b</code> (exclusive) by <code>repl</code>.</p><p>For example:</p><ul><li><code>splice &quot;abcd&quot; 1 2 &quot;plop&quot; = &quot;aplopcd&quot;</code></li><li><code>splice &quot;abcd&quot; 1 2 &quot;&quot; = &quot;acd&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-repeat"><a href="#val-repeat" class="anchor"></a><code><span class="keyword">val</span> repeat : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>repeat n text</code> returns <code>text</code> concatened <code>n</code>-times with itself.</p></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : int <span>&#45;&gt;</span> (int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>init n f</code> returns <code>f 0 ^ f 1 ^ ... ^ f (n - 1)</code></p></dd></dl><dl><dt class="spec value" id="val-rev_init"><a href="#val-rev_init" class="anchor"></a><code><span class="keyword">val</span> rev_init : int <span>&#45;&gt;</span> (int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rev_init n f</code> returns <code>f (n - 1) ^ f 1 ^ ... ^ f 0</code></p></dd></dl></section><section><header><h6 id="locale-specific-functions"><a href="#locale-specific-functions" class="anchor"></a>Locale specific functions</h6></header><dl><dt class="spec value" id="val-upper"><a href="#val-upper" class="anchor"></a><code><span class="keyword">val</span> upper : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>upper t</code> returns the upper-cased version of <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-lower"><a href="#val-lower" class="anchor"></a><code><span class="keyword">val</span> lower : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>lower t</code> returns the upper-cased version of <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-capitalize"><a href="#val-capitalize" class="anchor"></a><code><span class="keyword">val</span> capitalize : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>capitalize t</code> returns <code>t</code> with its first letter upper-cased</p></dd></dl><dl><dt class="spec value" id="val-uncapitalize"><a href="#val-uncapitalize" class="anchor"></a><code><span class="keyword">val</span> uncapitalize : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>capitalize t</code> returns <code>t</code> with its first letter lower-cased</p></dd></dl><dl><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Compares two texts according to the current locale</p></dd></dl><dl><dt class="spec value" id="val-icompare"><a href="#val-icompare" class="anchor"></a><code><span class="keyword">val</span> icompare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Compares two texts, case-insensitive</p></dd></dl><dl><dt class="spec value" id="val-transform"><a href="#val-transform" class="anchor"></a><code><span class="keyword">val</span> transform : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>transform str</code> transforms <code>str</code> in a way such that comparing two string <code>str1</code> and <code>str2</code> transformed with <code>Pervasives.compare</code> give the same result as comparing them with <a href="index.html#val-compare"><code>compare</code></a>.</p></dd></dl></section><section><header><h6 id="transformations"><a href="#transformations" class="anchor"></a>Transformations</h6></header><dl><dt class="spec value" id="val-rev"><a href="#val-rev" class="anchor"></a><code><span class="keyword">val</span> rev : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rev t</code> returns the sequence of characters of <code>t</code> in reverse order.</p><p>For example:</p><ul><li><code>rev &quot;ocaml&quot; = &quot;lmaco&quot;</code></li><li><code>rev &quot;héhé&quot; = &quot;éhéh&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-concat"><a href="#val-concat" class="anchor"></a><code><span class="keyword">val</span> concat : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>concat sep l</code> returns the concatenation of all texts contained in <code>l</code>, separated by <code>sep</code>.</p><p>For example:</p><ul><li><code>concat &quot;/&quot; [&quot;a&quot;; &quot;b&quot;; &quot;c&quot;] = &quot;a/b/c&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-rev_concat"><a href="#val-rev_concat" class="anchor"></a><code><span class="keyword">val</span> rev_concat : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rev_concat sep l</code> returns the concatenation of all texts contained in <code>l</code>, separated by <code>sep</code>.</p><p>For example:</p><ul><li><code>concat &quot;/&quot; [&quot;a&quot;; &quot;b&quot;; &quot;c&quot;] = &quot;c/b/a&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-explode"><a href="#val-explode" class="anchor"></a><code><span class="keyword">val</span> explode : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list</code></dt><dd><p><code>explode txt</code> returns the list of all characters of <code>txt</code>.</p><p>For example:</p><ul><li><code>explode &quot;&quot; = []</code></li><li><code>explode &quot;abé&quot; = [&quot;a&quot;; &quot;b&quot;; &quot;é&quot;]</code></li></ul></dd></dl><dl><dt class="spec value" id="val-rev_explode"><a href="#val-rev_explode" class="anchor"></a><code><span class="keyword">val</span> rev_explode : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list</code></dt><dd><p><code>rev_explode txt</code> returns the list of all characters of <code>txt</code>, in reverse order.</p><p>For example:</p><ul><li><code>rev_explode &quot;ocaml&quot; = [&quot;l&quot;; &quot;m&quot;; &quot;a&quot;; &quot;c&quot;; &quot;o&quot;]</code></li></ul></dd></dl><dl><dt class="spec value" id="val-implode"><a href="#val-implode" class="anchor"></a><code><span class="keyword">val</span> implode : <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>implode l</code> returns the concatenation of all texts contained in <code>l</code>. This is the same as <code>concat &quot;&quot; l</code>, but a bit more efficient.</p><p>For example:</p><ul><li><code>implode [&quot;o&quot;; &quot;c&quot;; &quot;a&quot;; &quot;m&quot;; &quot;l&quot;] = &quot;ocaml&quot;</code></li><li><code>implode [&quot;abc&quot;; &quot;def&quot;] = &quot;abcdef&quot;</code></li></ul></dd></dl><dl><dt class="spec value" id="val-rev_implode"><a href="#val-rev_implode" class="anchor"></a><code><span class="keyword">val</span> rev_implode : <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rev_implode l</code> returns the concatenation of all texts contained in <code>l</code>, in reverse order.</p><p>For example:</p><ul><li><code>implode [&quot;o&quot;; &quot;c&quot;; &quot;a&quot;; &quot;m&quot;; &quot;l&quot;] = &quot;lmaco&quot;</code></li><li><code>implode [&quot;abc&quot;; &quot;def&quot;] = &quot;defabc&quot;</code></li></ul></dd></dl></section><section><header><h6 id="tests"><a href="#tests" class="anchor"></a>Tests</h6></header><aside><p>The following functions tests whether all characters of the given text verify a property:</p></aside><dl><dt class="spec value" id="val-is_ascii"><a href="#val-is_ascii" class="anchor"></a><code><span class="keyword">val</span> is_ascii : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_alnum"><a href="#val-is_alnum" class="anchor"></a><code><span class="keyword">val</span> is_alnum : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_alpha"><a href="#val-is_alpha" class="anchor"></a><code><span class="keyword">val</span> is_alpha : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_blank"><a href="#val-is_blank" class="anchor"></a><code><span class="keyword">val</span> is_blank : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_cntrl"><a href="#val-is_cntrl" class="anchor"></a><code><span class="keyword">val</span> is_cntrl : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_digit"><a href="#val-is_digit" class="anchor"></a><code><span class="keyword">val</span> is_digit : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_graph"><a href="#val-is_graph" class="anchor"></a><code><span class="keyword">val</span> is_graph : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_lower"><a href="#val-is_lower" class="anchor"></a><code><span class="keyword">val</span> is_lower : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_print"><a href="#val-is_print" class="anchor"></a><code><span class="keyword">val</span> is_print : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_punct"><a href="#val-is_punct" class="anchor"></a><code><span class="keyword">val</span> is_punct : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_space"><a href="#val-is_space" class="anchor"></a><code><span class="keyword">val</span> is_space : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_upper"><a href="#val-is_upper" class="anchor"></a><code><span class="keyword">val</span> is_upper : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_xdigit"><a href="#val-is_xdigit" class="anchor"></a><code><span class="keyword">val</span> is_xdigit : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt></dl></section><section><header><h6 id="text-traversals"><a href="#text-traversals" class="anchor"></a>Text traversals</h6></header><aside><p>For all the following functions we give a equivalent implementation, and examples. They have the same semantic as the equivalent implementation but are more efficient.</p></aside><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>map f text</code> ~ <code>implode (List.map f (explode text))</code></p><p><code>map (function &quot;a&quot; -&gt; &quot;x&quot; | t -&gt; t) &quot;abc&quot; = &quot;xbc&quot;</code></p></dd></dl><dl><dt class="spec value" id="val-rev_map"><a href="#val-rev_map" class="anchor"></a><code><span class="keyword">val</span> rev_map : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rev_map f text</code> ~ <code>implode (List.rev_map f (explode text))</code></p><p><code>rev_map (function &quot;a&quot; -&gt; &quot;x&quot; | t -&gt; t) &quot;abc&quot; = &quot;cbx&quot;</code></p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold f x text</code> ~ <code>List.fold_left f x (explode text)</code></p><p><code>fold (fun acc t -&gt; acc + code t) 0 &quot;ABC&quot; = 198</code></p></dd></dl><dl><dt class="spec value" id="val-rev_fold"><a href="#val-rev_fold" class="anchor"></a><code><span class="keyword">val</span> rev_fold : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold f text x</code> ~ <code>List.fold_left f x (rev_explode text)</code></p><p><code>rev_fold (fun t acc -&gt; acc + code t) &quot;ABC&quot; 0 = 198</code></p></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val</span> filter : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>filter text</code> ~ <code>implode (List.filter f (explode text))</code></p><p><code>filter is_alpha &quot;1a2E&quot; = &quot;aE&quot;</code></p></dd></dl><dl><dt class="spec value" id="val-rev_filter"><a href="#val-rev_filter" class="anchor"></a><code><span class="keyword">val</span> rev_filter : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rev_filter text</code> ~ <code>implode (List.filter f (rev_explode text))</code></p><p><code>rev_filter is_alpha &quot;1a2E&quot; = &quot;Ea&quot;</code></p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter f text</code> ~ <code>List.iter f (explode text)</code></p></dd></dl><dl><dt class="spec value" id="val-rev_iter"><a href="#val-rev_iter" class="anchor"></a><code><span class="keyword">val</span> rev_iter : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter f text</code> ~ <code>List.iter f (rev_explode text)</code></p></dd></dl></section><section><header><h6 id="scanning"><a href="#scanning" class="anchor"></a>Scanning</h6></header><dl><dt class="spec value" id="val-for_all"><a href="#val-for_all" class="anchor"></a><code><span class="keyword">val</span> for_all : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>for_all f text</code> returns whether all characters of <code>text</code> verify the predicate <code>f</code></p></dd></dl><dl><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val</span> exists : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>exists f text</code> returns whether at least one character of <code>text</code> verify <code>f</code></p></dd></dl><dl><dt class="spec value" id="val-count"><a href="#val-count" class="anchor"></a><code><span class="keyword">val</span> count : (<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>count f text</code> returhs the number of characters of <code>text</code> verifying <code>f</code></p></dd></dl></section><section><header><h6 id="splitting"><a href="#splitting" class="anchor"></a>Splitting</h6></header><dl><dt class="spec value" id="val-words"><a href="#val-words" class="anchor"></a><code><span class="keyword">val</span> words : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list</code></dt><dd><p>Returns all words of the given text. Words are sequence of non-space and non-punct characters.</p></dd></dl><dl><dt class="spec value" id="val-lines"><a href="#val-lines" class="anchor"></a><code><span class="keyword">val</span> lines : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list</code></dt><dd><p>Returns all lines of the given text, without end of line characters. Both <code>&quot;\r\n&quot;</code> and <code>&quot;\n&quot;</code> are recognized as end of line delimiters.</p></dd></dl><dl><dt class="spec value" id="val-split"><a href="#val-split" class="anchor"></a><code><span class="keyword">val</span> split : ?&#8288;max:int <span>&#45;&gt;</span> ?&#8288;sep:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list</code></dt><dd><p><code>split ?max ?sep text</code> split <code>text</code> according to <code>sep</code>. If <code>max</code> is specified, returns at most <code>max</code> splits. <code>sep</code> defaults to <code>&quot; &quot;</code>.</p><p>For example:</p><ul><li><code>split ~sep:&quot;/&quot; &quot;a/b/c&quot; = [&quot;a&quot;; &quot;b&quot;; &quot;c&quot;]</code></li><li><code>split ~sep:&quot;..&quot; &quot;a..b..c&quot; = [&quot;a&quot;; &quot;b&quot;; &quot;c&quot;]</code></li><li><code>split ~max:1 &quot;a b c&quot; = [&quot;a b c&quot;]</code></li><li><code>split ~max:2 &quot;a b c&quot; = [&quot;a&quot;; &quot;b c&quot;]</code></li></ul></dd></dl><dl><dt class="spec value" id="val-rev_split"><a href="#val-rev_split" class="anchor"></a><code><span class="keyword">val</span> rev_split : ?&#8288;max:int <span>&#45;&gt;</span> ?&#8288;sep:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list</code></dt><dd><p><code>rev_split ?max text sep</code> split <code>text</code> according to <code>sep</code> in reverse order.</p><p>For example:</p><ul><li><code>split ~sep:&quot;/&quot; &quot;a/b/c&quot; = [&quot;c&quot;; &quot;b&quot;; &quot;a&quot;]</code></li><li><code>split ~max:1 &quot;a b c&quot; = [&quot;a b c&quot;]</code></li><li><code>split ~max:2 &quot;a b c&quot; = [&quot;a b&quot;; &quot;c&quot;]</code></li><li><code>rev_split ~max:2 ~sep:&quot;.&quot; &quot;toto.mli&quot; = [&quot;toto&quot;; &quot;mli&quot;]</code></li></ul></dd></dl><dl><dt class="spec value" id="val-replace"><a href="#val-replace" class="anchor"></a><code><span class="keyword">val</span> replace : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> patt:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> repl:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>replace text ~patt ~repl</code> replace all occurences of <code>patt</code> in <code>text</code> by <code>repl</code>.</p><p>For example:</p><ul><li><code>replace &quot;abcd&quot; ~patt:&quot;b&quot; ~repl:&quot;x&quot; = &quot;axcd&quot;</code></li><li><code>replace &quot;Hello world!&quot; ~patt:&quot;world&quot; ~repl:&quot;you&quot; = &quot;Hello you!&quot;</code></li></ul></dd></dl></section><section><header><h6 id="tests"><a href="#tests" class="anchor"></a>Tests</h6></header><dl><dt class="spec value" id="val-contains"><a href="#val-contains" class="anchor"></a><code><span class="keyword">val</span> contains : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>contains text sub</code> returns whether <code>sub</code> appears in <code>text</code></p></dd></dl><dl><dt class="spec value" id="val-starts_with"><a href="#val-starts_with" class="anchor"></a><code><span class="keyword">val</span> starts_with : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>starts_with text prefix</code> returns <code>true</code> iff <code>s</code> starts with <code>prefix</code>.</p><p>For example:</p><ul><li><code>starts_with &quot;abcd&quot; &quot;ab&quot; = true</code></li><li><code>starts_with &quot;abcd&quot; &quot;af&quot; = false</code></li><li><code>starts_with &quot;ab&quot; &quot;abcd&quot; = false</code></li></ul></dd></dl><dl><dt class="spec value" id="val-ends_with"><a href="#val-ends_with" class="anchor"></a><code><span class="keyword">val</span> ends_with : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>ends_with s suffix</code> returns <code>true</code> iff <code>s</code> ends with <code>suffix</code>.</p><p>For example:</p><ul><li><code>ends_with &quot;abcd&quot; &quot;cd&quot; = true</code></li><li><code>ends_with &quot;abcd&quot; &quot;hd&quot; = false</code></li><li><code>ends_with &quot;ab&quot; &quot;abc&quot; = false</code></li></ul></dd></dl></section><section><header><h6 id="stripping"><a href="#stripping" class="anchor"></a>Stripping</h6></header><dl><dt class="spec value" id="val-strip"><a href="#val-strip" class="anchor"></a><code><span class="keyword">val</span> strip : ?&#8288;chars:<a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>strip ?chars text</code> removes all characters of <code>text</code> which are part of <code>chars</code> at the right and left. <code>chars</code> defaults to whitespaces.</p></dd></dl><dl><dt class="spec value" id="val-rstrip"><a href="#val-rstrip" class="anchor"></a><code><span class="keyword">val</span> rstrip : ?&#8288;chars:<a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rstrip ?chars text</code> removes all characters of <code>text</code> which are part of <code>chars</code> at the right.</p></dd></dl><dl><dt class="spec value" id="val-lstrip"><a href="#val-lstrip" class="anchor"></a><code><span class="keyword">val</span> lstrip : ?&#8288;chars:<a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>lstrip ?chars text</code> removes all characters of <code>text</code> which are part of <code>chars</code> at the left.</p></dd></dl><dl><dt class="spec value" id="val-rchop"><a href="#val-rchop" class="anchor"></a><code><span class="keyword">val</span> rchop : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rchop t</code> returns <code>t</code> without is last character. Returns <code>&quot;&quot;</code> if <code>t = &quot;&quot;</code>.</p></dd></dl><dl><dt class="spec value" id="val-lchop"><a href="#val-lchop" class="anchor"></a><code><span class="keyword">val</span> lchop : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>lchop t</code> returns <code>t</code> without is first character. Returns <code>&quot;&quot;</code> if <code>t = &quot;&quot;</code></p></dd></dl></section><section><header><h6 id="pointers"><a href="#pointers" class="anchor"></a>Pointers</h6></header><aside><p>Since characters are not encoded by a fixed number of bytes, accessing them by character position is not efficient. The following functions allow you to iterates in a string in an efficient way.</p></aside><dl><dt class="spec type" id="type-pointer"><a href="#type-pointer" class="anchor"></a><code><span class="keyword">type</span> pointer</code></dt><dd><p>A pointer to a unicode character in a text.</p></dd></dl><dl><dt class="spec value" id="val-pointer_l"><a href="#val-pointer_l" class="anchor"></a><code><span class="keyword">val</span> pointer_l : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a></code></dt><dd><p>Returns a pointer to the left of the given text</p></dd></dl><dl><dt class="spec value" id="val-pointer_r"><a href="#val-pointer_r" class="anchor"></a><code><span class="keyword">val</span> pointer_r : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a></code></dt><dd><p>Returns a pointer to the right of the given text</p></dd></dl><dl><dt class="spec value" id="val-pointer_at"><a href="#val-pointer_at" class="anchor"></a><code><span class="keyword">val</span> pointer_at : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a></code></dt><dd><p><code>pointer_at txt n</code> returns a pointer to the character at position <code>n</code> in <code>txt</code>.</p></dd></dl><dl><dt class="spec value" id="val-next"><a href="#val-next" class="anchor"></a><code><span class="keyword">val</span> next : <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> (<a href="index.html#type-t">t</a> * <a href="index.html#type-pointer">pointer</a>) option</code></dt><dd><p><code>next ptr</code> if <code>ptr</code> is at the end of text, returns <code>None</code>, otherwise, returns <code>Some(ch, ptr')</code> where <code>ch</code> is the character at current position and <code>ptr'</code> is the pointer to the next character of the text.</p></dd></dl><dl><dt class="spec value" id="val-prev"><a href="#val-prev" class="anchor"></a><code><span class="keyword">val</span> prev : <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> (<a href="index.html#type-t">t</a> * <a href="index.html#type-pointer">pointer</a>) option</code></dt><dd><p><code>prev ptr</code> if <code>ptr</code> is at the beginning of text, returns <code>None</code>, otherwise, returns <code>Some(ch, ptr')</code> where <code>ptr'</code> points to the previous character and <code>ch</code> is the character at <code>ptr'</code>.</p></dd></dl><dl><dt class="spec value" id="val-move"><a href="#val-move" class="anchor"></a><code><span class="keyword">val</span> move : int <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a></code></dt><dd><p><code>move n ptr</code> moves <code>ptr</code> by <code>n</code> unicode characters. If <code>n &lt; 0</code> then <code>ptr</code> is moved to the left. Raises <code>Invalid_argument</code> if the result is outside the text.</p></dd></dl><dl><dt class="spec value" id="val-chunk"><a href="#val-chunk" class="anchor"></a><code><span class="keyword">val</span> chunk : <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>chunk a b</code> returns the chunk of text between <code>a</code> and <code>b</code>. Raises <code>Invalid_arugment</code> if <code>a</code> or <code>b</code>.</p></dd></dl><dl><dt class="spec value" id="val-offset"><a href="#val-offset" class="anchor"></a><code><span class="keyword">val</span> offset : <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>offset ptr</code> returns the position in bytes of <code>ptr</code></p></dd></dl><dl><dt class="spec value" id="val-position"><a href="#val-position" class="anchor"></a><code><span class="keyword">val</span> position : <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>position ptr</code> returns the position in unicode character of <code>ptr</code></p></dd></dl><dl><dt class="spec value" id="val-equal_at"><a href="#val-equal_at" class="anchor"></a><code><span class="keyword">val</span> equal_at : <a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>equal_at ptr str</code> returns wether <code>ptr</code> points to a substring equal to <code>str</code></p></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : ?&#8288;from:<a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a> option</code></dt><dd><p><code>find ?from text patt</code> returns a pointer to the first occurrence of <code>patt</code> in <code>text</code>.</p></dd></dl><dl><dt class="spec value" id="val-rev_find"><a href="#val-rev_find" class="anchor"></a><code><span class="keyword">val</span> rev_find : ?&#8288;from:<a href="index.html#type-pointer">pointer</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-pointer">pointer</a> option</code></dt><dd><p><code>find ?from text patt</code> returns a pointer to the last occurrence of <code>patt</code> in <code>text</code>.</p></dd></dl></section></div></body></html>