<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>State (vecosek-engine.Vecosek_engine__Tracker.Make.State)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">vecosek-engine</a> &#x00BB; <a href="../../index.html">Vecosek_engine__Tracker</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; State</nav><h1>Module <code>Make.State</code></h1></header><div class="spec module" id="module-Id_map"><a href="#module-Id_map" class="anchor"></a><code><span class="keyword">module</span> <a href="Id_map/index.html">Id_map</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Ticked_action_sequence"><a href="#module-Ticked_action_sequence" class="anchor"></a><code><span class="keyword">module</span> <a href="Ticked_action_sequence/index.html">Ticked_action_sequence</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Handlers_table"><a href="#module-Handlers_table" class="anchor"></a><code><span class="keyword">module</span> <a href="Handlers_table/index.html">Handlers_table</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-track"><a href="#type-track" class="anchor"></a><code><span class="keyword">type</span> track</code><code> = </code><code>{</code><table class="record"><tr id="type-track.name" class="anchored"><td class="def field"><a href="#type-track.name" class="anchor"></a><code>name : string;</code></td></tr><tr id="type-track.active" class="anchored"><td class="def field"><a href="#type-track.active" class="anchor"></a><code><span class="keyword">mutable</span> active : int option;</code></td><td class="doc"><p>The starting tick.</p></td></tr><tr id="type-track.length" class="anchored"><td class="def field"><a href="#type-track.length" class="anchor"></a><code>length : int;</code></td></tr><tr id="type-track.events" class="anchored"><td class="def field"><a href="#type-track.events" class="anchor"></a><code>events : <a href="Ticked_action_sequence/index.html#type-t">Ticked_action_sequence.t</a>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-make_track"><a href="#val-make_track" class="anchor"></a><code><span class="keyword">val</span> make_track : length:int <span>&#45;&gt;</span> name:string <span>&#45;&gt;</span> ?&#8288;active:int <span>&#45;&gt;</span> events:<a href="Ticked_action_sequence/index.html#type-t">Ticked_action_sequence.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-track">track</a></code></dt></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.bpm" class="anchored"><td class="def field"><a href="#type-t.bpm" class="anchor"></a><code><span class="keyword">mutable</span> bpm : int;</code></td></tr><tr id="type-t.ppqn" class="anchored"><td class="def field"><a href="#type-t.ppqn" class="anchor"></a><code><span class="keyword">mutable</span> ppqn : int;</code></td></tr><tr id="type-t.tracks" class="anchored"><td class="def field"><a href="#type-t.tracks" class="anchor"></a><code>tracks : <a href="index.html#type-track">track</a> <a href="Id_map/index.html#type-t">Id_map.t</a>;</code></td></tr><tr id="type-t.handlers" class="anchored"><td class="def field"><a href="#type-t.handlers" class="anchor"></a><code>handlers : <a href="Handlers_table/index.html#type-t">Handlers_table.t</a>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : bpm:int <span>&#45;&gt;</span> ppqn:int <span>&#45;&gt;</span> tracks:<a href="index.html#type-track">track</a> <a href="Id_map/index.html#type-t">Id_map.t</a> <span>&#45;&gt;</span> handlers:<a href="Handlers_table/index.html#type-t">Handlers_table.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-of_scene"><a href="#val-of_scene" class="anchor"></a><code><span class="keyword">val</span> of_scene : <a href="../../../../vecosek-scene/Vecosek_scene/Scene/index.html#type-t">Vecosek_scene.Scene.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-current_tick"><a href="#val-current_tick" class="anchor"></a><code><span class="keyword">val</span> current_tick : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> current_date:float <span>&#45;&gt;</span> previous_date:float <span>&#45;&gt;</span> previous_tick:int <span>&#45;&gt;</span> [&gt; `Tick of int ] * [&gt; `Elapsed of float ] * [&gt; `Pulse of float ]</code></dt><dd><p>Returns the current “tick” by counting how many of them should have happened since the previous iteration.</p><p>It also returns the readjusted “elapsed” time, that accounts for <code>int_of_float</code> imprecisions.</p><p>The <code>pulse_length</code> is just for debug display.</p></dd></dl><dl><dt class="spec value" id="val-interesting_events_at_tick"><a href="#val-interesting_events_at_tick" class="anchor"></a><code><span class="keyword">val</span> interesting_events_at_tick : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> tick:int <span>&#45;&gt;</span> [&gt; `Action of <a href="../../../../vecosek-scene/Vecosek_scene__Scene/Action/index.html#type-t">Vecosek_scene__Scene.Action.t</a> | `Event of <a href="../../../../vecosek-scene/Vecosek_scene/Scene/Event/index.html#type-t">Vecosek_scene.Scene.Event.t</a> ] list list</code></dt><dt class="spec value" id="val-set_track_on_off"><a href="#val-set_track_on_off" class="anchor"></a><code><span class="keyword">val</span> set_track_on_off : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> id:<a href="Id_map/M/index.html#type-key">Id_map.M.key</a> <span>&#45;&gt;</span> int option <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_all_tracks_off"><a href="#val-set_all_tracks_off" class="anchor"></a><code><span class="keyword">val</span> set_all_tracks_off : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-all_active_tracks"><a href="#val-all_active_tracks" class="anchor"></a><code><span class="keyword">val</span> all_active_tracks : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="Id_map/M/index.html#type-key">Id_map.M.key</a> * int) list</code></dt></dl></div></body></html>