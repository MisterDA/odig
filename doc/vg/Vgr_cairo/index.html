<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Vgr_cairo (vg.Vgr_cairo)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">vg</a> &#x00BB; Vgr_cairo</nav><h1>Module <code>Vgr_cairo</code></h1><p>Vg <a href="http://cairographics.org/">Cairo</a> renderer.</p><p><em>v0.9.2 - <a href="UNDEFINED">homepage</a></em></p><nav class="toc"><ul><li><a href="#target">Cairo render targets</a></li><li><a href="#text">Text rendering</a></li><li><a href="#limits">Render warnings and limitations</a></li></ul></nav></header><section><header><h2 id="target"><a href="#target" class="anchor"></a>Cairo render targets</h2></header><dl><dt class="spec value" id="val-target"><a href="#val-target" class="anchor"></a><code><span class="keyword">val </span>target : Cairo.context <span>&#45;&gt;</span> [ `Other ] Vg.Vgr.target</code></dt><dd><p><code>target ctx</code> is a render target for rendering to the Cairo context <code>ctx</code>. Rendering a <span class="xref-unresolved" title="unresolved reference to &quot;Vg.Vgr.renderable&quot;"><span>renderable</span></span> <code>(size, view, i)</code> is done as follows.</p><ol><li>The context's current state is saved using <span class="xref-unresolved" title="unresolved reference to &quot;Cairo.save&quot;"><code>Cairo</code>.save</span>.</li><li>The context's is clipped to <code>Box2.v P2.o size</code>. This box is cleared with <span class="xref-unresolved" title="unresolved reference to &quot;Color.void&quot;"><code>Color</code>.void</span> and the portion <code>view</code> of <code>i</code> is rendered in this box.</li><li>The context's initial state is restored using <span class="xref-unresolved" title="unresolved reference to &quot;Cairo.restore&quot;"><code>Cairo</code>.restore</span></li></ol><p>Nothing else is done to <code>ctx</code>.</p><p><b>Multiple images.</b> Multiple images rendering is supported. For each renderable the above procedure is performed on <code>ctx</code>. If you want to have each renderable on a single page on backends that support it you should handle this between two renderable using Cairo's API.</p></dd></dl><dl><dt class="spec value" id="val-stored_target"><a href="#val-stored_target" class="anchor"></a><code><span class="keyword">val </span>stored_target : [&lt; `Pdf<span class="keyword"> | </span>`Png of Gg.V2.t<span class="keyword"> | </span>`Ps<span class="keyword"> | </span>`Svg ] <span>&#45;&gt;</span> Vg.Vgr.dst_stored Vg.Vgr.target</code></dt><dd><p><code>stored_target fmt</code> is a <code>fmt</code> render target for rendering to the stored destination given to <span class="xref-unresolved" title="unresolved reference to &quot;Vg.Vgr.create&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.Vgr&quot;"><code>Vg</code>.Vgr</span>.create</span>. For <code>`Png</code> the argument specifies the rendering resolution in samples per meters.</p><p><b>Multiple images.</b> Multiple image rendering is supported on <code>`Pdf</code> and <code>`Ps</code> target, each renderable creates a new page of the renderable size. Multiple image rendering is not supported on <code>`Png</code> and <code>`Svg</code> and <code>Invalid_argument</code> is raised by <span class="xref-unresolved" title="unresolved reference to &quot;Vg.Vgr.render&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.Vgr&quot;"><code>Vg</code>.Vgr</span>.render</span> if multiple images are rendered.</p></dd></dl></section><section><header><h2 id="text"><a href="#text" class="anchor"></a>Text rendering</h2><p><b>Warning.</b> The following is subject to change in the future.</p><p>Currently text rendering uses Cairo's font selection mechanism and doesn't support the glyph API.</p><p>Given a glyph cut:</p><p><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I.cut_glyphs&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I&quot;"><code>Vg</code>.I</span>.cut_glyphs</span><code> ~text ~blocks ~advances font glyphs</code></p><p>The <code>blocks</code>, <code>advances</code> and <code>glyphs</code> parameters are ignored. <code>text</code> must be provided and is used to define the text to render. <code>font</code> is used to select the font family.</p><p>The weight is limited to Normal (<code>&lt; `W700</code>) and Bold (<code>&gt;= `W700</code>).</p></header></section><section><header><h2 id="limits"><a href="#limits" class="anchor"></a>Render warnings and limitations</h2><p>The following render warnings are reported.</p><ul><li><code>`Unsupported_cut (`O o, i)</code>, outline area cuts can be performed only on (possibly transformed) <span class="xref-unresolved" title="unresolved reference to &quot;Vg.I.const&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I&quot;"><code>Vg</code>.I</span>.const</span>, <span class="xref-unresolved" title="unresolved reference to &quot;Vg.I.axial&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I&quot;"><code>Vg</code>.I</span>.axial</span> and <span class="xref-unresolved" title="unresolved reference to &quot;Vg.I.radial&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I&quot;"><code>Vg</code>.I</span>.radial</span> images.</li><li><code>`Unsupported_glyph_cut (`O o, i)</code>, outline glyph cuts can be performed only on (untransformed) <span class="xref-unresolved" title="unresolved reference to &quot;Vg.I.const&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I&quot;"><code>Vg</code>.I</span>.const</span>, <span class="xref-unresolved" title="unresolved reference to &quot;Vg.I.axial&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I&quot;"><code>Vg</code>.I</span>.axial</span> and <span class="xref-unresolved" title="unresolved reference to &quot;Vg.I.radial&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Vg.I&quot;"><code>Vg</code>.I</span>.radial</span> images.</li><li><code>`Textless_glyph_cut i</code> if no <code>text</code> argument is specified in a glyph cut.</li></ul><p>The following limitations should be taken into account.</p><ul><li>In Cairo, the gradient color interpolation is performed in (non-linear) sRGB space. This doesn't respect Vg's semantics.</li></ul></header></section></div></body></html>