<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bset (webglue.Wg.Bset)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">webglue</a> &#x00BB; <a href="../index.html">Wg</a> &#x00BB; Bset</nav><h1>Module <code>Wg.Bset</code></h1><p>Sets of bindings.</p><p>A set of bindings binds keys to values. A key is an atom, the atom's dictionary is not relevant in key comparisons. A bound value is a sequence of s-expressions and an associated dictionary. The set of of bindings itself also has an associated dictionary.</p><nav class="toc"><ul><li><a href="#amapkeys">Keys</a></li><li><a href="#bs">Sets of bindings</a></li><li><a href="#sexp">Sets of bindings as s-expressions</a></li></ul></nav></header><section><header><h2 id="amapkeys"><a href="#amapkeys" class="anchor"></a>Keys</h2></header><dl><dt class="spec type" id="type-key"><a href="#type-key" class="anchor"></a><code><span class="keyword">type </span>key</code><code><span class="keyword"> = </span><a href="../index.html#type-atom">atom</a></code></dt><dd><p>The type for binding keys.</p></dd></dl><dl><dt class="spec value" id="val-key"><a href="#val-key" class="anchor"></a><code><span class="keyword">val </span>key : ?&#8288;d:<a href="../Dict/index.html#type-t">Dict.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-key">key</a></code></dt><dd><p><code>key d a</code> is <code>Se.atom d a</code>.</p></dd></dl><dl><dt class="spec module" id="module-Key"><a href="#module-Key" class="anchor"></a><code><span class="keyword">module </span><a href="Key/index.html">Key</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Standard keys.</p></dd></dl></section><section><header><h2 id="bs"><a href="#bs" class="anchor"></a>Sets of bindings</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code></dt><dd><p>The type for sets of bindings.</p></dd></dl><dl><dt class="spec value" id="val-dict"><a href="#val-dict" class="anchor"></a><code><span class="keyword">val </span>dict : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-dict">dict</a></code></dt><dd><p><code>dict bs</code> is the set's dictionnary.</p></dd></dl><dl><dt class="spec value" id="val-with_dict"><a href="#val-with_dict" class="anchor"></a><code><span class="keyword">val </span>with_dict : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-dict">dict</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>with_dict bs d</code> is <code>bs</code> with <code>dict bs = d</code>.</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val </span>empty : <a href="../index.html#type-dict">dict</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>empty</code> is an empty set of bindings.</p></dd></dl><dl><dt class="spec value" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span class="keyword">val </span>is_empty : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_empty bs</code> is <code>true</code> iff <code>bs</code> is empty.</p></dd></dl><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val </span>add : ?&#8288;d:<a href="../index.html#type-dict">dict</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>add d bs k v</code> is <code>bs</code> but with <code>k</code> bound to <code>v</code>, the binding is annotated by <code>d</code> (defaults to <code>Dict.empty</code>).</p></dd></dl><dl><dt class="spec value" id="val-rem"><a href="#val-rem" class="anchor"></a><code><span class="keyword">val </span>rem : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>rem bs k</code> is <code>bs</code> but with <code>k</code> unbound.</p></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val </span>find : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> (<a href="../index.html#type-se">se</a> list<span class="keyword"> * </span><a href="../index.html#type-dict">dict</a>) option</code></dt><dd><p><code>find bs k</code> is the value bound to <code>k</code>, if any.</p></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val </span>get : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list<span class="keyword"> * </span><a href="../index.html#type-dict">dict</a></code></dt><dd><p><code>get bs k</code> is the value bound to <code>k</code>. <b>Raises.</b> <code>Invalid_argument</code> if <code>k</code> isnot bound in <code>bs</code>.</p></dd></dl><dl><dt class="spec value" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val </span>mem : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>mem bs k</code> is <code>true</code> iff <code>k</code> is bound in <code>bs</code>.</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : (<a href="../index.html#type-se">se</a> list <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>map f bs</code> is <code>bs</code> but with the value of its bindings transformed by <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-mapi"><a href="#val-mapi" class="anchor"></a><code><span class="keyword">val </span>mapi : (<a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list <span>&#45;&gt;</span> <a href="../index.html#type-dict">dict</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>mapi f bs</code> is like <a href="index.html#val-map"><code>map</code></a> but the keys are also given to <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val </span>fold : (<span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list <span>&#45;&gt;</span> <a href="../index.html#type-dict">dict</a> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>fold f acc bs</code> is <code>(f (</code> ... <code>(f (f acc k1 v1 a1) k2 v2 a2)</code> ... <code>)
      kn vn an)</code> where <code>(ki,vi)</code> are <code>bs</code>'s bindings and <code>ai</code> the binding annotations.</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val </span>iter : (<a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list <span>&#45;&gt;</span> <a href="../index.html#type-dict">dict</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter f bs</code> applies <code>f</code> to all bindings of <code>bs</code> in increasing order of the keys.</p></dd></dl><dl><dt class="spec value" id="val-keys"><a href="#val-keys" class="anchor"></a><code><span class="keyword">val </span>keys : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-key">key</a> list</code></dt><dd><p><code>keys bs</code> is the list of keys bound in <code>bs</code>.</p></dd></dl><dl><dt class="spec value" id="val-values"><a href="#val-values" class="anchor"></a><code><span class="keyword">val </span>values : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> list list</code></dt><dd><p><code>value bs</code> is the list of values bound in <code>bs</code>.</p></dd></dl></section><section><header><h2 id="sexp"><a href="#sexp" class="anchor"></a>Sets of bindings as s-expressions</h2></header><dl><dt class="spec value" id="val-p_bindings"><a href="#val-p_bindings" class="anchor"></a><code><span class="keyword">val </span>p_bindings : robust:bool <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../Se/index.html#type-parser">Se.parser</a></code></dt><dd><p><code>of_bindings robust</code> parses a (possibly empty) list of bindings as a set of bindings. If <code>robust</code> is <code>true</code>, the parser doesn't fail if a binding fails.</p><p>A binding is a list (k ...) that starts with an atom defining the <em>key</em>, followed by zero ore more s-expressions defining the <em>value</em>.</p></dd></dl><dl><dt class="spec value" id="val-to_bindings"><a href="#val-to_bindings" class="anchor"></a><code><span class="keyword">val </span>to_bindings : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a></code></dt><dd><p><code>to_bindings bs</code> is <code>bs</code> as an s-expression list of bindings.</p></dd></dl></section></div></body></html>