<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>SeXML (webglue.Wg.SeXML)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">webglue</a> &#x00BB; <a href="../index.html">Wg</a> &#x00BB; SeXML</nav><h1>Module <code>Wg.SeXML</code></h1><p>S-expressions as XML or HTML data.</p><p>Outputs UTF-8 encoded XML data from s-expressions according to <a href="#seasxml">this interpetation</a>.</p><nav class="toc"><ul><li><a href="#xml-output">XML output</a></li><li><a href="#seasxml">s-expressions as XML data</a><ul><li><a href="#el">Elements</a></li><li><a href="#att">Attributes</a></li><li><a href="#data">Attribute and character data</a></li></ul></li></ul></nav></header><section><header><h2 id="xml-output"><a href="#xml-output" class="anchor"></a>XML output</h2></header><dl><dt class="spec value" id="val-output_decl"><a href="#val-output_decl" class="anchor"></a><code><span class="keyword">val </span>output_decl : <a href="../Out/index.html#type-output">Out.output</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>output_decl o</code> writes an <a href="http://www.w3.org/TR/REC-xml/#NT-XMLDecl">XML declaration</a> on <code>o</code>.</p></dd></dl><dl><dt class="spec value" id="val-output"><a href="#val-output" class="anchor"></a><code><span class="keyword">val </span>output : ?&#8288;html:bool <span>&#45;&gt;</span> <a href="../Out/index.html#type-output">Out.output</a> <span>&#45;&gt;</span> <a href="../index.html#type-se">se</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>output html o s</code> outputs the XML interpretation of <code>s</code> on <code>o</code>. If <code>html</code> is <code>true</code>, html markup is generated.</p></dd></dl></section><section><header><h2 id="seasxml"><a href="#seasxml" class="anchor"></a>s-expressions as XML data</h2><p>XML documents are trees, so are s-expressions. The following interpretation of s-expressions as XML documents is just an alternate <em>syntax</em> for specifying XML data. Checking the validity of generated data or specifying XML's abstract syntax tree precisely is a non-goal.</p></header><section><header><h3 id="el"><a href="#el" class="anchor"></a>Elements</h3><p>An s-expression list starting with an atom is an XML element. The first atom is the name of the element and the rest of the list, its children.</p><p>A single space character (<code>U+0020</code>) is automatically inserted <em>between</em> the children of the list. This space can be removed by placing the special atom <code>@</code> between two children. If <code>@</code> is the first child, last child or on the right of another <code>@</code> atom it is ignored.</p><p>Examples :</p><pre>(p This (em paragraph) is, perhaps, too short.)
==&gt; &lt;p&gt;This &lt;em&gt;paragraph&lt;/em&gt; is, perhaps, too short.&lt;/p&gt;

(p Adding a    single space is &quot;&quot; possible.)
==&gt; &lt;p&gt;Adding a single space is  possible.&lt;/p&gt;

(p But space, can be (em problematic).)
==&gt; &lt;p&gt;But space, can be &lt;em&gt;problematic&lt;/em&gt; .&lt;/p&gt;

(p However not so (em problematic) @ .)
==&gt; &lt;p&gt;However not so &lt;em&gt;problematic&lt;/em&gt;.&lt;/p&gt;

(p @ Wh @ at's th @ @ at ? @)
==&gt; &lt;p&gt;What's that ?&lt;/p&gt;

(p How do I write a lone @@ ?)
==&gt; &lt;p&gt;How do I write a lone @ ?&lt;/p&gt;</pre></header></section><section><header><h3 id="att"><a href="#att" class="anchor"></a>Attributes</h3><p>The attributes of an element can be specified by an @-list. An @-list starts with the atom <code>@</code> and is made of lists of atoms. In these lists the first atom is the name of the attribute and the rest of the list the attribute data. In the attribute data, a single space character (<code>U+0020</code>) is automatically added between the members of the list and like for element children it can be suppressed with <code>@</code> atoms.</p><p>In an element s-expression, the @-list must immediately follow the atom specifying the element name (this cannot be confused with a child element since @ is not a valid XML element name). Any other occurence of an @-list will be treated like an element s-expression (and will thus generate invalid XML).</p><p>Examples :</p><pre>(p Click the (a (@ (href http://www.example.org)) link) element.)
==&gt; &lt;p&gt;Click the &lt;a href=&quot;http://www.example.org&quot;&gt;link&lt;/a&gt; element.&lt;/p&gt;

(p (@ (id bla) (class intro ex @ ample))
   This has id and classes.)
==&gt; &lt;p id=&quot;bla&quot; class=&quot;intro example&quot;&gt;This has id and classes.&lt;/p&gt;</pre></header></section><section><header><h3 id="data"><a href="#data" class="anchor"></a>Attribute and character data</h3><p>Atoms that are not the first element of a list represent attribute and character data. In these atoms, the markup delimiters <code>'&lt;'</code>, <code>'&gt;'</code>, and <code>'&quot;'</code> are automatically escaped to entities on output.</p><p>Examples:</p><pre>(p Cannot &quot;\&quot;insert\&quot;&quot; &lt;markup/&gt; with atoms)
==&gt; &lt;p&gt;Cannot &amp;quot;insert&amp;quot; &amp;lt;markup/&amp;gt; with atoms&lt;/p&gt;

(hr (@ (class thick &quot;\&quot;quoted\&quot;&quot; &lt;markup/&gt;)))
==&gt; &lt;hr class=&quot;thick &amp;quot;quoted&amp;quot; &amp;lt;markup/&amp;gt;&quot;/&gt;</pre></header></section></section></div></body></html>